(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{359:function(e,t,a){},441:function(e,t,a){"use strict";var n=a(325),c=a.n(n),l=a(1),o=a.n(l),i=a(348),s=a(332),r=a(21),m=a(328),u=a(14);t.a=function(e){var t,a=e.handler,n=e.data,d=e.onCancel,p=e.errors,b=Object(u.b)().t,f=[{label:"".concat(b("text.on")),value:"ON"},{label:"".concat(b("text.off")),value:"OFF"},{label:"".concat(b("text.switching")),value:"SWITCH"}],E=Object(l.useState)(null),v=c()(E,2),x=v[0],h=v[1],N=Object(l.useState)(""),y=c()(N,2),g=y[0],O=y[1],j=Object(l.useState)(!1),A=c()(j,2),k=A[0],w=A[1],S=Object(l.useState)(null),C=c()(S,2),M=C[0],D=C[1],q=Object(l.useState)(!1),F=c()(q,2),T=F[0],B=F[1],L=Object(l.useState)(null),I=c()(L,2),R=I[0],G=I[1];Object(l.useEffect)((function(){K()}),[]);var K=function(){Object(m.r)().then((function(e){G(U(e))})).catch((function(e){return console.log(e)}))},U=function(e){return e.filter((function(e){var t;return e.id===(null==n||null===(t=n.actuator)||void 0===t?void 0:t.id)||!0!==e.manual_selected})).map((function(e){return{label:"".concat(e.title," - ").concat(null==e?void 0:e.part_number),value:null==e?void 0:e.id}}))};Object(l.useEffect)((function(){B(!(!x||""===g||!(!k&&null===M||k&&null!==M||!k&&null!==M)))}),[x,g,k,M]),Object(l.useEffect)((function(){var e,t;n&&(O(n.title),w(null==n||null===(e=n.alarm)||void 0===e?void 0:e.following),D(null!==(t=n.alarm)&&void 0!==t&&t.condition?f.find((function(e){var t;return e.value===(null===(t=n.alarm)||void 0===t?void 0:t.condition)})):null))}),[n]),Object(l.useEffect)((function(){n&&h(null==R?void 0:R.find((function(e){var t;return e.value===(null===(t=n.actuator)||void 0===t?void 0:t.id)})))}),[R]),Object(l.useEffect)((function(){n||O(null==x?void 0:x.label.split("-")[0].trim())}),[x]);return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-12 col-sm-12 mt-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"required"},b("text.Relayselection")),o.a.createElement(i.a,{className:"autoCompeletSelect ".concat(p&&null!=p&&p.actuator?"border-error":""),value:x,onChange:h,options:R,mobileMode:!0,placeholder:b("text.Select")}),p&&null!=p&&p.actuator?o.a.createElement("p",{className:"error-field"},null==p||null===(t=p.actuator)||void 0===t?void 0:t.non_field_errors[0]):null)),o.a.createElement("div",{className:"col-lg-12 col-sm-12 mt-4"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"required"},b("text.automationname")),o.a.createElement("input",{type:"text",value:g,onChange:function(e){return O(e.target.value)},className:"form-control pr-3 ".concat(p&&null!=p&&p.title?"border-error":""),placeholder:b("text.Choosedesirednamerelay")}),p&&null!=p&&p.title?o.a.createElement("p",{className:"error-field"},null==p?void 0:p.title[0]):null)),o.a.createElement("div",{className:"col-lg-12 col-sm-12 mt-4"},o.a.createElement("div",{className:"col-12 ".concat(r.isMobile?"pt-3 pb-4":"pt-3")},o.a.createElement("div",{className:"row ".concat(r.isMobile?"justify-content-between":"pl-2")},o.a.createElement("label",{className:"container-checkbox d-flex align-items-center mb-0"},o.a.createElement("input",{type:"checkbox",name:"automation",checked:k,onChange:function(e){return w(e.target.checked)}}),o.a.createElement("span",{className:"checkmark"}),o.a.createElement("span",{className:"radio-text text-wrap"},b("text.Analarmactivatedduringrelayoperation"))),o.a.createElement("div",{className:"px-0 ".concat(r.isMobile?"col-12 mt-3":"")},o.a.createElement(i.a,{className:"autoCompeletSelect pl-0 ".concat(k?"":"disabled"),value:M,onChange:D,options:f,mobileMode:!0,placeholder:b("text.Select")}))))),o.a.createElement("div",{className:"col-12 d-flex mt-5 ".concat(r.isMobile?"position-absolute btn-bottom-form":"")},o.a.createElement(s.a,{className:"button btn-primary-fill mt-4 p-2 d-flex align-items-center justify-content-center ".concat(r.isMobile?"width-65":"w-50"," ").concat(T?"":"disabled"),handler:function(){var e={title:g,lock:!n||(null==n?void 0:n.lock),actuator:{id:x.value},active:!n||(null==n?void 0:n.active),alarm:{condition:k&&M?null==M?void 0:M.value:null,set_point:null,following:k}};a(e)}},o.a.createElement("span",{className:"p-1"},b("text.confirm"))),o.a.createElement(s.a,{className:"button btn-primary-fill-outline mt-4 mr-3 d-flex align-items-center justify-content-center ".concat(r.isMobile?"width-35":"w-50"),handler:d},o.a.createElement("span",null,b("text.cancel")))))}},835:function(e,t,a){"use strict";a.r(t);var n=a(325),c=a.n(n),l=a(1),o=a.n(l),i=a(21),s=a(15),r=a.n(s),m=a(332),u=a(4),d=a(39),p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAB5klEQVR4Xu2Z722DMBDFGaEjdIRsABt0hGSDjFC+RFEwCiNkhIyQURghI7R3KqDTyz/jh3Fb8ZNOUWLfe3c2H2ySZQv/BOdcUdf1Vj4/n4XO2e/3BeYnoSzLt8PhUEph16qqvkZGK42UqoG6syAFrLSIO4WNDW3kHfWjIqarO6uu30/4yGDInLPsWou5u91uhT5R0NXSVbPmUtAa571CdDbQSDvL46Sr3JtqAcz2ay40ccI5k9Kt/rD18kh84JyxiEZhNaPughhsjNkFx0ORJi5Gd4vjkyHi5xhGqmV04z1GsFI5jocCj9FkO3vD0sADlgZ8WRp4wNKAD51Ja4xeHtx8Q7V63e54UqB/MO628LmCb6QrHoVnDaqJ6vbY3OD2Tx3qgcdsrMsLZ1afPTaPpTv1DhemoF3Q1TANNDgeG/Fven+tBcdfYhsIEiCh/WkBEtqfFiCh/WkBEtqfFiCh/WmB7OcOXdf1Gn/3gfZnBbT4Pj+kCdafFkidTwukzqcFUufTAqnzaYHU+bRA6nxaQF+f9/khr99Zf14gG/4DGF28QvvTAiS0vxX4qxcae6G/JrhStsY/xzle4OV6rku9M38gag1YlzfuF7xWqUJXv0ebgJ2YJTpPrnjL8XjMcbtjxaSFL0TmG6kN11vn0k74AAAAAElFTkSuQmCC",b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAB80lEQVR4Xu2Z3U3DMBSF+4iUpOoIHYEXVJcXsgEjwAaMABvwiESVeARG6CgZoSNAbpwW57SijY9/FNRPuqoqx+f6+trxT2azK/8EpfNypbOX9vf1L+ufKbF+Ekq9WKhq/raqi52qi++R1khd0UDdKNx9ZreqnjcnGjbWGvVxs0T9oEjjsde7/1WmccigrariCwOXuqKJfoKg9GJpN8AEkj3hc+dQVfEMgTRRhpPShfaVfuyMNiiNz3jFOPxN/X1dPOIzY1GbvLQ1g2bBpH3vLN9iuSut3navK69ZLPfGWssE9O+oWxsOwygLN4za8X/oqXWdP2C5K7KwhcjsEeECsOZWyIkcKgBBJrMMpbCTOGAAUbgGkJpJB2BedcNlHzdqHq1E/86IGO4eI1lD71DNnv9IOK5tiGzgtnmt8/cT6fZqnQ/YZmO7LkINlndu2zwWWZkHByaXLHQ90gtIr2B5aEwm+gDatmD5WewAnARIaP+0AAntnxYgof3TAiS0f1qAhPZPC7SYM/T4KxeB9s8KDC8AxgfB+qcFUtenBVLXpwVS16cFUtenBVLXpwVS16cFJv8aFSa9kLHQ/u0b42keaKwPD93xLvKR0j4XO99B4eE61qEePiA22K6Lwc8/KczT3VCaiy3noXMKEcN0hzKvDb8SmB9PQ+iwBNLkJwAAAABJRU5ErkJggg==",f=a(45),E=a(46),v=a(328),x=a(441),h=a(337),N=a.n(h),y=a(354),g=(a(359),function(e){var t=e.display;return o.a.createElement("div",{className:"loading-automation ".concat(t)},o.a.createElement("span",{className:"loading-indicator"}),o.a.createElement("span",{className:"loading-indicator"}),o.a.createElement("span",{className:"loading-indicator"}),o.a.createElement("span",{className:"loading-indicator"}))}),O=a(48),j=a(14);N.a.setAppElement("#root");var A={content:{height:"max-content",overflowY:"auto"}},k=function(e){var t=e.automationType,a=e.handleShowAutomation,n=Object(u.g)(),s=Object(l.useState)([]),h=c()(s,2),k=h[0],w=h[1],S=Object(l.useState)(!1),C=c()(S,2),M=C[0],D=C[1],q=Object(l.useState)(!1),F=c()(q,2),T=F[0],B=F[1],L=Object(l.useState)(null),I=c()(L,2),R=I[0],G=I[1],K=Object(l.useState)(null),U=c()(K,2),P=U[0],W=U[1],J=Object(l.useState)(!1),X=c()(J,2),Y=X[0],V=X[1],z=Object(l.useState)([]),Z=c()(z,2),H=Z[0],Q=Z[1],_=Object(l.useState)(null),$=c()(_,2),ee=$[0],te=$[1];Object(l.useEffect)((function(){ae()}),[]),Object(l.useEffect)((function(){var e=new WebSocket("wss://viranique.com/ws/automation/".concat(localStorage.getItem("token"),"/"));return e.onopen=function(){e.addEventListener("message",(function(e){var t=JSON.parse(e.data);if("STARTED"===t.status&&Q((function(e){return[].concat(r()(e),[t])})),"FAILED"===t.status||"SUCCEED"===t.status){var a=H.filter((function(e){return e.id!==t.id}));Q(a),ae(),"SUCCEED"===t.status?alert.show("".concat(se("text.automationwassuccessfullyexecuted")),{type:"success"}):"FAILED"===t.status&&alert.show("".concat(se("text.Automationexecutionfailed")),{type:"error"})}}))},function(){e.close()}}),[]);var ae=function(){V(!0),Object(v.t)().then((function(e){w(e),V(!1)})).catch((function(e){console.log(e),V(!1)}))},ne=function(e){if("manual"===t)if(e.lock){Object(v.hb)({lock:!1},e.id).then((function(){ae()})).catch((function(e){return console.log(e)}))}else{Object(v.hb)({lock:!0},e.id).then((function(){ae()})).catch((function(e){return console.log(e)}))}else a({isOpen:!0,type:"".concat(se("text.Manual"))})},ce=function(e,n){if("manual"===t)if(n.active){Object(v.hb)({active:!1},n.id).catch((function(e){return console.log(e)}))}else{Object(v.hb)({active:!0},n.id).catch((function(e){return console.log(e)}))}else a({isOpen:!0,type:"".concat(se("text.Manual"))})},le=function(){D(!1),W(null),te(null)},oe=function(e,n){"manual"===t?Object(y.confirmAlert)({customUI:function(t){var a=t.onClose;return o.a.createElement("div",{className:"card card-box"},o.a.createElement("p",{className:"text-dark text-center ".concat(i.isMobile?"mt-3":"")},se("text.Areyousuretodeleteautomation"),"(",n,")"),o.a.createElement("div",{className:"d-flex mt-4 justify-content-center"},o.a.createElement("button",{className:"button btn-primary-fill-outline py-2 px-3 col-6 mx-2 btn-primary-border text-primary bold",onClick:function(){!function(e){Object(v.h)(e).then((function(e){ae()})).catch((function(e){return console.log(e)}))}(e),a()}},o.a.createElement("span",{className:"py-1 px-3"},se("text.Iamsure"))),o.a.createElement("button",{className:"button btn-primary-fill py-2 px-4 col-6 mr-2 bold",onClick:a},o.a.createElement("span",{className:"py-1 px-3"},se("text.cancel")))))},overlayClassName:"overlay-custom-confirm-modal"}):a({isOpen:!0,type:"".concat(se("text.Manual"))})},ie=function(){"manual"!==t||i.isMobile?"manual"===t&&i.isMobile?n.push("/Panel/Dashboard/Control/AddActuatorManual"):a({isOpen:!0,type:"".concat(se("text.Manual"))}):D((function(e){return!e}))},se=Object(j.b)().t;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row overflow-auto mx--30px px-15px pt-15px mt--30px ".concat(i.isMobile?"height-automation-custom-mobile":"height-automation-custom")},o.a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 px-0"},o.a.createElement("div",{className:"".concat(i.isMobile?"":"card p-2")},Y&&o.a.createElement(O.a,null),!i.isMobile&&o.a.createElement("div",{className:"table-custom"},o.a.createElement("div",{className:"table-custom-header"},o.a.createElement("span",{className:"table-custom-header-title"},se("text.Statusname")),o.a.createElement("span",{className:"table-custom-header-action"},se("text.activity")),o.a.createElement("span",{className:"table-custom-header-action"},se("text.operations"))),o.a.createElement("div",{className:"table-custom-body"},k.length>0&&k.map((function(e){var n;return o.a.createElement("div",{className:"table-custom-body-row",key:null==e?void 0:e.id},o.a.createElement("span",{className:"table-custom-body-title overflow-hidden text-nowrap text-truncate"},o.a.createElement("i",{className:"icon icon-24-38 ml-2 icon-".concat(null!=e&&null!==(n=e.actuator)&&void 0!==n&&n.is_online?"connected":"disconnected")}),e.title),o.a.createElement("div",{className:"table-custom-body-action"},o.a.createElement(g,{display:"".concat(null!=H&&H.some((function(t){return t.id===e.id}))?"visibility":"invisible ")}),o.a.createElement("label",{className:"switch mx-3 ".concat(e.lock?"disabled":""," ").concat(null!=H&&H.some((function(t){return t.id===e.id}))?"disabled":"")},o.a.createElement("input",{type:"checkbox",checked:e.active,onChange:function(t){return ce(0,e)}}),o.a.createElement("span",{className:"slider round"})),o.a.createElement("div",{className:"mx-3 cursor-pointer",key:e.id+101,onClick:function(){return ne(e)},target:"_new"},o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement("img",{src:e.lock?p:b,width:24,title:e.lock?"".concat(se("text.Lock")):"".concat(se("text.open"))})))),o.a.createElement("div",{className:"table-custom-body-action"},o.a.createElement("div",{className:"mx-3 cursor-pointer",key:e.id+102,onClick:function(){return n=e.id,void("manual"===t?Object(v.Z)(n).then((function(e){W(e),D(!0)})).catch((function(e){return console.log(e)})):a({isOpen:!0,type:"".concat(se("text.Manual"))}));var n},target:"_new"},o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement("img",{src:f.a,width:24,title:"".concat(se("text.edit"))}))),o.a.createElement("div",{className:"mx-3 cursor-pointer",key:e.id+103,onClick:function(){return oe(e.id,e.title)},target:"_new"},o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement("img",{src:E.a,width:24,title:"".concat(se("text.delete"))})))))})))),i.isMobile&&k.length>0&&k.map((function(e,n){var c;return o.a.createElement("div",{key:e.id,className:"card py-2 pr-12px pl-2 ".concat(0!==n?"mt-12px":"")},o.a.createElement("div",{className:"d-flex justify-content-between align-items-center py-1"},o.a.createElement("div",{className:"text-dark overflow-hidden text-nowrap text-truncate basis-40"},o.a.createElement("i",{className:"icon icon-24-38 icon-".concat(null!=e&&null!==(c=e.actuator)&&void 0!==c&&c.is_online?"connected":"disconnected"," ml-2")}),e.title),o.a.createElement("div",{className:"mr-auto ml-3"},o.a.createElement(g,{display:"".concat(null!=H&&H.some((function(t){return t.id===e.id}))?"visibility":"invisible ")})),o.a.createElement("label",{className:"switch ml-12px ".concat(e.lock?"disabled":""," ").concat(null!=H&&H.some((function(t){return t.id===e.id}))?"disabled":"")},o.a.createElement("input",{type:"checkbox",checked:e.active,onChange:function(t){return ce(0,e)}}),o.a.createElement("span",{className:"slider round"})),o.a.createElement("div",{className:""},o.a.createElement("i",{className:"icon icon-24 icon-more-vertical",onClick:function(){return n=e,void("manual"===t?(G(n),B(!0)):a({isOpen:!0,type:"".concat(se("text.Manual"))}));var n}}))))})),0!==k.length||Y?null:o.a.createElement("p",{className:"text-center mt-4 mb-0"}," ",se("text.Thereisnoinformationdisplay")),!i.isMobile&&o.a.createElement("div",{className:"mt-3 mb-2"},o.a.createElement(m.a,{className:"button btn-primary-fill p-2 height-auto",handler:ie},o.a.createElement("i",{className:"icon icon-24 icon-plus"}))))),i.isMobile&&o.a.createElement("div",{className:"mt-3 align-self-end"},o.a.createElement(m.a,{className:"button btn-primary-fill p-2 height-auto",handler:ie},o.a.createElement("i",{className:"icon icon-24 icon-plus"})))),o.a.createElement(N.a,{isOpen:M,className:"modal-user",onRequestClose:le,shouldCloseOnOverlayClick:!0,style:A},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"py-2 border-bottom px-5"},o.a.createElement("p",{className:"text-center text-dark bold font-size-18"},se("text.Manualautomation")))),o.a.createElement(x.a,{handler:function(e){"manual"===t?(te(null),P?Object(v.hb)(e,P.id).then((function(){ae(),D(!1),W(null)})).catch((function(e){var t;return te(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.error)||void 0===t?void 0:t.details)})):Object(v.e)(e).then((function(){ae(),D(!1)})).catch((function(e){var t;return te(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.error)||void 0===t?void 0:t.details)}))):a({isOpen:!0,type:"".concat(se("text.Manual"))})},data:P,onCancel:le,errors:ee})),i.isMobile&&o.a.createElement(N.a,{isOpen:T,onRequestClose:function(){return B(!1)},className:"action-modal"},o.a.createElement("div",{className:"row justify-content-end position-relative"},o.a.createElement("div",{className:"position-absolute btn-close"},o.a.createElement("i",{className:"icon icon-24 icon-close",onClick:function(){return B(!1)}}))),o.a.createElement("div",{className:"row px-2"},o.a.createElement("div",{className:"col-12 mt-2 px-2 py-2 border-bottom"},o.a.createElement(d.b,{to:"/Panel/Dashboard/Control/AddActuatorManual/".concat(null==R?void 0:R.id),className:"ml-3 cursor-pointer d-flex align-items-center"},o.a.createElement("span",{className:"d-flex justify-content-center py-1"},o.a.createElement("img",{src:f.a,width:20,title:"".concat(se("text.edit"))})),o.a.createElement("span",{className:"mr-2 text-dark"},se("text.edit")))),o.a.createElement("div",{className:"col-12 px-2 py-2 border-bottom"},o.a.createElement("div",{className:"ml-3 cursor-pointer d-flex align-items-center",onClick:function(){ne(R),B(!1)}},o.a.createElement("span",{className:"d-flex justify-content-center py-1"},o.a.createElement("img",{src:null!=R&&R.lock?p:b,width:20,title:"".concat(null!=R&&R.lock?"".concat(se("text.Lock")):"".concat(se("text.open")))})),o.a.createElement("span",{className:"mr-2 text-dark"},null!=R&&R.lock?"".concat(se("text.open")):"".concat(se("text.Lock"))))),o.a.createElement("div",{className:"col-12 px-2 py-2"},o.a.createElement("div",{className:"ml-3 cursor-pointer d-flex align-items-center",onClick:function(){oe(null==R?void 0:R.id,R.title),B(!1)}},o.a.createElement("span",{className:"d-flex justify-content-center py-1"},o.a.createElement("img",{src:E.a,width:20,title:"".concat(se("text.delete"))})),o.a.createElement("span",{className:"mr-2 text-dark"},se("text.delete")," "))))))},w=a(647),S=a(349),C={content:{height:"max-content",overflowY:"auto"}},M=function(e){var t=e.automationType,a=e.handleShowAutomation,n=Object(j.b)().t,s=Object(u.g)(),p=Object(l.useState)([]),b=c()(p,2),x=b[0],h=b[1],A=Object(l.useState)(!1),k=c()(A,2),M=k[0],D=k[1],q=Object(l.useState)(null),F=c()(q,2),T=F[0],B=F[1],L=Object(l.useState)(!1),I=c()(L,2),R=I[0],G=I[1],K=Object(l.useState)(null),U=c()(K,2),P=U[0],W=U[1],J=Object(l.useState)(null),X=c()(J,2),Y=X[0],V=X[1],z=Object(l.useState)(null),Z=c()(z,2),H=Z[0],Q=Z[1],_=Object(l.useState)(!1),$=c()(_,2),ee=$[0],te=$[1],ae=Object(l.useState)([]),ne=c()(ae,2),ce=ne[0],le=ne[1],oe=Object(l.useState)(null),ie=c()(oe,2),se=ie[0],re=ie[1];Object(l.useEffect)((function(){me(),be(),fe()}),[]),Object(l.useEffect)((function(){var e=new WebSocket("wss://viranique.com/ws/automation/".concat(localStorage.getItem("token"),"/"));return console.log(e),e.onopen=function(){e.addEventListener("message",(function(e){var t=JSON.parse(e.data);if("STARTED"===t.status&&le((function(e){return[].concat(r()(e),[t])})),"FAILED"===t.status||"success"===t.status){var a=ce.filter((function(e){return e.id!==t.id}));le(a),me()}}))},function(){e.close()}}),[]);var me=function(){te(!0),Object(v.s)().then((function(e){h(e),te(!1)})).catch((function(e){console.log(e),te(!1)}))},ue=function(e,c){"automatic"===t?Object(y.confirmAlert)({customUI:function(t){var a=t.onClose;return o.a.createElement("div",{className:"card card-box"},o.a.createElement("p",{className:"text-dark text-center ".concat(i.isMobile?"mt-3":"")},n("text.Areyousuretodeleteautomation"),"(",c,")"),o.a.createElement("div",{className:"d-flex mt-4 justify-content-center"},o.a.createElement("button",{className:"button btn-primary-fill-outline py-2 px-3 col-6 mx-2 btn-primary-border text-primary bold",onClick:function(){!function(e){Object(v.g)(e).then((function(){me()})).catch((function(e){console.log(e)}))}(e),a()}},o.a.createElement("span",{className:"py-1 px-3"},n("text.Iamsure"))),o.a.createElement("button",{className:"button btn-primary-fill py-2 px-4 col-6 mr-2 bold",onClick:a},o.a.createElement("span",{className:"py-1 px-3"},n("text.cancel")))))},overlayClassName:"overlay-custom-confirm-modal"}):a({isOpen:!0,type:"".concat(n("text.Automatic"))})},de=function(e,c){if("automatic"===t){var l={active:e.target.checked};Object(v.fb)(l,c.id).catch((function(e){return console.log(e)}))}else a({isOpen:!0,type:"".concat(n("text.Automatic"))})},pe=function(){G(!1),W(null),re(null)},be=function(){Object(v.r)().then((function(e){V(Object(S.a)(e))})).catch((function(e){return console.log(e)}))},fe=function(){Object(v.H)().then((function(e){Q(Object(S.e)(e))})).catch((function(e){return console.log(e)}))},Ee=function(){"automatic"!==t||i.isMobile?"automatic"===t&&i.isMobile?s.push({pathname:"/Panel/Dashboard/Control/AddActuatorAutomatic",state:{actuators:Y,sensors:H}}):a({isOpen:!0,type:"".concat(n("text.Automatic"))}):G((function(e){return!e}))};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row mx--30px px-15px mt--30px pt-15px overflow-auto ".concat(i.isMobile?"height-automation-custom-mobile":"height-automation-custom")},o.a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 px-0"},o.a.createElement("div",{className:"".concat(i.isMobile?"":"card p-2")},ee&&o.a.createElement(O.a,null),!i.isMobile&&o.a.createElement("div",{className:"table-custom"},o.a.createElement("div",{className:"table-custom-header"},o.a.createElement("span",{className:"table-custom-header-title"},n("text.Statusname")),o.a.createElement("span",{className:"table-custom-header-action"},n("text.activity")),o.a.createElement("span",{className:"table-custom-header-action"},n("text.operations"))),o.a.createElement("div",{className:"table-custom-body"},x.length>0&&x.map((function(e){return o.a.createElement("div",{className:"table-custom-body-row",key:null==e?void 0:e.id},o.a.createElement("span",{className:"table-custom-body-title overflow-hidden text-nowrap text-truncate"},e.title),o.a.createElement("div",{className:"table-custom-body-action"},o.a.createElement(g,{display:"".concat(null!=ce&&ce.some((function(t){return t.id===e.id}))?"visibility":"invisible ")}),o.a.createElement("label",{className:"switch mx-3 ".concat(null!=ce&&ce.some((function(t){return t.id===e.id}))?"disabled":"")},o.a.createElement("input",{type:"checkbox",checked:e.active,onChange:function(t){return de(t,e)}}),o.a.createElement("span",{className:"slider round"}))),o.a.createElement("div",{className:"table-custom-body-action"},o.a.createElement("div",{className:"mx-3 cursor-pointer",key:e.id+102,onClick:function(){return function(e){"automatic"===t?Object(v.Y)(e.id).then((function(t){W(t),console.log("res/////////////"),console.log(t),G(!0),B(e)})).catch((function(e){return console.log(e)})):a({isOpen:!0,type:"".concat(n("text.Automatic"))})}(e)},target:"_new"},o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement("img",{src:f.a,width:24,title:"".concat(n("text.edit"))}))),o.a.createElement("div",{className:"mx-3 cursor-pointer",key:e.id+103,onClick:function(){return ue(e.id,e.title)},target:"_new"},o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement("img",{src:E.a,width:24,title:"".concat(n("text.delete"))})))))})))),i.isMobile&&x.length>0&&x.map((function(e,c){return o.a.createElement("div",{key:e.id,className:"card py-2 pr-12px pl-2 ".concat(0!==c?"mt-12px":"")},o.a.createElement("div",{className:"d-flex justify-content-between align-items-center py-1"},o.a.createElement("div",{className:"text-dark basis-40 overflow-hidden text-nowrap text-truncate"},e.title),o.a.createElement("div",{className:"mr-auto ml-3"},o.a.createElement(g,{display:"".concat(null!=ce&&ce.some((function(t){return t.id===e.id}))?"visibility":"invisible ")})),o.a.createElement("label",{className:"switch ml-12px ".concat(null!=ce&&ce.some((function(t){return t.id===e.id}))?"disabled":"")},o.a.createElement("input",{type:"checkbox",checked:e.active,onChange:function(t){return de(t,e)}}),o.a.createElement("span",{className:"slider round"})),o.a.createElement("div",{className:""},o.a.createElement("i",{className:"icon icon-24 icon-more-vertical",onClick:function(){return c=e,void("automatic"===t?(B(c),D(!0)):a({isOpen:!0,type:"".concat(n("text.Automatic"))}));var c}}))))})),0!==x.length||ee?null:o.a.createElement("p",{className:"text-center mt-4 mb-0"}," ",n("text.Thereisnoinformationdisplay")),!i.isMobile&&o.a.createElement("div",{className:"mt-3 mb-2"},o.a.createElement(m.a,{className:"button btn-primary-fill p-2 height-auto",handler:Ee},o.a.createElement("i",{className:"icon icon-24 icon-plus"}))))),i.isMobile&&o.a.createElement("div",{className:"mt-3 align-self-end"},o.a.createElement(m.a,{className:"button btn-primary-fill p-2 height-auto",handler:Ee},o.a.createElement("i",{className:"icon icon-24 icon-plus"})))),o.a.createElement(N.a,{isOpen:R,className:"modal-user",onRequestClose:pe,shouldCloseOnOverlayClick:!0,style:C},o.a.createElement(w.a,{onCancel:pe,actuators:Y,sensors:H,handler:function(e){"automatic"===t?(re(null),P?Object(v.fb)(e,T.id).then((function(e){me(),G(!1)})).catch((function(e){var t;return re(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.error)||void 0===t?void 0:t.details)})):Object(v.d)(e).then((function(e){me(),G(!1)})).catch((function(e){var t;return re(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.error)||void 0===t?void 0:t.details)}))):a({isOpen:!0,type:"".concat(n("text.Automatic"))})},automationData:P,errors:se})),i.isMobile&&o.a.createElement(N.a,{isOpen:M,className:"action-modal"},o.a.createElement("div",{className:"row justify-content-end position-relative"},o.a.createElement("div",{className:"position-absolute btn-close"},o.a.createElement("i",{className:"icon icon-24 icon-close",onClick:function(){return D(!1)}}))),o.a.createElement("div",{className:"row px-2"},o.a.createElement("div",{className:"col-12 mt-2 px-2 py-2 border-bottom"},o.a.createElement(d.b,{to:{pathname:"/Panel/Dashboard/Control/AddActuatorAutomatic/".concat(null==T?void 0:T.id),state:{actuators:Y,sensors:H}},className:"ml-3 cursor-pointer d-flex align-items-center"},o.a.createElement("span",{className:"d-flex justify-content-center py-1"},o.a.createElement("img",{src:f.a,width:20,title:"".concat(n("text.edit"))})),o.a.createElement("span",{className:"mr-2 text-dark"},n("text.edit")))),o.a.createElement("div",{className:"col-12 px-2 py-2"},o.a.createElement("div",{className:"ml-3 cursor-pointer d-flex align-items-center",onClick:function(){ue(null==T?void 0:T.id,null==T?void 0:T.title),D(!1)}},o.a.createElement("span",{className:"d-flex justify-content-center py-1"},o.a.createElement("img",{src:E.a,width:20,title:"".concat(n("text.delete"))})),o.a.createElement("span",{className:"mr-2 text-dark"},n("text.delete")," "))))))},D=function(e){var t=e.automationType,a=e.handleShowAutomation,n=Object(j.b)().t,s=Object(l.useState)([]),r=c()(s,2),m=r[0],u=r[1],d=Object(l.useState)(!1),p=c()(d,2),b=p[0],f=p[1];Object(l.useEffect)((function(){E()}),[]);var E=function(){f(!0),Object(v.u)().then((function(e){u(e),f(!1)})).catch((function(e){console.log(e),f(!1)}))},x=function(e,c){if("smart"===t){var l={active:e.target.checked};Object(v.ib)(l,c.id).then((function(e){E()})).catch((function(e){return console.log(e)}))}else a({isOpen:!0,type:"".concat(n("text.Smart"))})};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row mx--30px px-15px mt--30px pt-15px overflow-auto ".concat(i.isMobile?"height-automation-custom-mobile":"height-automation-custom")},o.a.createElement("div",{className:"col-lg-5 col-md-12 col-sm-12 px-0"},o.a.createElement("div",{className:"".concat(i.isMobile?"":"card p-2")},b&&o.a.createElement(O.a,null),!i.isMobile&&o.a.createElement("div",{className:"table-custom ".concat(b?"pb-5":"")},o.a.createElement("div",{className:"table-custom-header"},o.a.createElement("span",{className:"table-custom-header-title"},n("text.Statusname")),o.a.createElement("span",{className:"table-custom-header-action"},n("text.activity"))),o.a.createElement("div",{className:"table-custom-body"},m.length>0&&m.map((function(e){return o.a.createElement("div",{className:"table-custom-body-row"},o.a.createElement("span",{className:"table-custom-body-title"},e.title),o.a.createElement("div",{className:"table-custom-body-action"},o.a.createElement("label",{className:"switch mx-3 ".concat(e.lock?"disabled":"")},o.a.createElement("input",{type:"checkbox",checked:e.active,onChange:function(t){return x(t,e)}}),o.a.createElement("span",{className:"slider round"}))))})))),i.isMobile&&m.length>0&&m.map((function(e,t){return o.a.createElement("div",{key:e.id,className:"card py-3 pr-3 pl-2 ".concat(0!==t?"mt-12px":"")},o.a.createElement("div",{className:"d-flex justify-content-between align-items-center py-1"},o.a.createElement("div",{className:"text-dark"},e.title),o.a.createElement("label",{className:"switch ml-12px ".concat(e.lock?"disabled":"")},o.a.createElement("input",{type:"checkbox",checked:e.active,onChange:function(t){return x(t,e)}}),o.a.createElement("span",{className:"slider round"}))))})),0!==m.length||b?null:o.a.createElement("p",{className:"text-center mt-4 mb-0"}," ",n("text.Thereisnoinformationdisplay"))))))};N.a.setAppElement("#root");var q={content:{top:"50%",left:"50%",right:"unset",bottom:"unset",transform:"translate(-50%, -50%)"}};t.default=function(){var e=Object(j.b)().t,t=Object(l.useState)("Manual"),a=c()(t,2),n=a[0],s=a[1],r=Object(l.useState)(null),u=c()(r,2),d=u[0],p=u[1],b=Object(l.useState)({isOpen:!1,type:""}),f=c()(b,2),E=f[0],x=f[1];Object(l.useEffect)((function(){y()}),[]);var h=function(e){s(e.target.attributes.datatab.value)},y=function(){Object(v.I)().then((function(e){p(e.automation)})).catch((function(e){return console.log(e)}))};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"control container-fluid ".concat(i.isMobile?"":"mt-3")},o.a.createElement("section",{className:"row card card-box flex-row ".concat(i.isMobile?"py-2":"py-3")},o.a.createElement("div",{className:"control-type cursor-pointer ".concat("Manual"===n?"active text-primary":""),title:i.isMobile?"".concat(e("text.Manual")):"".concat(e("text.Manualautomation")),datatab:"Manual",onClick:h},i.isMobile?"".concat(e("text.Manual")):"".concat(e("text.Manualautomation"))),o.a.createElement("div",{className:"control-type cursor-pointer ".concat("Automatic"===n?"active text-primary":""),title:i.isMobile?"".concat(e("text.Automatic")):"".concat(e("text.Automaticautomation")),datatab:"Automatic",onClick:h},i.isMobile?"".concat(e("text.Automatic")):"".concat(e("text.Automaticautomation"))),o.a.createElement("div",{className:"control-type cursor-pointer ".concat("Smart"===n?"active text-primary":""),title:i.isMobile?"".concat(e("text.Smart")):"".concat(e("text.Smartautomation")),datatab:"Smart",onClick:h},i.isMobile?"".concat(e("text.Smart")):"".concat(e("text.Smartautomation")))),"Manual"===n&&o.a.createElement(k,{automationType:d,handleShowAutomation:x}),"Automatic"===n&&o.a.createElement(M,{automationType:d,handleShowAutomation:x}),"Smart"===n&&o.a.createElement(D,{automationType:d,handleShowAutomation:x})),o.a.createElement(N.a,{isOpen:E.isOpen,onRequestClose:function(){return x({isOpen:!1,type:""})},style:q,contentLabel:"Example Modal"},console.log(E.type),"Manual"===n?o.a.createElement("p",{className:" ".concat(i.isMobile?"pb-3":"pb-0")},e("text.Youautomationsettingssectionmanual")):"Automatic"===n?o.a.createElement("p",{className:" ".concat(i.isMobile?"pb-3":"pb-0")},e("text.Youautomationsettingssectionautomatic")):o.a.createElement("p",{className:" ".concat(i.isMobile?"pb-3":"pb-0")},e("text.Youautomationsettingssectionsmart")),o.a.createElement("p",{className:" pb-4 font-500 mb-0"},e("text.Settings")," > ",e("text.automation")," "),o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement(m.a,{className:"d-flex align-items-center button justify-content-center btn-primary-fill ml-2 w-50",handler:function(){return x({isOpen:!1,type:""})}},o.a.createElement("span",null,e("text.Irealized"))))))}}}]);