(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{353:function(e,t,a){"use strict";var l=a(307),n=a.n(l),i=a(1),c=a.n(i),r=a(324),o=a(309),s=a(325),u=a(313),d=a(17),m=[{value:"small",label:"سایز کوچک 1*1"},{value:"medium",label:"سایز متوسط 1*2"},{value:"large",label:"سایز بزرگ 2*2"}],v=[{value:"5m",label:"5 دقیقه قبل"},{value:"30m",label:"30 دقیقه قبل"},{value:"1h",label:"1 ساعت قبل"},{value:"6h",label:"6 ساعت قبل"},{value:"1d",label:"1 روز قبل"}],p=[{value:1,label:"بدون اعشار"},{value:.1,label:"یک رقم اعشار"}];t.a=function(e){var t,a,l=e.onClose,f=e.onSave,g=e.isLoading,b=e.tile,E=e.errors,h=Object(i.useState)(""),N=n()(h,2),x=N[0],y=N[1],w=Object(i.useState)([]),O=n()(w,2),j=O[0],k=O[1],S=Object(i.useState)([]),A=n()(S,2),z=A[0],C=A[1],D=Object(i.useState)([]),F=n()(D,2),M=F[0],R=F[1],T=Object(i.useState)(m[0]),L=n()(T,2),X=L[0],V=L[1],Y=Object(i.useState)(null),H=n()(Y,2),I=H[0],P=H[1],W=Object(i.useState)(null),G=n()(W,2),U=G[0],_=G[1],J=Object(i.useState)(v[0]),q=n()(J,2),B=q[0],Z=q[1],K=Object(i.useState)(p[0]),Q=n()(K,2),$=Q[0],ee=Q[1],te=Object(i.useState)(null),ae=n()(te,2),le=ae[0],ne=ae[1],ie=Object(i.useState)(!1),ce=n()(ie,2),re=ce[0],oe=ce[1],se=Object(i.useState)(""),ue=n()(se,2),de=ue[0],me=ue[1],ve=Object(i.useState)(!1),pe=n()(ve,2),fe=pe[0],ge=pe[1];Object(i.useEffect)((function(){ge(!!(I&&U&&""!==x&&X))}),[I,U,x,X]);var be=Object(i.useRef)(null);Object(i.useEffect)((function(){Ee()}),[]),Object(i.useEffect)((function(){var e;me(re?null===(e=be.current)||void 0===e?void 0:e.getBoundingClientRect().height:0)}),[re]),Object(i.useEffect)((function(){var e,t,a;null!=I&&null!==(e=I.item)&&void 0!==e&&e.units&&C(Object(s.g)(null==I||null===(a=I.item)||void 0===a?void 0:a.units));"BINARY"===(null==I||null===(t=I.item)||void 0===t?void 0:t.value)&&V(m[0])}),[I]),Object(i.useEffect)((function(){return ne(z[0])}),[z]);var Ee=function(){Object(o.z)().then((function(e){k(Object(s.f)(e))})).catch((function(e){console.log(e)}))};Object(i.useEffect)((function(){_(null),null!=I&&I.value&&Object(o.H)(null==I?void 0:I.value).then((function(e){R(Object(s.e)(e))})).catch((function(e){return console.log(e)}))}),[I]),Object(i.useEffect)((function(){b&&(y(b.title),V((function(){return m.find((function(e){return e.value===b.size}))})),ne((function(){return z.find((function(e){return e.value===b.unit}))})),ee((function(){return p.find((function(e){return e.value===+b.precision}))})),Z((function(){return v.find((function(e){return e.value===b.timeRange}))})),_((function(){return M.find((function(e){return e.value===b.sensor}))})),P((function(){return j.find((function(e){return e.value===b.sensor_type}))})))}),[b,j,M]),Object(i.useEffect)((function(){b||y(null==U?void 0:U.label.split("-")[0].trim())}),[U]);return c.a.createElement("div",{className:"mx--15px px-15px mt--15px pt-15px ".concat(d.isMobile?"height-tile-form-custom overflow-y-auto overflow-x-clip":"")},c.a.createElement("div",{className:"position-relative ".concat(d.isMobile?"card px-1 pt-3":"")},c.a.createElement("div",{className:"row row-gap-2 ".concat(d.isMobile?"px-2":"")},c.a.createElement("div",{className:"col-md-4 col-sm-12"},c.a.createElement("div",{className:"form-group "},c.a.createElement("label",{htmlFor:"selectedSensorType",className:"required"},"نوع سنسور"),c.a.createElement(r.a,{className:"autoCompeletSelect ".concat(E&&null!=E&&E.sensor_type?"border-error":""),value:I,onChange:P,options:j,mobileMode:!0,placeholder:"انتخاب کنید"}),E&&null!=E&&E.sensor_type?c.a.createElement("p",{className:"error-field"},null==E?void 0:E.sensor_type[0]):null)),c.a.createElement("div",{className:"col-md-8 col-sm-12 ".concat(d.isMobile?"mt-2":"")},c.a.createElement("div",{className:"form-group "},c.a.createElement("label",{htmlFor:"selectedSensor",className:"required"},"انتخاب دستگاه"),c.a.createElement(r.a,{className:"autoCompeletSelect ".concat(E&&null!=E&&E.sensor?"border-error":""),value:U,onChange:_,options:M,mobileMode:!0,placeholder:"انتخاب کنید"}),E&&null!=E&&E.sensor?c.a.createElement("p",{className:"error-field"},null==E?void 0:E.sensor[0]):null))),c.a.createElement("div",{className:"row ".concat(d.isMobile?"px-2":"pt-3")},c.a.createElement("div",{className:"col-md-8 col-sm-12 ".concat(d.isMobile?"mt-2":"")},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"title",className:"required"},"نام تایل"),c.a.createElement("input",{className:"form-control px-3 ".concat(E&&null!=E&&E.title?"border-error":""),type:"text",id:"title",name:"title",placeholder:"نام دلخواه برای سنسور انتخاب نمایید",value:x,onChange:function(e){return y(e.target.value)}}),E&&null!=E&&E.title?c.a.createElement("p",{className:"error-field"},null==E?void 0:E.title[0]):null)),c.a.createElement("div",{className:"col-md-4 col-sm-12 ".concat(d.isMobile?"mt-2":"")},c.a.createElement("div",{className:"form-group "},c.a.createElement("label",{htmlFor:"provinceSelected",className:"required"},"نوع نمایش"),c.a.createElement(r.a,{className:"autoCompeletSelect ".concat("BINARY"===(null==I||null===(t=I.item)||void 0===t?void 0:t.value)?"disabled":""," ").concat(E&&null!=E&&E.size?"border-error":""),value:X,onChange:V,options:m,mobileMode:!0,placeholder:"انتخاب کنید"}),E&&null!=E&&E.size?c.a.createElement("p",{className:"error-field"},null==E?void 0:E.size[0]):null))),"BINARY"!==(null==I||null===(a=I.item)||void 0===a?void 0:a.value)&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"border-bottom ".concat(d.isMobile?"mx-2 mt-2":"mt-4"," ").concat(d.isMobile&&!re?"":"mb-3")}),c.a.createElement("div",{className:"custom-collapse",style:{height:de}},c.a.createElement("div",{ref:be},re&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"row ".concat(d.isMobile?"px-2 pb-3":"")},c.a.createElement("div",{className:"col-md-4 col-sm-12 ".concat(d.isMobile?"mt-2":"mt-3")},c.a.createElement("div",{className:"form-group "},c.a.createElement("label",{htmlFor:"provinceSelected"},"بازه زمانی"),c.a.createElement(r.a,{className:"autoCompeletSelect ".concat("large"!==(null==X?void 0:X.value)?"disabled":""),value:B,onChange:Z,options:v,mobileMode:!0,placeholder:"انتخاب کنید"}))),c.a.createElement("div",{className:"col-md-4 col-sm-12 ".concat(d.isMobile?"mt-2":"mt-3")},c.a.createElement("div",{className:"form-group "},c.a.createElement("label",{htmlFor:"selectedDiagramType"},"واحد اندازه گیری"),c.a.createElement(r.a,{className:"autoCompeletSelect ",value:le,onChange:ne,options:z,mobileMode:!0,placeholder:"انتخاب کنید"}))),c.a.createElement("div",{className:"col-md-4 col-sm-12 ".concat(d.isMobile?"mt-2":"mt-3")},c.a.createElement("div",{className:"form-group "},c.a.createElement("label",{htmlFor:"provinceSelected"},"دقت اعشار"),c.a.createElement(r.a,{className:"autoCompeletSelect ",value:$,onChange:ee,options:p,mobileMode:!0,placeholder:"انتخاب کنید"})))),!d.isMobile&&c.a.createElement("div",{className:"border-bottom mt-4 mb-3"})))),c.a.createElement("div",{className:"btn-collapse icon-24 icon-arrow-".concat(re?"up":"down","-primary cursor-pointer"),onClick:function(){return oe((function(e){return!e}))},style:{bottom:"-13px"}}))),c.a.createElement("div",{className:"row justify-content-end"},c.a.createElement("div",{className:"col-12 d-flex justify-content-end ".concat(d.isMobile?"mt-4":"mt-3")},c.a.createElement(u.a,{type:"submit",className:"d-flex button btn-primary-fill justify-content-center align-items-center px-5 ml-3 ".concat(d.isMobile?"width-65 mt-3":""," ").concat(fe?"":"disabled"),handler:function(e){!function(e){var t,a;switch(null==X?void 0:X.value){case"large":t={w:"2",h:"2",x:"0",y:"0"},a="Graph";break;case"medium":t={w:"2",h:"1",x:"0",y:"0"},a="Gauge";break;case"small":default:t={w:"1",h:"1",x:"0",y:"0"},a="Gauge"}var n={title:x,size:null==X?void 0:X.value,unit:null==le?void 0:le.value,precision:null==$?void 0:$.value,timeRange:null==B?void 0:B.value,sensor:null==U?void 0:U.value,sensor_type:null==I?void 0:I.value,status:t,type:a};f&&f(n)&&l&&l()}()},isLoading:g},c.a.createElement("p",{className:"m-0"},"ذخیره")),c.a.createElement(u.a,{type:"submit",className:"d-flex button btn-primary-outline px-5 justify-content-center align-items-center ".concat(d.isMobile?"width-35 mt-3":""),handler:function(e){l?l():history.back()}},c.a.createElement("p",{className:"m-0"},"لغو")))))}},370:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var l=function(e){Object.keys(e).map((function(t,a){e[t]*=1}))}},730:function(e,t,a){"use strict";a.r(t);var l=a(339),n=a.n(l),i=a(307),c=a.n(i),r=a(340),o=a.n(r),s=a(1),u=a.n(s),d=a(38),m=a(309),v=a(11),p=a.n(v),f=a(313),g=a(17),b=function(e){var t=e.onClose,a=e.data,l=e.handleActionTab,n=e.errors,i=Object(s.useState)(""),r=c()(i,2),o=r[0],d=r[1],m=Object(s.useRef)(null);return Object(s.useEffect)((function(){a&&d(a.title)}),[a]),Object(s.useEffect)((function(){m.current.focus()}),[]),u.a.createElement("div",{className:"position-relative"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-12 col-sm-12"},u.a.createElement("div",{className:"form-group"},g.isMobile&&u.a.createElement("i",{className:"icon icon-20 icon-close btn-close",onClick:t}),u.a.createElement("label",{htmlFor:"title",className:"required ".concat(g.isMobile?"mb-3":"")},a?"ویرایش نام میزکار":"نام میزکار جدید"),u.a.createElement("input",{className:"form-control px-3 ".concat(n&&null!=n&&n.title?"border-error":""),type:"text",id:"title",name:"title",placeholder:"یک نام برای میزکار خود انتخاب کنید",value:o,ref:m,onChange:function(e){return d(e.target.value)}}),n&&null!=n&&n.title?u.a.createElement("p",{className:"error-field"},null==n?void 0:n.title[0]):null))),u.a.createElement("div",{className:"row justify-content-end"},u.a.createElement("div",{className:"col-12 d-flex justify-content-end"},u.a.createElement(f.a,{type:"submit",className:"d-flex button btn-primary-fill justify-content-center align-items-center px-5 ".concat(g.isMobile&&!a?"w-100 mt-3":"width-65 ml-3"," ").concat(""===o?"disabled":""),handler:function(){l(o)}},u.a.createElement("p",{className:"m-0"},"ذخیره")),(!g.isMobile||g.isMobile&&a)&&u.a.createElement(f.a,{type:"submit",className:"d-flex button btn-primary-outline px-5 justify-content-center align-items-center width-35",handler:function(e){t&&t()}},u.a.createElement("p",{className:"m-0"},"لغو")))))},E=a(320),h=a.n(E);h.a.setAppElement("#root");var N=function(e){var t=e.item,a=e.onEdit,l=e.onDelete,n=e.onClick,i=e.selectedTab,r=e.onEditLayout,o=Object(s.useState)(!1),d=c()(o,2),m=d[0],v=d[1],p=Object(s.useRef)(null),f=function(e){p.current&&!p.current.contains(e.target)&&v(!1)};return Object(s.useEffect)((function(){return document.addEventListener("click",f,!0),function(){document.removeEventListener("click",f,!0)}}),[]),u.a.createElement("div",{className:"position-relative ".concat(m?"dropdown-open":""," ").concat((null==i?void 0:i.id)===t.id?"tab tab-active":"tab")},u.a.createElement("div",{className:"py-2 border-left text-nowrap cursor-pointer ".concat(g.isMobile?"pr-2":"pr-4"," ").concat((null==i?void 0:i.id)===t.id?"":"pl-4")},u.a.createElement("span",{onClick:function(){return n(t)}},null==t?void 0:t.title),(null==i?void 0:i.id)===t.id&&u.a.createElement("div",{className:"icon icon-18 icon-more-vertical mr-1",onClick:function(){return v((function(e){return!e}))}})),g.isMobile?u.a.createElement(h.a,{isOpen:m,onRequestClose:function(){return v(!1)},shouldCloseOnOverlayClick:!0,className:"action-modal pb-2"},u.a.createElement("div",{className:"row justify-content-end mb-3 position-relative"},u.a.createElement("div",{className:"position-absolute btn-close"},u.a.createElement("i",{className:"icon icon-24 icon-close",onClick:function(){return v(!1)}}))),u.a.createElement("div",{className:"row px-2 font-size-14 font-400"},u.a.createElement("div",{className:"col-12 mt-2 px-2"},u.a.createElement("div",{onClick:function(){v(!1),a(t.id)},className:"d-flex tile-dropdown-item py-2 border-bottom border-muted align-items-center cursor-pointer"},u.a.createElement("div",{className:"icon icon-20 icon-edit"}),u.a.createElement("div",{className:"mr-2 text-nowrap"},"ویرایش نام میزکار"))),u.a.createElement("div",{className:"col-12 mt-2 px-2"},u.a.createElement("div",{onClick:function(){v(!1),r()},className:"d-flex tile-dropdown-item py-2 border-bottom border-muted align-items-center cursor-pointer"},u.a.createElement("div",{className:"icon icon-20 icon-moving-tiles"}),u.a.createElement("div",{className:"mr-2 text-nowrap"},"جا به جایی تایل ها"))),u.a.createElement("div",{className:"col-12 px-2"},u.a.createElement("div",{className:"d-flex tile-dropdown-item py-2 align-items-center cursor-pointer",onClick:function(){l(t.id),v(!1)}},u.a.createElement("div",{className:"icon icon-20 icon-delete"}),u.a.createElement("div",{className:"mr-2"},"حذف"))))):u.a.createElement("div",{className:"tile-dropdown position-absolute font-size-14 font-400 px-3 bg-white",ref:p},u.a.createElement("div",{onClick:function(){return a(t.id)},className:"d-flex tile-dropdown-item border-bottom border-muted py-3 align-items-center cursor-pointer"},u.a.createElement("div",{className:"icon icon-20 icon-edit"}),u.a.createElement("div",{className:"mr-2 text-nowrap"},"ویرایش نام میزکار")),u.a.createElement("div",{onClick:function(){v(!1),r()},className:"d-flex tile-dropdown-item border-bottom border-muted py-3 align-items-center cursor-pointer"},u.a.createElement("div",{className:"icon icon-20 icon-moving-tiles"}),u.a.createElement("div",{className:"mr-2 text-nowrap"},"جا به جایی تایل ها")),u.a.createElement("div",{className:"d-flex tile-dropdown-item py-3 align-items-center cursor-pointer",onClick:function(){l(t.id),v(!1)}},u.a.createElement("div",{className:"icon icon-20 icon-delete"}),u.a.createElement("div",{className:"mr-2"},"حذف"))))},x=a(333);a(336);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}h.a.setAppElement("#root");var w,O,j,k,S,A,z,C=function(e){var t=e.tabs,a=e.onLoadTabs,l=e.onClick,n=e.selectedTab,i=e.onEditLayout,r=Object(s.useState)(!1),o=c()(r,2),d=o[0],v=o[1],E=Object(s.useState)(null),w=c()(E,2),O=w[0],j=w[1],k=Object(s.useState)(null),S=c()(k,2),A=S[0],z=S[1],C=function(e){Object(m.J)(e).then((function(e){j(e),v(!0)})).catch((function(e){console.log(e)}))},D=function(e){Object(x.confirmAlert)({customUI:function(t){var l=t.onClose;return u.a.createElement("div",{className:"card card-box"},u.a.createElement("p",{className:"text-dark text-center ".concat(g.isMobile?"mt-3":"")},"آیا از حذف میزکار مطمئن هستید؟"),u.a.createElement("div",{className:"d-flex mt-4 justify-content-center"},u.a.createElement("button",{className:"button btn-primary-fill-outline py-2 px-3 col-6 ml-2 btn-primary-border text-primary bold",onClick:function(){!function(e){Object(m.k)(e).then((function(e){a()})).catch((function(e){console.log(e,": error")}))}(e),l()}},u.a.createElement("span",{className:"py-1 px-3"},"مطمئنم")),u.a.createElement("button",{className:"button btn-primary-fill py-2 px-4 col-6 mr-2 bold",onClick:l},u.a.createElement("span",{className:"py-1 px-3"},"لغو"))))},overlayClassName:"overlay-custom-confirm-modal"})},F=function(){v(!1),j(null),z(null)};return u.a.createElement("section",{className:"card header-dashboard-tab"},u.a.createElement("div",{className:"row align-items-center mx-0 p-3 flex-nowrap ".concat(g.isMobile?"cg-2":"")},u.a.createElement(f.a,{className:"d-flex button btn-primary-fill submit justify-content-center align-items-center ".concat(g.isMobile?"height-auto p-2":"pl-3 pr-3"),handler:function(){return v(!0)}},u.a.createElement("div",{className:"icon icon-24 icon-plus"}),!g.isMobile&&u.a.createElement("div",{className:"mr-2 text-nowrap"},"میزکار جدید")),u.a.createElement("div",{className:"d-flex ".concat(g.isMobile?"overflow-x-auto overflow-y-clip hide-scroll":"")},null==t?void 0:t.map((function(e,t){return u.a.createElement(N,{item:e,key:t,selectedTab:n,onEdit:C,onClick:l,onDelete:D,onEditLayout:i})})))),u.a.createElement(h.a,{isOpen:d,contentLabel:"اضافه کردن تایل",className:"position-unset bg-white",onRequestClose:F,shouldCloseOnOverlayClick:!0},u.a.createElement(b,{onClose:F,data:O,handleActionTab:function(e){if(z(null),O){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){p()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},O);t.title=e,Object(m.mb)(t,O.id).then((function(e){a(),v(!1),j(null)})).catch((function(e){var t;z(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.error)||void 0===t?void 0:t.details)}))}else{var l={title:e,is_favorite:!1,order:1,field:1};Object(m.b)(l).then((function(e){a(),v(!1),j(null)})).catch((function(e){var t,a;403===e.response.status?(v(!1),alert.show(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.error)||void 0===t?void 0:t.details.detail,{type:"error"})):z(null==e||null===(a=e.response)||void 0===a||null===(a=a.data)||void 0===a||null===(a=a.error)||void 0===a?void 0:a.details)}))}},errors:A})))},D=a(13),F=a.n(D),M=a(688),R=a(353),T=a(739),L=a(715),X=a(717),V=a(593),Y=a(581),H=a(321),I=a(311),P=a(328),W=a(701),G=a(716),U=a(330),_=function(e){var t=Object(s.useState)(null),a=c()(t,2),l=a[0],n=a[1],i=Object(s.useState)(),r=c()(i,2),o=(r[0],r[1]),d=Object(s.useState)(),m=c()(d,2),v=(m[0],m[1]);return Object(s.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([U.a.new(t)]);var a=t.container.children.push(T.a.new(t,{panX:!1,panY:!1,startAngle:180,endAngle:360})),l=L.a.new(t,{innerRadius:-1,strokeOpacity:1,strokeWidth:6,strokeGradient:Y.a.new(t,{rotation:0,stops:[{color:H.b("#1AD329")},{color:H.b("#F3E523")},{color:H.b("#FC7217")}]})}),i=a.xAxes.push(W.a.new(t,{maxDeviation:0,min:0,max:100,strictMinMax:!0,renderer:l}));i.get("renderer").labels.template.setAll({opacity:0});var c=i.makeDataItem({});c.set("value",null==e?void 0:e.value);var r=c.set("bullet",G.a.new(t,{sprite:X.a.new(t,{topWidth:3,bottomWidth:10,radius:I.d(85),innerRadius:0})}));return r.get("sprite").hand.setAll({fill:H.b("#7e88aa"),strokeWidth:1,fillOpacity:1}),r.get("sprite").pin.setAll({fill:H.b("#EDEFF1"),strokeWidth:2,fillOpacity:1}),i.createAxisRange(c),c.get("grid").set("visible",!1),a.appear(1e3,100),v(a),n(c),o(i),function(){t.dispose()}}),[]),Object(s.useEffect)((function(){l&&l.animate({key:"value",to:+(null==e?void 0:e.value),duration:800,easing:P.b.out(P.b.cubic)})}),[null==e?void 0:e.value,null==e?void 0:e.id]),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"col-7 chart-holder p-0",id:null==e?void 0:e.id}))},J=a(711),q=a(702),B=a(718),Z=a(719),K=a(720),Q=a(732),$=a(395),ee=a(584),te=a(585),ae=function(e){var t=Object(s.useState)(null),a=c()(t,2),l=a[0],n=a[1],i=Object(s.useState)(null),r=c()(i,2),o=r[0],d=r[1],m=function(e){switch(e.match(/[a-zA-Z]/g)[0]){case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";default:return"hour"}};return Object(s.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([U.a.new(t)]);var a=t.container.children.push(J.a.new(t,{panX:!0,panY:!0,wheelX:"panX",wheelY:"zoomX",pinchZoomX:!0}));a.set("cursor",q.a.new(t,{behavior:"none"})).lineY.set("visible",!1);var l,i,c=B.a.new(t,{});c.labels.template.setAll({centerX:0,pan:"zoom"}),(w=a.xAxes.push(Z.a.new(t,{maxDeviation:.1,baseInterval:{timeUnit:m(null==e?void 0:e.interval),count:(l=null==e?void 0:e.interval,i=l.match(/[0-9]/g),parseInt(i.join("")))},start:0,renderer:c,tooltip:$.a.new(t,{labelText:"hi"}),endValue:(new Date).getTime(),minZoomCount:0,maxZoomCount:0}))).get("dateFormats").day="HH:mm",w.get("dateFormats").hour="HH:mm",w.get("dateFormats").minute="HH:mm",w.get("dateFormats").second="HH:mm:ss",w.get("periodChangeDateFormats").day="HH:mm",w.get("periodChangeDateFormats").hour="HH:mm",w.get("periodChangeDateFormats").minute="HH:mm",w.get("periodChangeDateFormats").second="HH:mm:ss";var r=a.yAxes.push(W.a.new(t,{maxDeviation:.1,renderer:K.a.new(t,{pan:"zoom"})})),o=a.series.push(Q.a.new(t,{name:"Series",xAxis:w,yAxis:r,valueYField:"value",valueXField:"date",fill:e.va?H.b("rgba(200, 200, 200, 0)"):H.b("#67b7dc"),stroke:e.fakeData?H.b("rgba(200, 200, 200, 0)"):H.b("#8bc8e5")}));o.fills.template.setAll({visible:!0,fillOpacity:e.fakeData?0:.2}),o.appear(1e3),a.appear(1e3,100),n(t),d(o)}),[]),Object(s.useEffect)((function(){var t=[];null==e||e.value.map((function(e){var a={date:new Date(e.time).getTime(),value:+e.value};t.push(a)})),o&&l&&(o.fills.template.setAll({fill:e.fakeData?H.b("rgba(200, 200, 200, 0)"):H.b("#67b7dc"),stroke:e.fakeData?H.b("rgba(200, 200, 200, 0)"):H.b("#8bc8e5"),fillOpacity:e.fakeData?0:.2}),o.bullets.clear(),o.bullets.push((function(){return ee.a.new(l,{sprite:te.a.new(l,{radius:e.fakeData?0:3,stroke:l.interfaceColors.get("background"),strokeWidth:1,fill:o.get("fill")})})})),o.data.setAll(t))}),[e]),u.a.createElement("div",{className:"col-12 chart-holder graph",id:null==e?void 0:e.id})},le=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,o=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},u.a.createElement("div",{className:("medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?"col-5 pl-0 ":"col-12 h-100 ")+"d-flex align-items-center"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-Temperature":"icon-temperature-disable")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},u.a.createElement("span",{className:""},a&&o?l?l[l.length-1].value:"":"غیرفعال"),a&&o&&u.a.createElement("span",{className:"h6"},t.unit))),!a&&l&&u.a.createElement("div",{className:"tile-description temperature"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("span",null,n," دقیقه قبل :"),u.a.createElement("span",null,t.unit),u.a.createElement("span",null,l&&l[l.length-1].value)))),"medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?l?u.a.createElement(_,{id:"gauge-"+t.id,value:l[l.length-1].value}):u.a.createElement(_,{id:"gauge-"+t.id,unit:null==t?void 0:t.unit,value:0}):null,"large"===(null==t?void 0:t.size)&&i?u.a.createElement(ae,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},ne=a(721),ie=a(722),ce=a(740),re=a(723),oe=function(e){var t=Object(s.useState)(),a=c()(t,2),l=a[0],n=a[1],i=Object(s.useState)(),r=c()(i,2),o=r[0],d=r[1],m=Object(s.useState)(),v=c()(m,2),p=v[0],f=v[1];return Object(s.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([U.a.new(t)]);var a=t.container.children.push(T.a.new(t,{panX:!1,panY:!1,wheelX:"panX",wheelY:"panX",innerRadius:I.d(82),startAngle:180,endAngle:360}));a.set("cursor",ne.a.new(t,{behavior:"zoomX"})).lineY.set("visible",!1);var l=L.a.new(t,{minGridDistance:50});l.labels.template.setAll({radius:10}),l.grid.template.setAll({forceHidden:!0});var i=a.xAxes.push(W.a.new(t,{renderer:l,min:0,max:100,strictMinMax:!0,numberFormat:"#'%'",visible:!1,tooltip:$.a.new(t,{})})),c=ie.a.new(t,{minGridDistance:20});c.labels.template.setAll({centerX:I.b,fontWeight:"500",fontSize:18,templateField:"columnSettings"}),c.grid.template.setAll({forceHidden:!0});var r=a.yAxes.push(re.a.new(t,{categoryField:"category",renderer:c})),o=a.series.push(ce.a.new(t,{xAxis:i,yAxis:r,clustered:!1,valueXField:"full",categoryYField:"category",fill:t.interfaceColors.get("alternativeBackground")}));o.columns.template.setAll({width:I.b,fillOpacity:.08,strokeOpacity:0,cornerRadius:20});var s=a.series.push(ce.a.new(t,{xAxis:i,yAxis:r,clustered:!1,valueXField:"value",categoryYField:"category",colors:H.b("#23D7FF")}));s.columns.template.setAll({width:I.b,strokeOpacity:0,tooltipText:"{category}: {valueX}%",cornerRadius:20,fill:H.b("#73A6D8"),templateField:"columnSettings"}),o.appear(1e3),s.appear(1e3),a.appear(1e3,100),f(r),n(o),d(s)}),[]),Object(s.useEffect)((function(){var t=[{category:"",value:+(null==e?void 0:e.value),full:100}];p&&p.data.setAll(t),l&&l.data.setAll(t),o&&o.data.setAll(t)}),[e]),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"col-7 position-relative chart-holder p-0",id:null==e?void 0:e.id},u.a.createElement("span",{className:"number-gauge-humidity font-size-md"},null==e?void 0:e.value)))},se=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,o=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap position-relative h-full".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},u.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center"},u.a.createElement("div",{className:"d-flex align-items-center "},u.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-Humidity":"icon-Humidity-disable")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},u.a.createElement("span",{className:""},a&&o?l?l[l.length-1].value:"":"غیرفعال"),u.a.createElement("span",{className:"h6"},a||!o?"%":""))),a&&"medium"===(null==t?void 0:t.size)&&u.a.createElement("div",{className:"tile-description"},u.a.createElement("span",{className:"circle humidity"}),u.a.createElement("span",null,"رطوبت")),!a&&l&&u.a.createElement("div",{className:"tile-description temperature"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("span",{className:"text-nowrap"},n," دقیقه قبل :"),u.a.createElement("span",null,"%"),u.a.createElement("span",null,l&&l[l.length-1].value)))),"medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?l?u.a.createElement(oe,{id:"gauge-"+t.id,value:l[l.length-1].value}):u.a.createElement(oe,{id:"gauge-"+t.id,value:0}):null,"large"===(null==t?void 0:t.size)&&i?u.a.createElement(ae,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},ue=function(e){var t=Object(s.useState)(null),a=c()(t,2),l=a[0],n=a[1],i=Object(s.useState)(),r=c()(i,2),o=r[0],d=r[1],m=Object(s.useState)(),v=c()(m,2),p=v[0],f=v[1];return Object(s.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([U.a.new(t)]),(O=t.container.children.push(T.a.new(t,{panX:!1,panY:!1,wheelX:"panX",wheelY:"panX",innerRadius:I.d(82),startAngle:180,endAngle:360}))).set("cursor",ne.a.new(t,{behavior:"zoomX"})).lineY.set("visible",!1);var a=L.a.new(t,{minGridDistance:30});a.labels.template.setAll({radius:-20}),a.grid.template.setAll({forceHidden:!0});var l=O.xAxes.push(W.a.new(t,{renderer:a,min:0,max:2e3,strictMinMax:!0,numberFormat:"#",visible:!1,fontSize:10,tooltip:$.a.new(t,{})})),i=ie.a.new(t,{minGridDistance:20});i.labels.template.setAll({centerX:I.b,fontWeight:"500",fontSize:18,templateField:"columnSettings"}),i.grid.template.setAll({forceHidden:!0});var c=O.yAxes.push(re.a.new(t,{categoryField:"category",renderer:i})),r=O.series.push(ce.a.new(t,{xAxis:l,yAxis:c,clustered:!1,valueXField:"full",categoryYField:"category",fill:t.interfaceColors.get("alternativeBackground")}));r.columns.template.setAll({width:I.b,fillOpacity:.08,strokeOpacity:0,cornerRadius:20});var o=O.series.push(ce.a.new(t,{xAxis:l,yAxis:c,clustered:!1,valueXField:"value",categoryYField:"category",colors:H.b("#1AD329")}));o.columns.template.setAll({width:I.b,strokeOpacity:0,tooltipText:"{category}: {valueX}%",cornerRadius:20,fill:H.b("#73A6D8"),templateField:"columnSettings"}),r.appear(1e3),o.appear(1e3),O.appear(1e3,100),n(c),d(r),f(o)}),[]),Object(s.useEffect)((function(){var t=[{category:"",value:+(null==e?void 0:e.value),full:2e3,columnSettings:{fill:O.get("colors").getIndex(3)}}];l&&l.data.setAll(t),o&&o.data.setAll(t),p&&p.data.setAll(t)}),[e]),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"col-7 position-relative chart-holder p-0",id:null==e?void 0:e.id},u.a.createElement("span",{className:"number-gauge-humidity font-size-md"},null==e?void 0:e.value)))},de=function(e){var t,a,l,n,i=e.data,c=e.isOnline,r=e.value,o=e.interval,s=e.lastUpdated,d=e.fakeValues,m=e.graphValue,v=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==i?void 0:i.size)?"align-items-center flex-grow-1":"")},u.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat(c?"icon-nitrogen":"icon-nitrogen-disable")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(c?"font-30":"font-24")},u.a.createElement("span",{className:""},c&&v?r?(null===(t=r[(null==r?void 0:r.length)-1])||void 0===t?void 0:t.value)>1e3?parseInt((null===(a=r[(null==r?void 0:r.length)-1])||void 0===a?void 0:a.value)/10):null===(l=r[(null==r?void 0:r.length)-1])||void 0===l?void 0:l.value:"":"غیرفعال"),u.a.createElement("span",{className:"h6"},r&&(null===(n=r[(null==r?void 0:r.length)-1])||void 0===n?void 0:n.value)>1e3&&c&&v?"g/kg":c&&v?"mg/kg":""))),"medium"===(null==i?void 0:i.size)&&u.a.createElement("div",{className:"tile-description"},u.a.createElement("span",{className:"circle humidity"}),u.a.createElement("span",null,"میزان نیتروژن خاک")),!c&&r&&u.a.createElement("div",{className:"tile-description temperature"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("span",null,s," دقیقه قبل :"),u.a.createElement("span",null,"mg/kg"),u.a.createElement("span",null,r&&r[r.length-1].value)))),("medium"===(null==i?void 0:i.size)||"large"===(null==i?void 0:i.size))&&u.a.createElement(ue,{id:"gauge-"+(null==i?void 0:i.id),value:r?r[r.length-1].value:0}),"large"===(null==i?void 0:i.size)&&o?u.a.createElement(ae,{interval:o,id:"graph-"+i.id,value:(null==m?void 0:m.data)||d,fakeData:!r}):null)},me=function(e){return Object(s.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([U.a.new(t)]),(A=t.container.children.push(T.a.new(t,{panX:!1,panY:!1,wheelX:"panX",wheelY:"panX",innerRadius:I.d(82),startAngle:180,endAngle:360}))).set("cursor",ne.a.new(t,{behavior:"zoomX"})).lineY.set("visible",!1);var a=L.a.new(t,{minGridDistance:30});a.labels.template.setAll({radius:-20}),a.grid.template.setAll({forceHidden:!0});var l=A.xAxes.push(W.a.new(t,{renderer:a,min:0,max:1e4,strictMinMax:!0,numberFormat:"#",visible:!1,fontSize:10,tooltip:$.a.new(t,{})})),n=ie.a.new(t,{minGridDistance:20});n.labels.template.setAll({centerX:I.b,fontWeight:"500",fontSize:18,templateField:"columnSettings"}),n.grid.template.setAll({forceHidden:!0}),S=A.yAxes.push(re.a.new(t,{categoryField:"category",renderer:n})),(j=A.series.push(ce.a.new(t,{xAxis:l,yAxis:S,clustered:!1,valueXField:"full",categoryYField:"category",fill:t.interfaceColors.get("alternativeBackground")}))).columns.template.setAll({width:I.b,fillOpacity:.08,strokeOpacity:0,cornerRadius:20}),(k=A.series.push(ce.a.new(t,{xAxis:l,yAxis:S,clustered:!1,valueXField:"value",categoryYField:"category",colors:H.b("#1AD329")}))).columns.template.setAll({width:I.b,strokeOpacity:0,tooltipText:"{category}: {valueX}%",cornerRadius:20,fill:H.b("#FC994E"),templateField:"columnSettings"}),j.appear(1e3),k.appear(1e3),A.appear(1e3,100)}),[]),Object(s.useEffect)((function(){var t=[{category:"",value:+(null==e?void 0:e.value),full:1e4}];S.data.setAll(t),j.data.setAll(t),k.data.setAll(t)}),[e]),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"col-7 position-relative chart-holder p-0",id:null==e?void 0:e.id},u.a.createElement("span",{className:"number-gauge-humidity font-size-md"},+(null==e?void 0:e.value))))},ve=function(e){var t,a=e.data,l=e.isOnline,n=e.value,i=e.interval,c=e.lastUpdated,r=e.fakeValues,o=e.graphValue,s=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==a?void 0:a.size)?"align-items-center flex-grow-1":"")},u.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat(l?"icon-salinity":"icon-salinity-disable")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(l?"font-30":"font-24")},u.a.createElement("span",{className:""},l&&s?n?n[n.length-1].value>1e3?parseInt(n[n.length-1].value/10):n[n.length-1].value:"":"غیرفعال"),u.a.createElement("span",{className:"h6"},n&&(null===(t=n[(null==n?void 0:n.length)-1])||void 0===t?void 0:t.value)>1e3&&l?"ms/cm":l?"us/cm":""))),"medium"===(null==a?void 0:a.size)&&u.a.createElement("div",{className:"tile-description"},u.a.createElement("span",{className:"circle humidity"}),u.a.createElement("span",null,"میزان شوری خاک")),!l&&n&&u.a.createElement("div",{className:"tile-description temperature"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("span",null,c," دقیقه قبل :"),u.a.createElement("span",null,"us/cm"),u.a.createElement("span",null,n&&n[n.length-1].value)))),("medium"===(null==a?void 0:a.size)||"large"===(null==a?void 0:a.size))&&u.a.createElement(me,{id:"gauge-"+(null==a?void 0:a.id),value:n?n[n.length-1].value:0}),"large"===(null==a?void 0:a.size)&&i?u.a.createElement(ae,{interval:i,id:"graph-"+a.id,value:(null==o?void 0:o.data)||r,fakeData:!n}):null)},pe=[{color:"#ef5156",lowScore:0,highScore:1.555},{color:"#fc994e",lowScore:1.556,highScore:3.111},{color:"#f3e83e",lowScore:3.1111,highScore:4.666},{color:"#c5da61",lowScore:4.666,highScore:6.221},{color:"#65bd6c",lowScore:6.221,highScore:7.776},{color:"#43c8c7",lowScore:7.776,highScore:9.331},{color:"#73a6d8",lowScore:9.331,highScore:10.886},{color:"#687db6",lowScore:10.886,highScore:12.441},{color:"#645999",lowScore:12.441,highScore:14}],fe=function(e){var t=Object(s.useState)(),a=c()(t,2),l=(a[0],a[1],Object(s.useState)(null)),n=c()(l,2),i=n[0],r=n[1],o=Object(s.useState)(),d=c()(o,2);d[0],d[1];return Object(s.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id);t.setThemes([U.a.new(t)]);var a=t.container.children.push(T.a.new(t,{panX:!1,panY:!1,startAngle:180,endAngle:360})),l=L.a.new(t,{innerRadius:-7});l.grid.template.setAll({stroke:t.interfaceColors.get("background"),visible:!1,strokeOpacity:.8});var n=a.xAxes.push(W.a.new(t,{maxDeviation:0,min:0,max:14,strictMinMax:!0,renderer:l}));n.get("renderer").labels.template.setAll({opacity:0});var i=(z=n.makeDataItem({})).set("bullet",G.a.new(t,{sprite:X.a.new(t,{topWidth:3,bottomWidth:10,radius:I.d(85),innerRadius:0})}));i.get("sprite").hand.setAll({fill:H.b("#7782a4"),strokeWidth:0,fillOpacity:1}),i.get("sprite").pin.setAll({fill:H.b("#EDEFF1"),strokeWidth:0,fillOpacity:1}),n.createAxisRange(z),a.bulletsContainer.set("mask",void 0),P.a.each(pe,(function(e){var t=n.createAxisRange(n.makeDataItem({}));t.setAll({value:e.lowScore,endValue:e.highScore}),t.get("axisFill").setAll({visible:!0,fill:H.b(e.color),fillOpacity:.8})})),r(n),a.appear(1e3,100)}),[]),Object(s.useEffect)((function(){z.animate({key:"value",to:+(null==e?void 0:e.value),duration:500,easing:P.b.out(P.b.cubic)}),i&&i.createAxisRange(z)}),[null==e?void 0:e.value]),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"col-7 position-relative chart-holder p-0",id:null==e?void 0:e.id}))},ge=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,o=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},u.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-acidity-soil":"icon-acidity-disable")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},u.a.createElement("span",{className:""},a&&o?l?l[l.length-1].value:"":"غیرفعال"))),!a&&l&&u.a.createElement("div",{className:"tile-description temperature"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("span",null,n," دقیقه قبل :"),u.a.createElement("span",null,l&&l[l.length-1].value)))),("medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size))&&u.a.createElement(fe,{id:"gauge-"+(null==t?void 0:t.id),value:l?l[l.length-1].value:0}),"large"===(null==t?void 0:t.size)&&i?u.a.createElement(ae,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},be=function(e){var t,a,l,n,i=e.data,c=e.isOnline,r=e.value,o=e.interval,s=e.lastUpdated,d=e.fakeValues,m=e.graphValue,v=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==i?void 0:i.size)?"align-items-center flex-grow-1":"")},u.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat(c?"icon-phosphorus":"icon-phosphorus-disable")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(c?"font-30":"font-24")},u.a.createElement("span",{className:""},c&&v?r?(null===(t=r[(null==r?void 0:r.length)-1])||void 0===t?void 0:t.value)>1e3?parseInt((null===(a=r[(null==r?void 0:r.length)-1])||void 0===a?void 0:a.value)/10):null===(l=r[(null==r?void 0:r.length)-1])||void 0===l?void 0:l.value:"":"غیرفعال"),u.a.createElement("span",{className:"h6"},r&&(null===(n=r[(null==r?void 0:r.length)-1])||void 0===n?void 0:n.value)>1e3&&c&&v?"g/kg":c&&v?"mg/kg":""))),c&&"medium"===(null==i?void 0:i.size)&&u.a.createElement("div",{className:"tile-description"},u.a.createElement("span",{className:"circle humidity"}),u.a.createElement("span",null,"میزان فسفر خاک")),!c&&r&&u.a.createElement("div",{className:"tile-description temperature"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("span",null,s," دقیقه قبل :"),u.a.createElement("span",null,"mg/kg"),u.a.createElement("span",null,r&&r[r.length-1].value)))),"medium"===(null==i?void 0:i.size)||"large"===(null==i?void 0:i.size)?r?u.a.createElement(ue,{id:"gauge-"+i.id,value:r[r.length-1].value}):u.a.createElement(ue,{id:"gauge-"+i.id,value:0}):null,"large"===(null==i?void 0:i.size)&&o?u.a.createElement(ae,{interval:o,id:"graph-"+i.id,value:(null==m?void 0:m.data)||d,fakeData:!r}):null)},Ee=function(e){var t,a,l,n,i=e.data,c=e.isOnline,r=e.value,o=e.interval,s=e.lastUpdated,d=e.fakeValues,m=e.graphValue,v=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==i?void 0:i.size)?"align-items-center flex-grow-1":"")},u.a.createElement("div",{className:"col-5 d-flex align-items-center pl-0 position-relative"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat(c?"icon-potassium":"icon-potassium-disable")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(c?"font-30":"font-24")},u.a.createElement("span",{className:""},c&&v?r?(null===(t=r[(null==r?void 0:r.length)-1])||void 0===t?void 0:t.value)>1e3?parseInt((null===(a=r[(null==r?void 0:r.length)-1])||void 0===a?void 0:a.value)/10):null===(l=r[(null==r?void 0:r.length)-1])||void 0===l?void 0:l.value:"":"غیرفعال"),u.a.createElement("span",{className:"h6"},r&&(null===(n=r[(null==r?void 0:r.length)-1])||void 0===n?void 0:n.value)>1e3&&c&&v?"g/kg":c&&v?"mg/kg":""))),c&&"medium"===(null==i?void 0:i.size)&&u.a.createElement("div",{className:"tile-description"},u.a.createElement("span",{className:"circle humidity"}),u.a.createElement("span",null,"میزان پتاسیم خاک")),!c&&r&&u.a.createElement("div",{className:"tile-description temperature"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("span",null,s," دقیقه قبل :"),u.a.createElement("span",null,"mg/kg"),u.a.createElement("span",null,r&&r[r.length-1].value)))),("medium"===(null==i?void 0:i.size)||"large"===(null==i?void 0:i.size))&&u.a.createElement(ue,{id:"gauge-"+(null==i?void 0:i.id),value:r?r[r.length-1].value:0}),"large"===(null==i?void 0:i.size)&&o?u.a.createElement(ae,{interval:o,id:"graph-"+i.id,value:(null==m?void 0:m.data)||d,fakeData:!r}):null)},he=function(e){var t=e.isOnline;e.value;return u.a.createElement("div",{className:"d-flex flex-wrap flex-grow-1"},u.a.createElement("div",{className:"col-6 d-flex align-items-center position-relative"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat(t?"icon-door-open":"icon-door-disable")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(t?"font-30":"font-24")},u.a.createElement("span",{className:""},t?"باز":"غیرفعال")))))},Ne=function(e){var t=Object(s.useState)(null),a=c()(t,2),l=a[0],n=a[1],i=Object(s.useState)(),r=c()(i,2),o=(r[0],r[1]),d=Object(s.useState)(),m=c()(d,2),v=(m[0],m[1]);return Object(s.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([U.a.new(t)]);var a=t.container.children.push(T.a.new(t,{panX:!1,panY:!1,startAngle:180,endAngle:360})),l=L.a.new(t,{innerRadius:-1,strokeOpacity:1,strokeWidth:6,strokeGradient:Y.a.new(t,{rotation:0,stops:[{color:H.b("#6b6f6b")},{color:H.b("#d18750")},{color:H.b("#f1b51b")}]})}),i=a.xAxes.push(W.a.new(t,{maxDeviation:0,min:0,max:4e4,strictMinMax:!0,renderer:l}));i.get("renderer").labels.template.setAll({opacity:0});var c=i.makeDataItem({});c.set("value",null==e?void 0:e.value);var r=c.set("bullet",G.a.new(t,{sprite:X.a.new(t,{topWidth:3,bottomWidth:10,radius:I.d(85),innerRadius:0})}));return r.get("sprite").hand.setAll({fill:H.b("#7e88aa"),strokeWidth:1,fillOpacity:1}),r.get("sprite").pin.setAll({fill:H.b("#EDEFF1"),strokeWidth:2,fillOpacity:1}),i.createAxisRange(c),c.get("grid").set("visible",!1),a.appear(1e3,100),v(a),n(c),o(i),function(){t.dispose()}}),[]),Object(s.useEffect)((function(){l&&l.animate({key:"value",to:+(null==e?void 0:e.value),duration:800,easing:P.b.out(P.b.cubic)})}),[null==e?void 0:e.value,null==e?void 0:e.id]),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"col-7 chart-holder p-0 ",id:null==e?void 0:e.id}))},xe=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,o=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap position-relative h-full".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},u.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-sun":"icon-sun-off")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},u.a.createElement("span",{className:""},a&&o?l?(l[l.length-1].value/1e3).toFixed(1):"":"غیرفعال"),u.a.createElement("span",{className:"font-9 mx-2"},a||!o?"KLUX":""))),a&&"medium"===(null==t?void 0:t.size)&&u.a.createElement("div",{className:"tile-description"},u.a.createElement("span",{className:"circle humidity"}),u.a.createElement("span",null,"Light")),!a&&l&&u.a.createElement("div",{className:"tile-description temperature"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("span",{className:"text-nowrap"},n," دقیقه قبل :"),u.a.createElement("span",null,"%"),u.a.createElement("span",null,l&&l[l.length-1].value)))),"medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?l?u.a.createElement(Ne,{id:"gauge-"+t.id,value:l[l.length-1].value}):u.a.createElement(Ne,{id:"gauge-"+t.id,value:0}):null,"large"===(null==t?void 0:t.size)&&i?u.a.createElement(ae,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},ye=function(e){var t=e.isOnline,a=e.value;return u.a.createElement("div",{className:"d-flex flex-wrap flex-grow-1"},u.a.createElement("div",{className:"col-6 d-flex align-items-center position-relative"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat(t?"icon-light-intensity":"icon-light-intensity-off")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(t?"font-30":"font-24")},u.a.createElement("span",{className:""},a?"".concat(a," cd"):"خاموش")))))},we=function(e){var t,a,l,n=e.data,i=e.isOnline,c=e.value,r=e.lastUpdated,o=e.interval,s=e.fakeValues,d=e.graphValue,m=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==n?void 0:n.size)?"align-items-center flex-grow-1":"")},u.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat("icon-soil-moisture")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(i?"font-30":"font-24")},u.a.createElement("span",{className:""},i&&m?c?(null===(t=c[(null==c?void 0:c.length)-1])||void 0===t?void 0:t.value)>1e3?parseInt((null===(a=c[(null==c?void 0:c.length)-1])||void 0===a?void 0:a.value)/10):null===(l=c[(null==c?void 0:c.length)-1])||void 0===l?void 0:l.value:"":"غیرفعال"),u.a.createElement("span",{className:"h6"},i&&m?"%":""))),i&&m&&"medium"===(null==n?void 0:n.size)&&u.a.createElement("div",{className:"tile-description"},u.a.createElement("span",{className:"circle soilMoisture"}),u.a.createElement("span",null,"میزان رطوبت خاک")),!i&&c&&u.a.createElement("div",{className:"tile-description temperature"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("span",null,r," دقیقه قبل :"),u.a.createElement("span",null,"%"),u.a.createElement("span",null,c&&c[c.length-1].value)))),"medium"===(null==n?void 0:n.size)||"large"===(null==n?void 0:n.size)?c?u.a.createElement(oe,{id:"gauge-"+n.id,value:c[c.length-1].value}):u.a.createElement(oe,{id:"gauge-"+n.id,value:0}):null,"large"===(null==n?void 0:n.size)&&o?u.a.createElement(ae,{interval:o,id:"graph-"+n.id,value:(null==d?void 0:d.data)||s,fakeData:!c}):null)},Oe=function(e){var t,a,l,n=e.data,i=e.isOnline,c=e.value,r=e.lastUpdated,o=e.interval,s=e.fakeValues,d=e.graphValue,m=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==n?void 0:n.size)?"align-items-center flex-grow-1":"")},u.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat("icon-soil-moisture")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(i?"font-30":"font-24")},u.a.createElement("span",{className:""},i&&m?c?(null===(t=c[(null==c?void 0:c.length)-1])||void 0===t?void 0:t.value)>1e3?parseInt((null===(a=c[(null==c?void 0:c.length)-1])||void 0===a?void 0:a.value)/10):null===(l=c[(null==c?void 0:c.length)-1])||void 0===l?void 0:l.value:"":"غیرفعال"),u.a.createElement("span",{className:"h6"},i&&m?"%":""))),i&&m&&"medium"===(null==n?void 0:n.size)&&u.a.createElement("div",{className:"tile-description"},u.a.createElement("span",{className:"circle soilMoisture"}),u.a.createElement("span",null,"میزان رطوبت خاک")),!i&&c&&u.a.createElement("div",{className:"tile-description temperature"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("span",null,r," دقیقه قبل :"),u.a.createElement("span",null,"%"),u.a.createElement("span",null,c&&c[c.length-1].value)))),"medium"===(null==n?void 0:n.size)||"large"===(null==n?void 0:n.size)?c?u.a.createElement(oe,{id:"gauge-"+n.id,value:c[c.length-1].value}):u.a.createElement(oe,{id:"gauge-"+n.id,value:0}):null,"large"===(null==n?void 0:n.size)&&o?u.a.createElement(ae,{interval:o,id:"graph-"+n.id,value:(null==d?void 0:d.data)||s,fakeData:!c}):null)},je=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,o=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},u.a.createElement("div",{className:("medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?"col-5 pl-0 ":"col-12 h-100 ")+"d-flex align-items-center"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-Temperature":"icon-temperature-disable")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},u.a.createElement("span",{className:""},a&&o?l?l[l.length-1].value:"":"غیرفعال"),a&&o&&u.a.createElement("span",{className:"h6"},t.unit))),!a&&l&&u.a.createElement("div",{className:"tile-description temperature"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("span",null,n," دقیقه قبل :"),u.a.createElement("span",null,t.unit),u.a.createElement("span",null,l&&l[l.length-1].value)))),"medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?l?u.a.createElement(_,{id:"gauge-"+t.id,value:l[l.length-1].value}):u.a.createElement(_,{id:"gauge-"+t.id,unit:null==t?void 0:t.unit,value:0}):null,"large"===(null==t?void 0:t.size)&&i?u.a.createElement(ae,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},ke=function(e){var t=Object(s.useState)(null),a=c()(t,2),l=a[0],n=a[1];return Object(s.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([U.a.new(t)]);var a=t.container.children.push(T.a.new(t,{panX:!1,panY:!1,startAngle:180,endAngle:360})),l=L.a.new(t,{innerRadius:-6,strokeOpacity:1,strokeWidth:6,strokeGradient:Y.a.new(t,{rotation:0,stops:[{color:H.b("#1AD329")},{color:H.b("#F3E523")},{color:H.b("#FC7217")}]})});l.labels.template.set("forceHidden",!0),l.grid.template.set("forceHidden",!0);var i=a.xAxes.push(W.a.new(t,{maxDeviation:0,min:0,max:100,strictMinMax:!0,renderer:l})),c=i.makeDataItem({});c.set("value",null==e?void 0:e.value);var r=c.set("bullet",G.a.new(t,{sprite:X.a.new(t,{topWidth:3,bottomWidth:10,radius:I.d(85),innerRadius:0})}));return r.get("sprite").hand.setAll({fill:H.b("#7e88aa"),strokeWidth:1,fillOpacity:1}),r.get("sprite").pin.setAll({fill:H.b("#EDEFF1"),strokeWidth:2,fillOpacity:1}),i.createAxisRange(c),c.get("grid").set("visible",!1),a.appear(1e3,100),n(c),function(){t.dispose()}}),[]),Object(s.useEffect)((function(){l&&l.animate({key:"value",to:+(null==e?void 0:e.value),duration:800,easing:P.b.out(P.b.cubic)})}),[null==e?void 0:e.value,null==e?void 0:e.id]),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"col-7 chart-holder p-0",id:null==e?void 0:e.id}))},Se=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,o=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},u.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat("icon-soil-temperature")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},u.a.createElement("span",{className:""},a&&o?l?l[l.length-1].value:"":"غیرفعال"),a&&o&&u.a.createElement("span",{className:"h6"},t.unit))),!a&&l&&u.a.createElement("div",{className:"tile-description temperature"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("span",null,n," دقیقه قبل :"),u.a.createElement("span",null,t.unit),u.a.createElement("span",null,l&&l[l.length-1].value)))),"medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?l?u.a.createElement(ke,{id:"gauge-"+t.id,value:l[l.length-1].value}):u.a.createElement(ke,{id:"gauge-"+t.id,value:0}):null,"large"===(null==t?void 0:t.size)&&i?u.a.createElement(ae,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},Ae=function(e){var t=Object(s.useState)(),a=c()(t,2),l=a[0],n=a[1],i=Object(s.useState)(),r=c()(i,2),o=r[0],d=r[1],m=Object(s.useState)(),v=c()(m,2),p=v[0],f=v[1];return Object(s.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([U.a.new(t)]);var a=t.container.children.push(T.a.new(t,{panX:!1,panY:!1,wheelX:"panX",wheelY:"panX",innerRadius:I.d(82),startAngle:180,endAngle:360}));a.set("cursor",ne.a.new(t,{behavior:"zoomX"})).lineY.set("visible",!1);var l=L.a.new(t,{minGridDistance:50});l.labels.template.setAll({radius:10}),l.grid.template.setAll({forceHidden:!0});var i=a.xAxes.push(W.a.new(t,{renderer:l,min:-1e4,max:1e4,strictMinMax:!0,numberFormat:"#",visible:!0,tooltip:$.a.new(t,{})})),c=ie.a.new(t,{minGridDistance:20});c.labels.template.setAll({centerX:I.b,fontWeight:"500",fontSize:18,templateField:"columnSettings"}),c.grid.template.setAll({forceHidden:!0});var r=a.yAxes.push(re.a.new(t,{categoryField:"category",renderer:c})),o=a.series.push(ce.a.new(t,{xAxis:i,yAxis:r,clustered:!1,valueXField:"full",categoryYField:"category",fill:t.interfaceColors.get("alternativeBackground")}));o.columns.template.setAll({width:I.b,fillOpacity:.08,strokeOpacity:0,cornerRadius:20});var s=a.series.push(ce.a.new(t,{xAxis:i,yAxis:r,clustered:!1,valueXField:"value",categoryYField:"category",colors:H.b("#23D7FF")}));s.columns.template.setAll({width:I.b,strokeOpacity:0,tooltipText:"{category}: {valueX}%",cornerRadius:20,fill:H.b("#23D7FF"),templateField:"columnSettings"}),o.appear(1e3),s.appear(1e3),a.appear(1e3,100),f(r),n(o),d(s)}),[]),Object(s.useEffect)((function(){var t=[{category:"",value:+(null==e?void 0:e.value),full:1e4}];p&&p.data.setAll(t),l&&l.data.setAll(t),o&&o.data.setAll(t)}),[e]),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"col-7 position-relative chart-holder p-0",id:null==e?void 0:e.id},u.a.createElement("span",{className:"number-gauge-humidity font-size-md"},null==e?void 0:e.value)))},ze=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,o=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap position-relative h-full".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},u.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-do":"icons-Do-disable")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},u.a.createElement("span",{className:""},a&&o?l?l[l.length-1].value:"":"غیرفعال"),u.a.createElement("span",{className:"h6"},a||!o?"mV":""))),a&&"medium"===(null==t?void 0:t.size)&&u.a.createElement("div",{className:"tile-description"},u.a.createElement("span",{className:"circle humidity"}),u.a.createElement("span",null,"رطوبت")),!a&&l&&u.a.createElement("div",{className:"tile-description temperature"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("span",{className:"text-nowrap"},n," دقیقه قبل :"),u.a.createElement("span",null,"%"),u.a.createElement("span",{className:""},l&&l[l.length-1].value)))),"medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?l?u.a.createElement(Ae,{id:"gauge-"+t.id,value:l[l.length-1].value}):u.a.createElement(Ae,{id:"gauge-"+t.id,value:0}):null,"large"===(null==t?void 0:t.size)&&i?u.a.createElement(ae,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},Ce=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,o=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},u.a.createElement("div",{className:("medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?"col-5 pl-0 ":"col-12 ")+"d-flex align-items-center"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-do":"icon-do-disable")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},u.a.createElement("span",{className:""},a&&o?l?l[l.length-1].value:"خاموش":"غیرفعال"))),!a&&l&&u.a.createElement("div",{className:"tile-description temperature"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("span",null,n," دقیقه قبل :"),u.a.createElement("span",null,l&&l[l.length-1].value)))),"medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?l?u.a.createElement(_,{id:"gauge-"+t.id,value:l[l.length-1].value}):u.a.createElement(_,{id:"gauge-"+t.id,value:0}):null,"large"===(null==t?void 0:t.size)&&i?u.a.createElement(ae,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},De=function(e){var t=Object(s.useState)(null),a=c()(t,2),l=a[0],n=a[1],i=Object(s.useState)(),r=c()(i,2),o=(r[0],r[1]),d=Object(s.useState)(),m=c()(d,2),v=(m[0],m[1]);return Object(s.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([U.a.new(t)]);var a=t.container.children.push(T.a.new(t,{panX:!1,panY:!1,startAngle:180,endAngle:355})),l=L.a.new(t,{innerRadius:-1,strokeOpacity:1,strokeWidth:6,strokeGradient:Y.a.new(t,{rotation:0,stops:[{color:H.b("#dfe6df")},{color:H.b("#807c7c")},{color:H.b("#4a4646")}]})}),i=a.xAxes.push(W.a.new(t,{maxDeviation:0,min:0,max:2e3,strictMinMax:!0,renderer:l}));i.get("renderer").labels.template.setAll({opacity:0});var c=i.makeDataItem({});c.set("value",null==e?void 0:e.value);var r=c.set("bullet",G.a.new(t,{sprite:X.a.new(t,{topWidth:3,bottomWidth:10,radius:I.d(85),innerRadius:0})}));return r.get("sprite").hand.setAll({fill:H.b("#7e88aa"),strokeWidth:1,fillOpacity:1}),r.get("sprite").pin.setAll({fill:H.b("#EDEFF1"),strokeWidth:2,fillOpacity:1}),i.createAxisRange(c),c.get("grid").set("visible",!1),a.appear(1e3,100),v(a),n(c),o(i),function(){t.dispose()}}),[]),Object(s.useEffect)((function(){l&&l.animate({key:"value",to:+(null==e?void 0:e.value),duration:800,easing:P.b.out(P.b.cubic)})}),[null==e?void 0:e.value,null==e?void 0:e.id]),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"col-7 chart-holder p-0",id:null==e?void 0:e.id}))},Fe=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,o=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},u.a.createElement("div",{className:("medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?"col-5 pl-0 ":"col-12 h-100 ")+"d-flex align-items-center"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-co2":"icon-co2-off")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},u.a.createElement("span",{className:""},a&&o?l?l[l.length-1].value:"":"غیرفعال"),a&&o&&u.a.createElement("span",{className:"h6"},t.unit))),!a&&l&&u.a.createElement("div",{className:"tile-description temperature"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("span",null,n," دقیقه قبل :"),u.a.createElement("span",null,t.unit),u.a.createElement("span",null,l&&l[l.length-1].value)))),"medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?l?u.a.createElement(De,{id:"gauge-"+t.id,value:l[l.length-1].value}):u.a.createElement(De,{id:"gauge-"+t.id,unit:null==t?void 0:t.unit,value:0}):null,"large"===(null==t?void 0:t.size)&&i?u.a.createElement(ae,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},Me=function(e){var t,a,l=e.isOnline,n=e.value,i=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap flex-grow-1"},u.a.createElement("div",{className:"col-6 d-flex align-items-center position-relative"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat(l?(null==n?void 0:n.length)>0&&1===(null===(t=n[0])||void 0===t?void 0:t.value)?"icon-electricity-natural":"icon-electricity-emergency":"icon-electricity-off")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(l?"font-30":"font-24")},u.a.createElement("span",{className:""},l&&i?(null==n?void 0:n.length)>0&&1===(null===(a=n[0])||void 0===a?void 0:a.value)?"طبیعی":"اضطراری":"خاموش")))))},Re=a(332),Te=a.n(Re),Le=a(31),Xe=a(40),Ve={Temperature:le,Humidity:se,NI:de,EC:ve,PH:ge,PHOS:be,POT:Ee,Door:he,CO2:Fe,Light:xe,LightIntensity:ye,Moisture:we,LeafMoisture:Oe,LeafTemperature:je,SoilTemperature:Se,DO:Ce,ACPower:Me,ORP:ze,WaterPH:function(e){var t=e.data,a=e.isOnline,l=e.value,n=(e.lastUpdated,e.interval),i=e.fakeValues,c=e.graphValue,r=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},u.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-acidity":"icon-acidity-disable")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},u.a.createElement("span",{className:""},a&&r?l?l[l.length-1].value:"":"غیرفعال")))),("medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size))&&u.a.createElement(fe,{id:"gauge-"+(null==t?void 0:t.id),value:l?l[l.length-1].value:0}),"large"===(null==t?void 0:t.size)&&n?u.a.createElement(ae,{interval:n,id:"graph-"+t.id,value:(null==c?void 0:c.data)||i,fakeData:!l}):null)},WaterTemperature:function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,o=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},u.a.createElement("div",{className:("medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?"col-5 pl-0 ":"col-12 h-100 ")+"d-flex align-items-center"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-Temperature":"icon-temperature-disable")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},u.a.createElement("span",{className:""},a&&o?l?l[l.length-1].value:"":"غیرفعال"),a&&o&&u.a.createElement("span",{className:"h6"},t.unit))),!a&&l&&u.a.createElement("div",{className:"tile-description temperature"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("span",null,n," دقیقه قبل :"),u.a.createElement("span",null,t.unit),u.a.createElement("span",null,l&&l[l.length-1].value)))),"medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?l?u.a.createElement(_,{id:"gauge-"+t.id,value:l[l.length-1].value}):u.a.createElement(_,{id:"gauge-"+t.id,unit:null==t?void 0:t.unit,value:0}):null,"large"===(null==t?void 0:t.size)&&i?u.a.createElement(ae,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},WaterEC:function(e){var t,a=e.data,l=e.isOnline,n=e.value,i=e.interval,c=(e.lastUpdated,e.fakeValues),r=e.graphValue,o=e.isConnected;return u.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==a?void 0:a.size)?"align-items-center flex-grow-1":"")},u.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("div",{className:"icon icon-24 ".concat(l?"icon-salinity":"icon-salinity-disable")}),u.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(l?"font-30":"font-24")},u.a.createElement("span",{className:""},l&&o?n?n[n.length-1].value:"":"غیرفعال"),u.a.createElement("span",{className:"h6"},n&&(null===(t=n[(null==n?void 0:n.length)-1])||void 0===t?void 0:t.value)>1e3&&l?"ms/cm":l?"us/cm":"")))),("medium"===(null==a?void 0:a.size)||"large"===(null==a?void 0:a.size))&&u.a.createElement(me,{id:"gauge-"+(null==a?void 0:a.id),value:n?n[n.length-1].value:0}),"large"===(null==a?void 0:a.size)&&i?u.a.createElement(ae,{interval:i,id:"graph-"+a.id,value:(null==r?void 0:r.data)||c,fakeData:!n}):null)}},Ye=[{value:0,time:Te()().subtract(1,"days").format("YYYY-MM-DD HH:mm:ss")},{value:0,time:Te()().format("YYYY-MM-DD HH:mm:ss")}],He=Object(d.b)((function(e){return{tilesData:e.tilesData,tilesGraph:e.tilesGraph}}),null)((function(e){var t,a,l,i=e.data,r=e.onRemoveItem,d=e.onEdit,v=e.isDraggable,p=e.tilesData,f=e.selectedTab,b=e.tilesGraph,E=Object(s.useState)(!0),h=c()(E,2),N=h[0],y=h[1],w=Object(s.useState)(!0),O=c()(w,2),j=O[0],k=O[1],S=Object(s.useState)(!1),A=c()(S,2),z=A[0],C=A[1],D=Object(s.useState)(null),F=c()(D,2),M=F[0],R=F[1],T=Object(s.useState)(null),L=c()(T,2),X=L[0],V=L[1],Y=Object(s.useState)(""),H=c()(Y,2),I=H[0],P=H[1],W=Object(s.useRef)(null),G=Object(s.useRef)(null),U=Object(s.useState)(0),_=c()(U,2),J=_[0],q=_[1];Object(s.useEffect)((function(){return document.addEventListener("mousedown",B),function(){document.removeEventListener("mousedown",B)}}),[]),Object(s.useEffect)((function(){var e,t,l,n,c,r;if(a=p.find((function(e){return e.id===(null==i?void 0:i.id)})),P(null!==(e=a)&&void 0!==e&&e.interval?a.interval:"1h"),R((null===(t=a)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.length)>0?null===(l=a)||void 0===l?void 0:l.data:null),y(null===(n=a)||void 0===n?void 0:n.is_online),k(null===(c=a)||void 0===c?void 0:c.is_connected),N&&null!==(r=a)&&void 0!==r&&r.data){var o,s,u=Te()(new Date),d=Te()(null===(o=a)||void 0===o||null===(o=o.data[(null===(s=a)||void 0===s?void 0:s.data.length)-1])||void 0===o?void 0:o.time),m=u.diff(d,"minutes");q(m)}}),[p]),Object(s.useEffect)((function(){l=b.find((function(e){return e.id===(null==i?void 0:i.id)})),V(l)}),[b]),Xe.a.subscribe((function(){l=b.find((function(e){return e.id===(null==i?void 0:i.id)})),V(l)}));var B=function(e){W.current&&!W.current.contains(e.target)&&G.current&&!G.current.contains(e.target)&&C(!1)},Z=function(){var e=n()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r&&r(i.id),C(!1),e.next=4,Object(m.l)(null==i?void 0:i.id);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=Ve[null==i||null===(t=i.sensor_type)||void 0===t?void 0:t.name],Q=function(e){e.stopPropagation(),C(!0)};return u.a.createElement("section",{className:"tile-item ".concat("large"===(null==i?void 0:i.size)?"tile-item-large":"tile-item-medium"," ").concat(N&&j?"tile-bg-white":"tile-bg-grey")},u.a.createElement("div",{className:"tile-card position-relative ".concat("small"===(null==i?void 0:i.size)?"h-100 d-flex flex-column":"")},u.a.createElement("div",{className:"tile-header d-flex justify-content-between py-2 px-12 align-items-center border-bottom"},u.a.createElement("div",{className:"title-text h5 mb-0",title:null==i?void 0:i.title},null==i?void 0:i.title),u.a.createElement("div",{className:"icon icon-24 icon-more-vertical cursor-pointer ".concat(v?"disabled":""),ref:G,onMouseDown:function(e){return Q(e)},onTouchStart:function(e){return Q(e)}})),K&&u.a.createElement(K,{data:i,isOnline:N,value:M,interval:I,graphValue:X,fakeValues:Ye,lastUpdated:J,isConnected:j}),u.a.createElement("div",{className:"tile-dropdown position-absolute px-2 bg-white "+(z?"selected":""),ref:W},g.isMobile?u.a.createElement(Le.b,{className:"d-flex tile-dropdown-item border-bottom mx-1 py-2 align-items-center",to:{pathname:"/Panel/Dashboard/AddNewTile/".concat(null==i?void 0:i.id),state:{selectedTab:f}}},u.a.createElement("div",{className:"icon icon-16 icon-edit"}),u.a.createElement("div",{className:"mr-2"},"ویرایش")):u.a.createElement("div",{className:"d-flex tile-dropdown-item border-bottom mx-1 py-2 align-items-center",onClick:function(){return d(null==i?void 0:i.id)}},u.a.createElement("div",{className:"icon icon-16 icon-edit"}),u.a.createElement("div",{className:"mr-2"},"ویرایش")),u.a.createElement("div",{className:"d-flex tile-dropdown-item mx-1 py-2 align-items-center",onClick:function(){Object(x.confirmAlert)({customUI:function(e){var t=e.onClose;return u.a.createElement("div",{className:"card card-box"},u.a.createElement("p",{className:"text-dark text-center ".concat(g.isMobile?"mt-3":"")},"آیا از حذف تایل مطمئن هستید؟"),u.a.createElement("div",{className:"d-flex mt-4 justify-content-center"},u.a.createElement("button",{className:"button btn-primary-fill-outline py-2 px-3 col-6 ml-2 btn-primary-border text-primary bold",onClick:function(){Z(),t()}},u.a.createElement("span",{className:"py-1 px-3"},"مطمئنم")),u.a.createElement("button",{className:"button btn-primary-fill py-2 px-4 col-6 mr-2 bold",onClick:t},u.a.createElement("span",{className:"py-1 px-3"},"لغو"))))},overlayClassName:"overlay-custom-confirm-modal"})}},u.a.createElement("div",{className:"icon icon-16 icon-delete"}),u.a.createElement("div",{className:"mr-2"},"حذف")))))}));function Ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(a),!0).forEach((function(t){p()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ie(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var We="".concat("https://static.neshan.org","/sdk/leaflet/1.4.0/leaflet.js");var Ge=function(e){var t=e.style,a=e.options,l=e.onInit,n=Object(s.useRef)(null),i={key:"web.f40d782fbfce47d0b479beb76ed82997",maptype:"dreamy",poi:!0,traffic:!1,center:[35.699739,51.338097],zoom:14};return Object(s.useEffect)((function(){!function(e){var t,a,l;t=e.onError,a=e.onLoad,(l=document.createElement("script")).src=We,l.onload=function(){a&&a()},l.onerror=function(){t&&t()},document.body.appendChild(l)}({onLoad:function(){var e=new window.L.Map(n.current,Pe(Pe({},i),a));l&&l(window.L,e)},onError:function(){console.error("Neshan Maps Error: This page didn't load Neshan Maps correctly")}})})),u.a.createElement("div",{ref:n,style:Pe(Pe({},{width:"712px",height:"461px",margin:0,padding:0,background:"#eee"}),t)})},Ue=function(e){var t=e.onClose,a=e.onSubmit,l=e.searchLocation,n=e.centerMap,i=(e.setCenterMap,e.location),r=Object(s.useState)(""),o=c()(r,2),d=o[0],m=o[1],v=Object(s.useState)(i?[null==i?void 0:i.lat,null==i?void 0:i.lng]:[35.699739,51.338097]),p=c()(v,2),g=p[0],b=(p[1],Object(s.useState)(null)),E=c()(b,2),h=E[0],N=E[1],x=Object(s.useState)(null),y=c()(x,2),w=(y[0],y[1]),O=Object(s.useState)(null),j=c()(O,2),k=j[0],S=j[1];Object(s.useEffect)((function(){h&&k&&(h.flyTo([null==n?void 0:n.lat,null==n?void 0:n.lng],11),k.setLatLng(n))}),[n]);return u.a.createElement("div",null,u.a.createElement("div",{className:"d-flex justify-content-between"},u.a.createElement("h4",null,"انتخاب موقعیت مکانی"),u.a.createElement("i",{className:"icon icon-24 icon-close cursor-pointer",onClick:t})),u.a.createElement("div",{className:"search-box mb-3 mt-4 position-relative"},u.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(d)}},u.a.createElement("label",null,"جستجو"),u.a.createElement("input",{type:"text",value:d,onChange:function(e){return m(e.target.value)},className:"form-control pr-3",placeholder:"استان، شهر، آدرس خود را جستجو کنید"}),u.a.createElement("button",{type:"submit",className:"icon-search-input p-0 border-0 bg-transparent"},u.a.createElement("i",{className:"icon icon-search icon-24 cursor-pointer"})))),u.a.createElement("div",{className:"rounded-12 overflow-hidden"},u.a.createElement(Ge,{options:{key:"web.f40d782fbfce47d0b479beb76ed82997",maptype:"dreamy",poi:!0,traffic:!1,center:g,zoom:13},onInit:function(e,t){var a=e.marker(g).addTo(t).bindPopup("موقعیت مورد نظر");t.on("click",(function(e){a.setLatLng(e.latlng)})),N(t),w(e),S(a)},style:{width:"100%",height:"461px"}})),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-12 d-flex mt-3 justify-content-end"},u.a.createElement(f.a,{className:"button btn-primary-fill py-2 px-5 d-flex align-items-center justify-content-center",handler:a},u.a.createElement("span",{className:"p-1"},"تایید")),u.a.createElement(f.a,{className:"button btn-primary-fill-outline py-2 px-4 btn-primary-border mr-3 d-flex align-items-center justify-content-center",handler:t},u.a.createElement("span",null,"لغو")))))};h.a.setAppElement("#root");var _e={content:{top:"50%",left:"50%",right:"unset",bottom:"unset",transform:"translate(-50%, -50%)",width:"775px",height:"742px"}},Je=function(e){var t,a,l,n=e.selectedTab,i=e.location,r=e.setLocation,o=Object(s.useState)(null),d=c()(o,2),v=d[0],p=d[1],f=Object(s.useState)([]),b=c()(f,2),E=b[0],N=b[1],x=Object(s.useState)(!1),y=c()(x,2),w=y[0],O=y[1],j=Object(s.useState)(null),k=c()(j,2),S=k[0],A=k[1],z=Object(s.useState)(null),C=c()(z,2),D=C[0],F=C[1],M=function(){O(!1)};Object(s.useEffect)((function(){fetch("https://weather.iotstream.ir/getweather/").then((function(e){return e.json()})).then((function(e){var t;p(null==e?void 0:e.current),N(null==e||null===(t=e.forecast)||void 0===t?void 0:t.forecastday),A(null==e?void 0:e.location)})).catch((function(e){return console.log(e)}))}),[i]);return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"weather bg-white"},u.a.createElement("div",{className:"weather-body"},u.a.createElement("div",{className:"weather-body-primary"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-6 d-flex ".concat(g.isMobile?"flex-column justify-content-center align-items-center":"justify-content-around align-items-baseline")},u.a.createElement("span",{className:"d-flex align-items-center dir-ltr"},null===(t=E[0])||void 0===t||null===(t=t.day)||void 0===t?void 0:t.maxtemp_c,"°C",u.a.createElement("i",{className:"icon icon-22 icon-arrow-up icon-white"})),u.a.createElement("span",{className:"d-flex align-items-center dir-ltr"},null===(a=E[0])||void 0===a||null===(a=a.day)||void 0===a?void 0:a.mintemp_c,"°C",u.a.createElement("i",{className:"icon icon-22 icon-arrow-down icon-white"}))),u.a.createElement("div",{className:"col-6 d-flex justify-content-around align-items-center pl-0"},u.a.createElement("div",{className:"d-flex flex-column justify-content-center align-items-start"},u.a.createElement("span",{className:"font-40 dir-ltr"},null==v?void 0:v.temp_c,u.a.createElement("span",{className:"font-24"},"°C")),S&&u.a.createElement("span",null,null==S?void 0:S.country,"، ",null==S?void 0:S.name),u.a.createElement("span",{className:"mt-1 cursor-pointer",onClick:function(){return O(!0)}},u.a.createElement("i",{className:"icon icon-16 icon-map ml-1"}),u.a.createElement("span",{className:"font-9 text-nowrap"},"تغییر موقعیت مکانی"))),u.a.createElement("i",{className:"icon icon-".concat(null!=v&&v.is_day?"day":"night","-weather-").concat(null==v||null===(l=v.condition)||void 0===l?void 0:l.code," ").concat(g.isMobile?"icon-48":"icon-96")})))),u.a.createElement("div",{className:"weather-body-secondary"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"d-flex justify-content-around flex-column font-size-21 ".concat(g.isMobile?"col-6 pr-0":"col-4")},u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement("i",{className:"icon icon-24 icon-windy ml-2"}),u.a.createElement("span",null,"km/h"),u.a.createElement("span",{className:"mr-2"},null==v?void 0:v.wind_kph)),u.a.createElement("div",{className:"d-flex"},u.a.createElement("i",{className:"icon icon-24 icon-weather-humidity"}),u.a.createElement("span",{className:"mr-2"},null==v?void 0:v.humidity,"%"))),u.a.createElement("div",{className:"d-flex justify-content-between ".concat(g.isMobile?"col-6 overflow-x-auto gap-x-12":"col-8")},null==E?void 0:E.map((function(e,t){var a;return u.a.createElement("div",{className:"weather-future",key:t},u.a.createElement("div",{className:"d-flex flex-column"},u.a.createElement("span",{className:"mt-1 text-left text-nowrap dir-ltr"},parseInt(e.day.maxtemp_c),u.a.createElement("i",{className:"icon icon-18 icon-arrow-up icon-white"})),u.a.createElement("span",{className:"mb-1 text-left text-nowrap dir-ltr"},parseInt(e.day.mintemp_c),u.a.createElement("i",{className:"icon icon-18 icon-arrow-down icon-white"}))),u.a.createElement("i",{className:"icon icon-day-weather-".concat(null===(a=e.day.condition)||void 0===a?void 0:a.code," ").concat(g.isMobile?"icon-16":"icon-24")}),u.a.createElement("span",{className:"".concat(g.isMobile?"font-9":"")},Te()(e.date).locale("fa").format("dddd")))}))))))),u.a.createElement(h.a,{isOpen:w,onRequestClose:M,style:_e,className:"",contentLabel:"Example Modal"},u.a.createElement(Ue,{onClose:M,onSubmit:function(){var e={location:D};Object(m.mb)(e,n).then((function(e){r(null==e?void 0:e.location),M()})).catch((function(e){console.log(e)}))},searchLocation:function(e){fetch("https://api.neshan.org/v1/search?term=".concat(e,"&lat=35.699739&lng=51.338097"),{headers:{"Api-Key":"service.5af3f2ec6ee6420cae20291c0bb815da"}}).then((function(e){return e.json()})).then((function(e){var t,a;e.count>0&&F({lat:null==e||null===(t=e.items[0])||void 0===t||null===(t=t.location)||void 0===t?void 0:t.y,lng:null==e||null===(a=e.items[0])||void 0===a||null===(a=a.location)||void 0===a?void 0:a.x})})).catch((function(e){return console.log(e)}))},centerMap:D,setCenterMap:F,location:i})))},qe=a(370),Be=a(371),Ze=a.n(Be);function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function Qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(a),!0).forEach((function(t){p()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $e=Object(M.WidthProvider)(M.Responsive);h.a.setAppElement("#root");var et,tt={content:{height:"max-content",overflowY:g.isMobile?"auto":"unset"}},at=function(e){var t=e.tiles,a=e.selectedTab,l=e.onLayoutChange,i=e.onRemoveItem,r=e.onloadTiles,d=e.onResetLayout,v=e.isDraggable,p=e.layouts,b=e.setLayouts,E=e.setIsDraggable,N=e.location,x=e.setLocation,y=Object(s.useState)(!1),w=c()(y,2),O=w[0],j=w[1],k=Object(s.useState)(null),S=c()(k,2),A=S[0],z=S[1],C=Object(s.useState)(!1),D=c()(C,2),M=D[0],T=D[1],L=Object(s.useState)(null),X=c()(L,2),V=X[0],Y=X[1],H=function(){var e=n()(o.a.mark((function e(t){var l,n,i,c,s,u,d,v;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(!0),l=null,e.prev=2,!A){e.next=10;break}return e.next=6,Object(m.nb)(t,A.id);case 6:l=e.sent,I(t),e.next=14;break;case 10:return e.next=12,Object(m.c)(t,a.id);case 12:(l=e.sent)&&(n={},g.isMobile?i="xxs":g.isTablet?i="sm":!g.isDesktop||(i="lg"),c=JSON.parse(Ze.a.get("position-".concat(a.id)))[i],Object(qe.a)(l.data.status),s=[Qe(Qe({},l.data.status),{},{i:JSON.stringify(l.data.id)})],c&&s&&(n=g.isMobile?{xxs:[].concat(F()(c),s)}:g.isTablet?{sm:[].concat(F()(c),s)}:(g.isDesktop,{lg:[].concat(F()(c),s)})),Ze.a.set("position-".concat(a.id),JSON.stringify(n)));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),403===(null===e.t0||void 0===e.t0||null===(u=e.t0.response)||void 0===u?void 0:u.status)?(j(!1),alert.show(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d||null===(d=d.data)||void 0===d||null===(d=d.error)||void 0===d||null===(d=d.details)||void 0===d?void 0:d.detail,{type:"error"})):Y(null===e.t0||void 0===e.t0||null===(v=e.t0.response)||void 0===v||null===(v=v.data)||void 0===v||null===(v=v.error)||void 0===v?void 0:v.details);case 19:T(!1),l&&(U(),r(),alert.show(A?"با موفقیت ویرایش گردید.":"با موفقیت اضافه گردید.",{type:"success"}));case 21:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}(),I=function(e){var t=Ze.a.get("position-".concat(a.id));Object(qe.a)(e.status),Object.values(JSON.parse(t)).map((function(t){if(t.length>0){var a=t.findIndex((function(e){return e.i===A.id.toString()}));t[a].w=e.status.w,t[a].h=e.status.h}})),Ze.a.set("position-".concat(a.id),JSON.stringify(t)),b(JSON.parse(t))},P=function(e){Object(m.L)(e).then((function(e){z(e),j(!0)})).catch((function(e){return console.log(e)}))},W={x:0,y:0,w:4,h:2,static:!0},G=function(e){i&&i(e)},U=function(){j(!1),z(null),Y(null)};return u.a.createElement(u.a.Fragment,null,u.a.createElement("section",{className:"".concat(v?"card":"")},u.a.createElement($e,{className:"layout rtl react-resizable-handle",rowHeight:160,width:860,layouts:p,onLayoutChange:function(e,t){l&&l(e,t)},isDraggable:v,breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:9,md:8,sm:6,xs:4,xxs:2},allowOverlap:!1,isResizable:!0},t.length>0&&function(){var e=[],l=0;e.push(u.a.createElement("div",{key:0,"data-grid":W},u.a.createElement(Je,{selectedTab:a.id,location:N,setLocation:x})));for(var n=function(){var n,c,r=t[i],o=function(e){switch(null==e?void 0:e.size){case"small":return{w:1,h:1};case"medium":return{w:2,h:1};case"large":return{w:2,h:2};default:return{w:1,h:1}}}(r),s=Ze.a.get("position-".concat(a.id));if(!s||(s=JSON.parse(s)),g.isMobile?c="xxs":g.isTablet?c="sm":!g.isDesktop||(c="lg"),s&&s[c]&&0!==s[c].length){var d=Ze.a.get("position-".concat(a.id));n=JSON.parse(d)[c].find((function(e){return parseInt(e.i)===r.id}))}else{var m;n=Qe(Qe({},n=null===(m=t[i])||void 0===m?void 0:m.status),{},{i:r.id}),Object(qe.a)(n)}l=1===(null==o?void 0:o.w)?l+1:l+2,e.push(u.a.createElement("div",{key:null==r?void 0:r.id,"data-grid":n},u.a.createElement(He,{data:r,key:r.id,onRemoveItem:G,onEdit:P,isDraggable:v,selectedTab:a.id})))},i=0;i<t.length;i++)n();return e}()),v&&u.a.createElement("div",{className:"d-flex justify-content-end mt-3 px-2 pb-4"},u.a.createElement(f.a,{className:"d-flex button btn-primary-fill height-auto py-1 px-4 justify-content-center align-items-center ml-3",handler:function(){return E(!1)}},u.a.createElement("span",null,"ذخیره تغییرات")),u.a.createElement(f.a,{className:"d-flex button btn-primary-outline btn-primary-border height-auto px-4 py-1 justify-content-center ml-1 align-items-center",handler:d},u.a.createElement("span",{className:""},"لغو تغییرات"))),!v&&(null==a?void 0:a.id)&&(g.isMobile?u.a.createElement(Le.b,{className:"tile-item mt-2 add-tile d-flex align-items-center justify-content-center",to:{pathname:"/Panel/Dashboard/AddNewTile",state:{selectedTab:a.id}}},u.a.createElement("i",{className:"icon icon-48 icon-plus-primary"})):u.a.createElement("section",{className:"tile-item mt-2 add-tile d-flex align-items-center justify-content-center",onClick:function(){return j(!0)}},u.a.createElement("i",{className:"icon icon-24 icon-plus-primary"})))),u.a.createElement(h.a,{isOpen:O,contentLabel:"اضافه کردن تایل",className:"position-unset bg-white",onRequestClose:U,shouldCloseOnOverlayClick:!0,style:tt},u.a.createElement(R.a,{onSave:function(e){H(e)},onClose:U,isLoading:M,tile:A,errors:V})))},lt=a(703),nt=a(5);t.default=Object(d.b)(null,(function(e){return{setTilesData:function(t){return e({type:nt.j,payload:t})},setTileData:function(t){return e({type:nt.k,payload:t})},addTile:function(t){return e({type:nt.b,payload:t})},addGraph:function(t){return e({type:nt.i,payload:t})},updateGraph:function(t){return e({type:nt.l,payload:t})},resetGraph:function(){return e({type:nt.h})}}}))((function(e){var t=e.setTilesData,a=e.setTileData,l=(e.addTile,e.resetGraph),i=e.addGraph,r=e.updateGraph,d=Object(s.useState)([]),v=c()(d,2),p=v[0],f=v[1],b=Object(s.useState)({}),E=c()(b,2),h=E[0],N=E[1],x=Object(s.useState)([]),y=c()(x,2),w=y[0],O=y[1],j=Object(s.useState)(!1),k=c()(j,2),S=k[0],A=k[1],z=Object(s.useState)({}),D=c()(z,2),F=D[0],M=D[1],R=Object(s.useState)({}),T=c()(R,2),L=T[0],X=T[1],V=Object(s.useState)(null),Y=c()(V,2),H=Y[0],I=Y[1],P=Object(s.useState)(null),W=c()(P,2),G=W[0],U=W[1];Object(s.useEffect)((function(){et=setInterval((function(){null==w||w.map((function(e){"large"===e.size&&Object(m.N)(null==e?void 0:e.id).then((function(e){r(e)})).catch((function(e){return console.log(e)}))}))}),12e4)}),[w]),Object(s.useEffect)((function(){return _(),function(){clearTimeout(et)}}),[]),Object(s.useEffect)((function(){return G&&(G.onopen=function(e){var t;G.send(JSON.stringify({tab_id:null===(t=p[0])||void 0===t?void 0:t.id}))},G.onmessage=function(e){var t=JSON.parse(e.data);null!=t&&t.id&&a(t)},G.onclose=function(e){setTimeout((function(){U(new WebSocket("wss://viranique.com/ws/monitoring/".concat(localStorage.getItem("token"),"/")))}),1e3)}),function(){G&&G.close()}}),[G]),Object(s.useEffect)((function(){null!=h&&h.id&&(l(),I(null!=h&&h.location?null==h?void 0:h.location:null),J(),1===G.readyState&&G.send(JSON.stringify({tab_id:null==h?void 0:h.id})))}),[h]),Object(s.useEffect)((function(){l(),w.map((function(e){Object(m.M)(e.id).then((function(e){a(e)})).catch((function(e){return console.log(e)})),"large"===e.size&&Object(m.N)(null==e?void 0:e.id).then((function(e){i(e)})).catch((function(e){return console.log(e)}))}))}),[w]);var _=function(){var e=n()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.K)();case 2:t=e.sent,U(new WebSocket("wss://viranique.com/ws/monitoring/".concat(localStorage.getItem("token"),"/"))),t&&(f(t),N(t[0]));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=n()(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.O)(null==h?void 0:h.id);case 2:(a=e.sent)&&(O(a),t(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){Ze.a.set("position-".concat(h.id),JSON.stringify(L)),M(L),A(!1)};return Object(s.useEffect)((function(){S&&0!==Object.keys(L).length&&q()}),[h]),u.a.createElement("div",{className:""},u.a.createElement(C,{tabs:p,onLoadTabs:_,onEditLayout:function(){X(F),A(!0)},isDraggable:S,onClick:N,selectedTab:h}),u.a.createElement("div",{className:"row mt-3 overflow-auto height-custom ".concat(g.isMobile?"pb-5":"")},u.a.createElement("div",{className:"col-xl-12 col-sm-12"},u.a.createElement(at,{tiles:w,selectedTab:h,useCSSTransforms:!0,onRemoveItem:function(e){O(Object(lt.reject)(w,{id:e}))},onLayoutChange:function(e,t){M(t),Ze.a.set("position-".concat(h.id),JSON.stringify(t))},onloadTiles:J,onResetLayout:q,isDraggable:S,setIsDraggable:A,layouts:F,setLayouts:M,location:H,setLocation:I}))))}))}}]);