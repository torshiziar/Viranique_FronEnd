(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{376:function(e,t,a){"use strict";var l=a(325),n=a.n(l),i=a(1),c=a.n(i),r=a(348),s=a(328),o=a(349),u=a(332),d=a(21),m=a(14);t.a=function(e){var t,a,l,v=e.onClose,p=e.onSave,f=e.isLoading,g=e.tile,b=e.errors,h=Object(m.b)().t,E=Object(i.useState)(!1),x=n()(E,2),y=x[0],N=x[1];l=y?[{value:"large",label:"".concat(h("text.largesize"))},{value:"Xlarge",label:"".concat(h("text.xlargesize"))}]:[{value:"small",label:"".concat(h("text.smallsize"))},{value:"medium",label:"".concat(h("text.mediumsize"))},{value:"large",label:"".concat(h("text.largesize"))}];var w=[{value:"5m",label:"".concat(h("text.minutesago5"))},{value:"30m",label:"".concat(h("text.minutesago30"))},{value:"1h",label:"".concat(h("text.hourago1"))},{value:"6h",label:"".concat(h("text.hourago6"))},{value:"1d",label:"1 روز قبل"}],O=[{value:1,label:"".concat(h("text.Nodecimals"))},{value:.1,label:"".concat(h("text.Onedecimalplace"))}],j=Object(i.useState)(""),S=n()(j,2),A=S[0],k=S[1],z=Object(i.useState)([]),D=n()(z,2),C=D[0],F=D[1],M=Object(i.useState)([]),R=n()(M,2),X=R[0],T=R[1],I=Object(i.useState)([]),L=n()(I,2),Y=L[0],P=L[1],V=Object(i.useState)(l[2]),W=n()(V,2),H=W[0],G=W[1],U=Object(i.useState)(null),_=n()(U,2),q=_[0],J=_[1],Q=Object(i.useState)(null),B=n()(Q,2),Z=B[0],K=B[1],$=Object(i.useState)(w[0]),ee=n()($,2),te=ee[0],ae=ee[1],le=Object(i.useState)(O[0]),ne=n()(le,2),ie=ne[0],ce=ne[1],re=Object(i.useState)(null),se=n()(re,2),oe=se[0],ue=se[1],de=Object(i.useState)(!1),me=n()(de,2),ve=me[0],pe=me[1],fe=Object(i.useState)(""),ge=n()(fe,2),be=ge[0],he=ge[1],Ee=Object(i.useState)(!1),xe=n()(Ee,2),ye=xe[0],Ne=xe[1];Object(i.useEffect)((function(){"Weather"==(null==q?void 0:q.label)?(N(!0),G(l[2])):N(!1)}),[q]),Object(i.useEffect)((function(){console.log("selectedSensorType :",null==q?void 0:q.label),Ne(!!(q&&Z&&""!==A&&H))}),[q,Z,A,H]);var we=Object(i.useRef)(null);Object(i.useEffect)((function(){Oe()}),[]),Object(i.useEffect)((function(){var e;he(ve?null===(e=we.current)||void 0===e?void 0:e.getBoundingClientRect().height:0)}),[ve]),Object(i.useEffect)((function(){var e,t,a;null!=q&&null!==(e=q.item)&&void 0!==e&&e.units&&T(Object(o.g)(null==q||null===(a=q.item)||void 0===a?void 0:a.units));"BINARY"===(null==q||null===(t=q.item)||void 0===t?void 0:t.value)&&G(l[0])}),[q]),Object(i.useEffect)((function(){return ue(X[0])}),[X]);var Oe=function(){Object(s.z)().then((function(e){F(Object(o.f)(e))})).catch((function(e){console.log(e)}))};Object(i.useEffect)((function(){K(null),null!=q&&q.value&&Object(s.H)(null==q?void 0:q.value).then((function(e){P(Object(o.e)(e))})).catch((function(e){return console.log(e)}))}),[q]),Object(i.useEffect)((function(){g&&(k(g.title),G((function(){return l.find((function(e){return e.value===g.size}))})),ue((function(){return X.find((function(e){return e.value===g.unit}))})),ce((function(){return O.find((function(e){return e.value===+g.precision}))})),ae((function(){return w.find((function(e){return e.value===g.timeRange}))})),K((function(){return Y.find((function(e){return e.value===g.sensor}))})),J((function(){return C.find((function(e){return e.value===g.sensor_type}))})))}),[g,C,Y]),Object(i.useEffect)((function(){g||k(null==Z?void 0:Z.label.split("-")[0].trim())}),[Z]);return c.a.createElement("div",{className:"mx--15px px-15px mt--15px pt-15px ".concat(d.isMobile?"height-tile-form-custom overflow-y-auto overflow-x-clip":"")},c.a.createElement("div",{className:"position-relative ".concat(d.isMobile?"card px-1 pt-3":""," ")},c.a.createElement("div",{className:"row row-gap-2 ".concat(d.isMobile?"px-2":"")},c.a.createElement("div",{className:"col-md-4 col-sm-12"},c.a.createElement("div",{className:"form-group "},c.a.createElement("label",{htmlFor:"selectedSensorType",className:"required"},h("text.sensortype")),c.a.createElement(r.a,{className:"autoCompeletSelect ".concat(b&&null!=b&&b.sensor_type?"border-error":""),value:q,onChange:J,options:C,mobileMode:!0,placeholder:h("text.Select")}),b&&null!=b&&b.sensor_type?c.a.createElement("p",{className:"error-field"},null==b?void 0:b.sensor_type[0]):null)),c.a.createElement("div",{className:"col-md-8 col-sm-12 ".concat(d.isMobile?"mt-2":""," ")},c.a.createElement("div",{className:"form-group "},c.a.createElement("label",{htmlFor:"selectedSensor",className:"required"},h("text.Sensorselection")),c.a.createElement(r.a,{className:"autoCompeletSelect ".concat(b&&null!=b&&b.sensor?"border-error":""),value:Z,onChange:K,options:Y,mobileMode:!0,placeholder:h("text.Select")}),b&&null!=b&&b.sensor?c.a.createElement("p",{className:"error-field"},null==b?void 0:b.sensor[0]):null))),c.a.createElement("div",{className:"row ".concat(d.isMobile?"px-2":"pt-3","  ")},c.a.createElement("div",{className:"col-md-8 col-sm-12 ".concat(d.isMobile?"mt-2":"")},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"title",className:"required"},h("text.Tilename")),c.a.createElement("input",{className:"form-control px-3 ".concat(b&&null!=b&&b.title?"border-error":""),type:"text",id:"title",name:"title",placeholder:h("text.Choosedesirednameforsensor"),value:A,onChange:function(e){return k(e.target.value)}}),b&&null!=b&&b.title?c.a.createElement("p",{className:"error-field"},null==b?void 0:b.title[0]):null)),c.a.createElement("div",{className:"col-md-4 col-sm-12 ".concat(d.isMobile?"mt-2":""," ")},c.a.createElement("div",{className:"form-group "},c.a.createElement("label",{htmlFor:"provinceSelected",className:"required"},h("text.Displaytype")),c.a.createElement(r.a,{className:"autoCompeletSelect ".concat("BINARY"===(null==q||null===(t=q.item)||void 0===t?void 0:t.value)?"disabled":""," ").concat(b&&null!=b&&b.size?"border-error":""),value:H,onChange:G,options:l,mobileMode:!0,placeholder:h("text.Select")}),b&&null!=b&&b.size?c.a.createElement("p",{className:"error-field"},null==b?void 0:b.size[0]):null))),"BINARY"!==(null==q||null===(a=q.item)||void 0===a?void 0:a.value)&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"border-bottom ".concat(d.isMobile?"mx-2 mt-2":"mt-4"," ").concat(d.isMobile&&!ve?"":"mb-3")}),c.a.createElement("div",{className:"custom-collapse",style:{height:be}},c.a.createElement("div",{ref:we},ve&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"row ".concat(d.isMobile?"px-2 pb-3":""," ").concat(y?"disabled_":""," ")},c.a.createElement("div",{className:"col-md-4 col-sm-12 ".concat(d.isMobile?"mt-2":"mt-3")},c.a.createElement("div",{className:"form-group "},c.a.createElement("label",{htmlFor:"provinceSelected"},h("text.period")),c.a.createElement(r.a,{className:"autoCompeletSelect ".concat("large"!==(null==H?void 0:H.value)?"disabled":""),value:te,onChange:ae,options:w,mobileMode:!0,placeholder:h("text.Select")}))),c.a.createElement("div",{className:"col-md-4 col-sm-12 ".concat(d.isMobile?"mt-2":"mt-3")},c.a.createElement("div",{className:"form-group "},c.a.createElement("label",{htmlFor:"selectedDiagramType"},h("text.Unitofmeasurement")),c.a.createElement(r.a,{className:"autoCompeletSelect ",value:oe,onChange:ue,options:X,mobileMode:!0,placeholder:h("text.Select")}))),c.a.createElement("div",{className:"col-md-4 col-sm-12 ".concat(d.isMobile?"mt-2":"mt-3")},c.a.createElement("div",{className:"form-group "},c.a.createElement("label",{htmlFor:"provinceSelected"},h("text.Decimalprecision")),c.a.createElement(r.a,{className:"autoCompeletSelect ",value:ie,onChange:ce,options:O,mobileMode:!0,placeholder:h("text.Select")})))),!d.isMobile&&c.a.createElement("div",{className:"border-bottom mt-4 mb-3"})))),c.a.createElement("div",{className:"btn-collapse icon-24 icon-arrow-".concat(ve?"up":"down","-primary cursor-pointer"),onClick:function(){return pe((function(e){return!e}))},style:{bottom:"-13px"}}))),c.a.createElement("div",{className:"row justify-content-end"},c.a.createElement("div",{className:"col-12 d-flex justify-content-end ".concat(d.isMobile?"mt-4":"mt-3")},c.a.createElement(u.a,{type:"submit",className:"d-flex button btn-primary-fill justify-content-center align-items-center px-5 ml-3 ".concat(d.isMobile?"width-65 mt-3":""," ").concat(ye||y?"":"disabled"),handler:function(e){!function(e){var t,a;switch(null==H?void 0:H.value){case"Xlarge":t={w:"4",h:"2",x:"0",y:"0"},a="Graph";break;case"large":t={w:"2",h:"2",x:"0",y:"0"},a="Graph";break;case"medium":t={w:"2",h:"1",x:"0",y:"0"},a="Gauge";break;case"small":default:t={w:"1",h:"1",x:"0",y:"0"},a="Gauge"}var l={title:A,size:null==H?void 0:H.value,unit:null==oe?void 0:oe.value,precision:null==ie?void 0:ie.value,timeRange:null==te?void 0:te.value,sensor:null==Z?void 0:Z.value,sensor_type:null==q?void 0:q.value,status:t,type:a};p&&p(l)&&v&&v()}()},isLoading:f},c.a.createElement("p",{className:"m-0"},h("text.save"))),c.a.createElement(u.a,{type:"submit",className:"d-flex button btn-primary-outline px-5 justify-content-center align-items-center ".concat(d.isMobile?"width-35 mt-3":""),handler:function(e){v?v():history.back()}},c.a.createElement("p",{className:"m-0"},h("text.cancel"))))))}},396:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var l=function(e){Object.keys(e).map((function(t,a){e[t]*=1}))}},832:function(e,a,l){"use strict";l.r(a);var n=l(357),i=l.n(n),c=l(11),r=l.n(c),s=l(325),o=l.n(s),u=l(358),d=l.n(u),m=l(1),v=l.n(m),p=l(40),f=l(328),g=l(332),b=l(21),h=l(14),E=function(e){var t=e.onClose,a=e.data,l=e.handleActionTab,n=e.errors,i=Object(m.useState)(""),c=o()(i,2),r=c[0],s=c[1],u=Object(m.useRef)(null);Object(m.useEffect)((function(){a&&s(a.title)}),[a]),Object(m.useEffect)((function(){u.current.focus()}),[]);var d=Object(h.b)().t;return v.a.createElement("div",{className:"position-relative"},v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col-md-12 col-sm-12"},v.a.createElement("div",{className:"form-group"},b.isMobile&&v.a.createElement("i",{className:"icon icon-20 icon-close btn-close",onClick:t}),v.a.createElement("label",{htmlFor:"title",className:"required ".concat(b.isMobile?"mb-3":"")},d(a?"text.editnamedashboard":"text.Newnamedashboard")),v.a.createElement("input",{className:"form-control px-3 ".concat(n&&null!=n&&n.title?"border-error":""),type:"text",id:"title",name:"title",placeholder:d("text.Choosenameyourdashboard"),value:r,ref:u,onChange:function(e){return s(e.target.value)}}),n&&null!=n&&n.title?v.a.createElement("p",{className:"error-field"},null==n?void 0:n.title[0]):null))),v.a.createElement("div",{className:"row justify-content-end"},v.a.createElement("div",{className:"col-12 d-flex justify-content-end"},v.a.createElement(g.a,{type:"submit",className:"d-flex button btn-primary-fill justify-content-center align-items-center px-5 ".concat(b.isMobile&&!a?"w-100 mt-3":"width-65 ml-3"," ").concat(""===r?"disabled":""),handler:function(){l(r)}},v.a.createElement("p",{className:"m-0"},d("text.save"))),(!b.isMobile||b.isMobile&&a)&&v.a.createElement(g.a,{type:"submit",className:"d-flex button btn-primary-outline px-5 justify-content-center align-items-center width-35",handler:function(e){t&&t()}},v.a.createElement("p",{className:"m-0"},d("text.cancel"))))))},x=l(337),y=l.n(x);y.a.setAppElement("#root");var N=function(e){var t=e.item,a=e.onEdit,l=e.onDelete,n=e.onClick,i=e.selectedTab,c=e.onEditLayout,r=e.onArrange,s=Object(h.b)().t,u=Object(m.useState)(!1),d=o()(u,2),p=d[0],f=d[1],g=Object(m.useRef)(null),E=function(e){g.current&&!g.current.contains(e.target)&&f(!1)};return Object(m.useEffect)((function(){return document.addEventListener("click",E,!0),function(){document.removeEventListener("click",E,!0)}}),[]),v.a.createElement("div",{className:"position-relative ".concat(p?"dropdown-open":""," ").concat((null==i?void 0:i.id)===t.id?"tab tab-active":"tab")},v.a.createElement("div",{className:"py-2 border-left text-nowrap cursor-pointer ".concat(b.isMobile?"pr-2":"pr-4"," ").concat((null==i?void 0:i.id)===t.id?"":"pl-4")},v.a.createElement("span",{onClick:function(){return n(t)}},null==t?void 0:t.title),(null==i?void 0:i.id)===t.id&&v.a.createElement("div",{className:"icon icon-18 icon-more-vertical mr-1",onClick:function(){return f((function(e){return!e}))}})),b.isMobile?v.a.createElement(y.a,{isOpen:p,onRequestClose:function(){return f(!1)},shouldCloseOnOverlayClick:!0,className:"action-modal pb-2"},v.a.createElement("div",{className:"row justify-content-end mb-3 position-relative"},v.a.createElement("div",{className:"position-absolute btn-close"},v.a.createElement("i",{className:"icon icon-24 icon-close",onClick:function(){return f(!1)}}))),v.a.createElement("div",{className:"row px-2 font-size-14 font-400"},v.a.createElement("div",{className:"col-12 mt-2 px-2"},v.a.createElement("div",{onClick:function(){f(!1),a(t.id)},className:"d-flex tile-dropdown-item py-2 border-bottom border-muted align-items-center cursor-pointer"},v.a.createElement("div",{className:"icon icon-20 icon-edit"}),v.a.createElement("div",{className:"mr-2 text-nowrap"},s("text.editnamedashboard")))),v.a.createElement("div",{className:"col-12 mt-2 px-2"},v.a.createElement("div",{onClick:function(){f(!1),c()},className:"d-flex tile-dropdown-item py-2 border-bottom border-muted align-items-center cursor-pointer"},v.a.createElement("div",{className:"icon icon-20 icon-moving-tiles"}),v.a.createElement("div",{className:"mr-2 text-nowrap"},s("text.Movingtiles")))),v.a.createElement("div",{className:"col-12 px-2"},v.a.createElement("div",{className:"d-flex tile-dropdown-item py-2 align-items-center cursor-pointer",onClick:function(){l(t.id),f(!1)}},v.a.createElement("div",{className:"icon icon-20 icon-delete"}),v.a.createElement("div",{className:"mr-2"},s("text.delete")))),v.a.createElement("div",{className:"col-12 px-2"},v.a.createElement("div",{className:"d-flex tile-dropdown-item py-2 align-items-center cursor-pointer",onClick:function(){r(t.id),f(!1)}},v.a.createElement("div",{className:"icon icon-20 icon-delete"}),v.a.createElement("div",{className:"mr-2"},s("text.arrang")))))):v.a.createElement("div",{className:"tile-dropdown position-absolute font-size-14 font-400 px-3 bg-white",ref:g},v.a.createElement("div",{onClick:function(){return a(t.id)},className:"d-flex tile-dropdown-item border-bottom border-muted py-3 align-items-center cursor-pointer"},v.a.createElement("div",{className:"icon icon-20 icon-edit"}),v.a.createElement("div",{className:"mr-2 text-nowrap"},s("text.editnamedashboard"))),v.a.createElement("div",{onClick:function(){f(!1),c()},className:"d-flex tile-dropdown-item border-bottom border-muted py-3 align-items-center cursor-pointer"},v.a.createElement("div",{className:"icon icon-20 icon-moving-tiles"}),v.a.createElement("div",{className:"mr-2 text-nowrap"},s("text.Movingtiles"))),v.a.createElement("div",{className:"d-flex tile-dropdown-item py-3 align-items-center cursor-pointer",onClick:function(){l(t.id),f(!1)}},v.a.createElement("div",{className:"icon icon-20 icon-delete"}),v.a.createElement("div",{className:"mr-2"},s("text.delete"))),v.a.createElement("div",{className:"d-flex tile-dropdown-item py-3 align-items-center cursor-pointer",onClick:function(){r(t.id),f(!1)}},v.a.createElement("div",{className:"icon icon-20 icon-delete"}),v.a.createElement("div",{className:"mr-2"},s("text.arrang")))))},w=l(354);l(359);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}y.a.setAppElement("#root");var j,S,A,k,z,D,C,F,M=function(e){var t=e.tabs,a=e.onLoadTabs,l=e.onClick,n=e.selectedTab,i=e.onEditLayout,c=e.onArrange,s=Object(m.useState)(!1),u=o()(s,2),d=u[0],p=u[1],x=Object(m.useState)(null),j=o()(x,2),S=j[0],A=j[1],k=Object(m.useState)(null),z=o()(k,2),D=z[0],C=z[1],F=Object(h.b)().t,M=function(e){Object(f.J)(e).then((function(e){A(e),p(!0)})).catch((function(e){console.log(e)}))},R=function(e){Object(w.confirmAlert)({customUI:function(t){var l=t.onClose;return v.a.createElement("div",{className:"card card-box"},v.a.createElement("p",{className:"text-dark text-center ".concat(b.isMobile?"mt-3":"")},F("text.suredelet")),v.a.createElement("div",{className:"d-flex mt-4 justify-content-center"},v.a.createElement("button",{className:"button btn-primary-fill-outline py-2 px-3 col-6 mx-2 btn-primary-border text-primary bold",onClick:function(){!function(e){Object(f.k)(e).then((function(e){a()})).catch((function(e){console.log(e,": error")}))}(e),l()}},v.a.createElement("span",{className:"py-1 px-3"},F("text.Iamsure"))),v.a.createElement("button",{className:"button btn-primary-fill py-2 px-4 col-6 mr-2 bold",onClick:l},v.a.createElement("span",{className:"py-1 px-3"},F("text.cancel")))))},overlayClassName:"overlay-custom-confirm-modal"})},X=function(){p(!1),A(null),C(null)};return v.a.createElement("section",{className:"card header-dashboard-tab"},v.a.createElement("div",{className:"row align-items-center mx-0 p-3 flex-nowrap ".concat(b.isMobile?"cg-2":"")},v.a.createElement(g.a,{className:"d-flex button btn-primary-fill submit justify-content-center align-items-center ".concat(b.isMobile?"height-auto p-2":"pl-3 pr-3"),handler:function(){return p(!0)}},v.a.createElement("div",{className:"icon icon-24 icon-plus"}),!b.isMobile&&v.a.createElement("div",{className:"mr-2 text-nowrap"},F("text.Newdashboard"))),v.a.createElement("div",{className:"d-flex ".concat(b.isMobile?"overflow-x-auto overflow-y-clip hide-scroll":"")},null==t?void 0:t.map((function(e,t){return v.a.createElement(N,{item:e,key:t,selectedTab:n,onEdit:M,onClick:l,onDelete:R,onEditLayout:i,onArrange:c})})))),v.a.createElement(y.a,{isOpen:d,contentLabel:"اضافه کردن تایل",className:"position-unset bg-white",onRequestClose:X,shouldCloseOnOverlayClick:!0},v.a.createElement(E,{onClose:X,data:S,handleActionTab:function(e){if(C(null),S){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},S);t.title=e,Object(f.nb)(t,S.id).then((function(e){a(),p(!1),A(null)})).catch((function(e){var t;C(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.error)||void 0===t?void 0:t.details)}))}else{var l={title:e,is_favorite:!1,order:1,field:1};Object(f.b)(l).then((function(e){a(),p(!1),A(null)})).catch((function(e){var t,a,l;403===e.response.status?("Max_tab_error"==(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.error)||void 0===t?void 0:t.code)&&alert.show(F("text.numbercreatedtabshasexceededlimitContactsupport"),{type:"error"}),p(!1)):null!=e&&null!==(a=e.response)&&void 0!==a&&null!==(a=a.data)&&void 0!==a&&null!==(a=a.error)&&void 0!==a&&null!==(a=a.details)&&void 0!==a&&a.title?C({title:[F("text.maximumfieldlengthis24characters"),"مطمعن شوید طول این مقدار بیشتر از 24 نیست."]}):C(null==e||null===(l=e.response)||void 0===l||null===(l=l.data)||void 0===l||null===(l=l.error)||void 0===l?void 0:l.details)}))}},errors:D})))},R=l(15),X=l.n(R),T=l(783),I=l(376),L=l(841),Y=l(815),P=l(817),V=l(643),W=l(630),H=l(341),G=l(330),U=l(342),_=l(794),q=l(816),J=l(343),Q=function(e){var t=Object(m.useState)(null),a=o()(t,2),l=a[0],n=a[1],i=Object(m.useState)(),c=o()(i,2),r=(c[0],c[1]),s=Object(m.useState)(),u=o()(s,2),d=(u[0],u[1]);return Object(m.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([J.a.new(t)]);var a=t.container.children.push(L.a.new(t,{panX:!1,panY:!1,startAngle:180,endAngle:360})),l=Y.a.new(t,{innerRadius:-1,strokeOpacity:1,strokeWidth:6,strokeGradient:W.a.new(t,{rotation:0,stops:[{color:H.b("#1AD329")},{color:H.b("#F3E523")},{color:H.b("#FC7217")}]})}),i=a.xAxes.push(_.a.new(t,{maxDeviation:0,min:0,max:100,strictMinMax:!0,renderer:l}));i.get("renderer").labels.template.setAll({opacity:0});var c=i.makeDataItem({});c.set("value",null==e?void 0:e.value);var s=c.set("bullet",q.a.new(t,{sprite:P.a.new(t,{topWidth:3,bottomWidth:10,radius:G.d(85),innerRadius:0})}));return s.get("sprite").hand.setAll({fill:H.b("#7e88aa"),strokeWidth:1,fillOpacity:1}),s.get("sprite").pin.setAll({fill:H.b("#EDEFF1"),strokeWidth:2,fillOpacity:1}),i.createAxisRange(c),c.get("grid").set("visible",!1),a.appear(1e3,100),d(a),n(c),r(i),function(){t.dispose()}}),[]),Object(m.useEffect)((function(){l&&l.animate({key:"value",to:+(null==e?void 0:e.value),duration:800,easing:U.b.out(U.b.cubic)})}),[null==e?void 0:e.value,null==e?void 0:e.id]),v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"col-7 chart-holder p-0",id:null==e?void 0:e.id}))},B=l(810),Z=l(795),K=l(818),$=l(819),ee=l(820),te=l(834),ae=l(426),le=l(633),ne=l(634),ie=function(e){var t=Object(m.useState)(null),a=o()(t,2),l=a[0],n=a[1],i=Object(m.useState)(null),c=o()(i,2),r=c[0],s=c[1],u=function(e){switch(e.match(/[a-zA-Z]/g)[0]){case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";default:return"hour"}};return Object(m.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([J.a.new(t)]);var a=t.container.children.push(B.a.new(t,{panX:!0,panY:!0,wheelX:"panX",wheelY:"zoomX",pinchZoomX:!0}));a.set("cursor",Z.a.new(t,{behavior:"none"})).lineY.set("visible",!1);var l,i,c=K.a.new(t,{});c.labels.template.setAll({centerX:0,pan:"zoom"}),(j=a.xAxes.push($.a.new(t,{maxDeviation:.1,baseInterval:{timeUnit:u(null==e?void 0:e.interval),count:(l=null==e?void 0:e.interval,i=l.match(/[0-9]/g),parseInt(i.join("")))},start:0,renderer:c,tooltip:ae.a.new(t,{labelText:"hi"}),endValue:(new Date).getTime(),minZoomCount:0,maxZoomCount:0}))).get("dateFormats").day="HH:mm",j.get("dateFormats").hour="HH:mm",j.get("dateFormats").minute="HH:mm",j.get("dateFormats").second="HH:mm:ss",j.get("periodChangeDateFormats").day="HH:mm",j.get("periodChangeDateFormats").hour="HH:mm",j.get("periodChangeDateFormats").minute="HH:mm",j.get("periodChangeDateFormats").second="HH:mm:ss";var r=a.yAxes.push(_.a.new(t,{maxDeviation:.1,renderer:ee.a.new(t,{pan:"zoom"})})),o=a.series.push(te.a.new(t,{name:"Series",xAxis:j,yAxis:r,valueYField:"value",valueXField:"date",fill:e.va?H.b("rgba(200, 200, 200, 0)"):H.b("#67b7dc"),stroke:e.fakeData?H.b("rgba(200, 200, 200, 0)"):H.b("#8bc8e5")}));o.fills.template.setAll({visible:!0,fillOpacity:e.fakeData?0:.2}),o.appear(1e3),a.appear(1e3,100),n(t),s(o)}),[]),Object(m.useEffect)((function(){var t=[];null==e||e.value.map((function(e){var a={date:new Date(e.time).getTime(),value:+e.value};t.push(a)})),r&&l&&(r.fills.template.setAll({fill:e.fakeData?H.b("rgba(200, 200, 200, 0)"):H.b("#67b7dc"),stroke:e.fakeData?H.b("rgba(200, 200, 200, 0)"):H.b("#8bc8e5"),fillOpacity:e.fakeData?0:.2}),r.bullets.clear(),r.bullets.push((function(){return le.a.new(l,{sprite:ne.a.new(l,{radius:e.fakeData?0:3,stroke:l.interfaceColors.get("background"),strokeWidth:1,fill:r.get("fill")})})})),r.data.setAll(t))}),[e]),v.a.createElement("div",{className:"col-12 chart-holder graph",id:null==e?void 0:e.id})},ce=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,s=e.isConnected,o=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:("medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?"col-5 pl-0 ":"col-12 h-100 ")+"d-flex align-items-center"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-Temperature":"icon-temperature-disable")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},v.a.createElement("span",{className:""},a&&s?l?l[l.length-1].value:"":"".concat(o("text.Inactive"))),a&&s&&v.a.createElement("span",{className:"h6"},t.unit))),!a&&l&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",null,n," دقیقه قبل :"),v.a.createElement("span",null,t.unit),v.a.createElement("span",null,l&&l[l.length-1].value)))),"medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?l?v.a.createElement(Q,{id:"gauge-"+t.id,value:l[l.length-1].value}):v.a.createElement(Q,{id:"gauge-"+t.id,unit:null==t?void 0:t.unit,value:0}):null,"large"===(null==t?void 0:t.size)&&i?v.a.createElement(ie,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},re=l(821),se=l(822),oe=l(842),ue=l(823),de=function(e){var t=Object(m.useState)(),a=o()(t,2),l=a[0],n=a[1],i=Object(m.useState)(),c=o()(i,2),r=c[0],s=c[1],u=Object(m.useState)(),d=o()(u,2),p=d[0],f=d[1];return Object(m.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([J.a.new(t)]);var a=t.container.children.push(L.a.new(t,{panX:!1,panY:!1,wheelX:"panX",wheelY:"panX",innerRadius:G.d(82),startAngle:180,endAngle:360}));a.set("cursor",re.a.new(t,{behavior:"zoomX"})).lineY.set("visible",!1);var l=Y.a.new(t,{minGridDistance:50});l.labels.template.setAll({radius:10}),l.grid.template.setAll({forceHidden:!0});var i=a.xAxes.push(_.a.new(t,{renderer:l,min:0,max:100,strictMinMax:!0,numberFormat:"#'%'",visible:!1,tooltip:ae.a.new(t,{})})),c=se.a.new(t,{minGridDistance:20});c.labels.template.setAll({centerX:G.b,fontWeight:"500",fontSize:18,templateField:"columnSettings"}),c.grid.template.setAll({forceHidden:!0});var r=a.yAxes.push(ue.a.new(t,{categoryField:"category",renderer:c})),o=a.series.push(oe.a.new(t,{xAxis:i,yAxis:r,clustered:!1,valueXField:"full",categoryYField:"category",fill:t.interfaceColors.get("alternativeBackground")}));o.columns.template.setAll({width:G.b,fillOpacity:.08,strokeOpacity:0,cornerRadius:20});var u=a.series.push(oe.a.new(t,{xAxis:i,yAxis:r,clustered:!1,valueXField:"value",categoryYField:"category",colors:H.b("#23D7FF")}));u.columns.template.setAll({width:G.b,strokeOpacity:0,tooltipText:"{category}: {valueX}%",cornerRadius:20,fill:H.b("#73A6D8"),templateField:"columnSettings"}),o.appear(1e3),u.appear(1e3),a.appear(1e3,100),f(r),n(o),s(u)}),[]),Object(m.useEffect)((function(){var t=[{category:"",value:+(null==e?void 0:e.value),full:100}];p&&p.data.setAll(t),l&&l.data.setAll(t),r&&r.data.setAll(t)}),[e]),v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"col-7 position-relative chart-holder p-0",id:null==e?void 0:e.id},v.a.createElement("span",{className:"number-gauge-humidity font-size-md"},null==e?void 0:e.value)))},me=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,s=e.isConnected,o=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap position-relative h-full".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center"},v.a.createElement("div",{className:"d-flex align-items-center "},v.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-Humidity":"icon-Humidity-disable")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},v.a.createElement("span",{className:""},a&&s?l?l[l.length-1].value:"":"".concat(o("text.Inactive"))),v.a.createElement("span",{className:"h6"},a||!s?"%":""))),a&&"medium"===(null==t?void 0:t.size)&&v.a.createElement("div",{className:"tile-description"},v.a.createElement("span",{className:"circle humidity"}),v.a.createElement("span",null,"رطوبت")),!a&&l&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",{className:"text-nowrap"},n," دقیقه قبل :"),v.a.createElement("span",null,"%"),v.a.createElement("span",null,l&&l[l.length-1].value)))),"medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?l?v.a.createElement(de,{id:"gauge-"+t.id,value:l[l.length-1].value}):v.a.createElement(de,{id:"gauge-"+t.id,value:0}):null,"large"===(null==t?void 0:t.size)&&i?v.a.createElement(ie,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},ve=function(e){var t=Object(m.useState)(null),a=o()(t,2),l=a[0],n=a[1],i=Object(m.useState)(),c=o()(i,2),r=c[0],s=c[1],u=Object(m.useState)(),d=o()(u,2),p=d[0],f=d[1];return Object(m.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([J.a.new(t)]),(S=t.container.children.push(L.a.new(t,{panX:!1,panY:!1,wheelX:"panX",wheelY:"panX",innerRadius:G.d(82),startAngle:180,endAngle:360}))).set("cursor",re.a.new(t,{behavior:"zoomX"})).lineY.set("visible",!1);var a=Y.a.new(t,{minGridDistance:30});a.labels.template.setAll({radius:-20}),a.grid.template.setAll({forceHidden:!0});var l=S.xAxes.push(_.a.new(t,{renderer:a,min:0,max:2e3,strictMinMax:!0,numberFormat:"#",visible:!1,fontSize:10,tooltip:ae.a.new(t,{})})),i=se.a.new(t,{minGridDistance:20});i.labels.template.setAll({centerX:G.b,fontWeight:"500",fontSize:18,templateField:"columnSettings"}),i.grid.template.setAll({forceHidden:!0});var c=S.yAxes.push(ue.a.new(t,{categoryField:"category",renderer:i})),r=S.series.push(oe.a.new(t,{xAxis:l,yAxis:c,clustered:!1,valueXField:"full",categoryYField:"category",fill:t.interfaceColors.get("alternativeBackground")}));r.columns.template.setAll({width:G.b,fillOpacity:.08,strokeOpacity:0,cornerRadius:20});var o=S.series.push(oe.a.new(t,{xAxis:l,yAxis:c,clustered:!1,valueXField:"value",categoryYField:"category",colors:H.b("#1AD329")}));o.columns.template.setAll({width:G.b,strokeOpacity:0,tooltipText:"{category}: {valueX}%",cornerRadius:20,fill:H.b("#73A6D8"),templateField:"columnSettings"}),r.appear(1e3),o.appear(1e3),S.appear(1e3,100),n(c),s(r),f(o)}),[]),Object(m.useEffect)((function(){var t=[{category:"",value:+(null==e?void 0:e.value),full:2e3,columnSettings:{fill:S.get("colors").getIndex(3)}}];l&&l.data.setAll(t),r&&r.data.setAll(t),p&&p.data.setAll(t)}),[e]),v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"col-7 position-relative chart-holder p-0",id:null==e?void 0:e.id},v.a.createElement("span",{className:"number-gauge-humidity font-size-md"},null==e?void 0:e.value)))},pe=function(e){var t,a,l,n,i=e.data,c=e.isOnline,r=e.value,s=e.interval,o=e.lastUpdated,u=e.fakeValues,d=e.graphValue,m=e.isConnected,p=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==i?void 0:i.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat(c?"icon-nitrogen":"icon-nitrogen-disable")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(c?"font-30":"font-24")},v.a.createElement("span",{className:""},c&&m?r?(null===(t=r[(null==r?void 0:r.length)-1])||void 0===t?void 0:t.value)>1e3?parseInt((null===(a=r[(null==r?void 0:r.length)-1])||void 0===a?void 0:a.value)/10):null===(l=r[(null==r?void 0:r.length)-1])||void 0===l?void 0:l.value:"":"".concat(p("text.Inactive"))),v.a.createElement("span",{className:"h6"},r&&(null===(n=r[(null==r?void 0:r.length)-1])||void 0===n?void 0:n.value)>1e3&&c&&m?"g/kg":c&&m?"mg/kg":""))),"medium"===(null==i?void 0:i.size)&&v.a.createElement("div",{className:"tile-description"},v.a.createElement("span",{className:"circle humidity"}),v.a.createElement("span",null,"میزان نیتروژن خاک")),!c&&r&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",null,o," دقیقه قبل :"),v.a.createElement("span",null,"mg/kg"),v.a.createElement("span",null,r&&r[r.length-1].value)))),("medium"===(null==i?void 0:i.size)||"large"===(null==i?void 0:i.size))&&v.a.createElement(ve,{id:"gauge-"+(null==i?void 0:i.id),value:r?r[r.length-1].value:0}),"large"===(null==i?void 0:i.size)&&s?v.a.createElement(ie,{interval:s,id:"graph-"+i.id,value:(null==d?void 0:d.data)||u,fakeData:!r}):null)},fe=function(e){return Object(m.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([J.a.new(t)]),(D=t.container.children.push(L.a.new(t,{panX:!1,panY:!1,wheelX:"panX",wheelY:"panX",innerRadius:G.d(82),startAngle:180,endAngle:360}))).set("cursor",re.a.new(t,{behavior:"zoomX"})).lineY.set("visible",!1);var a=Y.a.new(t,{minGridDistance:30});a.labels.template.setAll({radius:-20}),a.grid.template.setAll({forceHidden:!0});var l=D.xAxes.push(_.a.new(t,{renderer:a,min:0,max:1e4,strictMinMax:!0,numberFormat:"#",visible:!1,fontSize:10,tooltip:ae.a.new(t,{})})),n=se.a.new(t,{minGridDistance:20});n.labels.template.setAll({centerX:G.b,fontWeight:"500",fontSize:18,templateField:"columnSettings"}),n.grid.template.setAll({forceHidden:!0}),z=D.yAxes.push(ue.a.new(t,{categoryField:"category",renderer:n})),(A=D.series.push(oe.a.new(t,{xAxis:l,yAxis:z,clustered:!1,valueXField:"full",categoryYField:"category",fill:t.interfaceColors.get("alternativeBackground")}))).columns.template.setAll({width:G.b,fillOpacity:.08,strokeOpacity:0,cornerRadius:20}),(k=D.series.push(oe.a.new(t,{xAxis:l,yAxis:z,clustered:!1,valueXField:"value",categoryYField:"category",colors:H.b("#1AD329")}))).columns.template.setAll({width:G.b,strokeOpacity:0,tooltipText:"{category}: {valueX}%",cornerRadius:20,fill:H.b("#FC994E"),templateField:"columnSettings"}),A.appear(1e3),k.appear(1e3),D.appear(1e3,100)}),[]),Object(m.useEffect)((function(){var t=[{category:"",value:+(null==e?void 0:e.value),full:1e4}];z.data.setAll(t),A.data.setAll(t),k.data.setAll(t)}),[e]),v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"col-7 position-relative chart-holder p-0",id:null==e?void 0:e.id},v.a.createElement("span",{className:"number-gauge-humidity font-size-md"},+(null==e?void 0:e.value))))},ge=function(e){var t,a=e.data,l=e.isOnline,n=e.value,i=e.interval,c=e.lastUpdated,r=e.fakeValues,s=e.graphValue,o=e.isConnected,u=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==a?void 0:a.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat(l?"icon-salinity":"icon-salinity-disable")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(l?"font-30":"font-24")},v.a.createElement("span",{className:""},l&&o?n?n[n.length-1].value>1e3?parseInt(n[n.length-1].value/10):n[n.length-1].value:"":"".concat(u("text.Inactive"))),v.a.createElement("span",{className:"h6"},n&&(null===(t=n[(null==n?void 0:n.length)-1])||void 0===t?void 0:t.value)>1e3&&l?"ms/cm":l?"us/cm":""))),"medium"===(null==a?void 0:a.size)&&v.a.createElement("div",{className:"tile-description"},v.a.createElement("span",{className:"circle humidity"}),v.a.createElement("span",null,u("text.SoilSalinity"))),!l&&n&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",null,c," دقیقه قبل :"),v.a.createElement("span",null,"us/cm"),v.a.createElement("span",null,n&&n[n.length-1].value)))),("medium"===(null==a?void 0:a.size)||"large"===(null==a?void 0:a.size))&&v.a.createElement(fe,{id:"gauge-"+(null==a?void 0:a.id),value:n?n[n.length-1].value:0}),"large"===(null==a?void 0:a.size)&&i?v.a.createElement(ie,{interval:i,id:"graph-"+a.id,value:(null==s?void 0:s.data)||r,fakeData:!n}):null)},be=[{color:"#ef5156",lowScore:0,highScore:1.555},{color:"#fc994e",lowScore:1.556,highScore:3.111},{color:"#f3e83e",lowScore:3.1111,highScore:4.666},{color:"#c5da61",lowScore:4.666,highScore:6.221},{color:"#65bd6c",lowScore:6.221,highScore:7.776},{color:"#43c8c7",lowScore:7.776,highScore:9.331},{color:"#73a6d8",lowScore:9.331,highScore:10.886},{color:"#687db6",lowScore:10.886,highScore:12.441},{color:"#645999",lowScore:12.441,highScore:14}],he=function(e){var t=Object(m.useState)(),a=o()(t,2),l=(a[0],a[1],Object(m.useState)(null)),n=o()(l,2),i=n[0],c=n[1],r=Object(m.useState)(),s=o()(r,2);s[0],s[1];return Object(m.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id);t.setThemes([J.a.new(t)]);var a=t.container.children.push(L.a.new(t,{panX:!1,panY:!1,startAngle:180,endAngle:360})),l=Y.a.new(t,{innerRadius:-7});l.grid.template.setAll({stroke:t.interfaceColors.get("background"),visible:!1,strokeOpacity:.8});var n=a.xAxes.push(_.a.new(t,{maxDeviation:0,min:0,max:14,strictMinMax:!0,renderer:l}));n.get("renderer").labels.template.setAll({opacity:0});var i=(C=n.makeDataItem({})).set("bullet",q.a.new(t,{sprite:P.a.new(t,{topWidth:3,bottomWidth:10,radius:G.d(85),innerRadius:0})}));i.get("sprite").hand.setAll({fill:H.b("#7782a4"),strokeWidth:0,fillOpacity:1}),i.get("sprite").pin.setAll({fill:H.b("#EDEFF1"),strokeWidth:0,fillOpacity:1}),n.createAxisRange(C),a.bulletsContainer.set("mask",void 0),U.a.each(be,(function(e){var t=n.createAxisRange(n.makeDataItem({}));t.setAll({value:e.lowScore,endValue:e.highScore}),t.get("axisFill").setAll({visible:!0,fill:H.b(e.color),fillOpacity:.8})})),c(n),a.appear(1e3,100)}),[]),Object(m.useEffect)((function(){C.animate({key:"value",to:+(null==e?void 0:e.value),duration:500,easing:U.b.out(U.b.cubic)}),i&&i.createAxisRange(C)}),[null==e?void 0:e.value]),v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"col-7 position-relative chart-holder p-0",id:null==e?void 0:e.id}))},Ee=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,s=e.isConnected,o=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-acidity-soil":"icon-acidity-disable")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},v.a.createElement("span",{className:""},a&&s?l?l[l.length-1].value:"":"".concat(o("text.Inactive"))))),!a&&l&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",null,n," دقیقه قبل :"),v.a.createElement("span",null,l&&l[l.length-1].value)))),("medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size))&&v.a.createElement(he,{id:"gauge-"+(null==t?void 0:t.id),value:l?l[l.length-1].value:0}),"large"===(null==t?void 0:t.size)&&i?v.a.createElement(ie,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},xe=function(e){var t,a,l,n,i=e.data,c=e.isOnline,r=e.value,s=e.interval,o=e.lastUpdated,u=e.fakeValues,d=e.graphValue,m=e.isConnected,p=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==i?void 0:i.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat(c?"icon-phosphorus":"icon-phosphorus-disable")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(c?"font-30":"font-24")},v.a.createElement("span",{className:""},c&&m?r?(null===(t=r[(null==r?void 0:r.length)-1])||void 0===t?void 0:t.value)>1e3?parseInt((null===(a=r[(null==r?void 0:r.length)-1])||void 0===a?void 0:a.value)/10):null===(l=r[(null==r?void 0:r.length)-1])||void 0===l?void 0:l.value:"":"".concat(p("text.Inactive"))),v.a.createElement("span",{className:"h6"},r&&(null===(n=r[(null==r?void 0:r.length)-1])||void 0===n?void 0:n.value)>1e3&&c&&m?"g/kg":c&&m?"mg/kg":""))),c&&"medium"===(null==i?void 0:i.size)&&v.a.createElement("div",{className:"tile-description"},v.a.createElement("span",{className:"circle humidity"}),v.a.createElement("span",null,"میزان فسفر خاک")),!c&&r&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",null,o," دقیقه قبل :"),v.a.createElement("span",null,"mg/kg"),v.a.createElement("span",null,r&&r[r.length-1].value)))),"medium"===(null==i?void 0:i.size)||"large"===(null==i?void 0:i.size)?r?v.a.createElement(ve,{id:"gauge-"+i.id,value:r[r.length-1].value}):v.a.createElement(ve,{id:"gauge-"+i.id,value:0}):null,"large"===(null==i?void 0:i.size)&&s?v.a.createElement(ie,{interval:s,id:"graph-"+i.id,value:(null==d?void 0:d.data)||u,fakeData:!r}):null)},ye=function(e){var t,a,l,n,i=e.data,c=e.isOnline,r=e.value,s=e.interval,o=e.lastUpdated,u=e.fakeValues,d=e.graphValue,m=e.isConnected,p=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==i?void 0:i.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:"col-5 d-flex align-items-center pl-0 position-relative"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat(c?"icon-potassium":"icon-potassium-disable")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(c?"font-30":"font-24")},v.a.createElement("span",{className:""},c&&m?r?(null===(t=r[(null==r?void 0:r.length)-1])||void 0===t?void 0:t.value)>1e3?parseInt((null===(a=r[(null==r?void 0:r.length)-1])||void 0===a?void 0:a.value)/10):null===(l=r[(null==r?void 0:r.length)-1])||void 0===l?void 0:l.value:"":"".concat(p("text.Inactive"))),v.a.createElement("span",{className:"h6"},r&&(null===(n=r[(null==r?void 0:r.length)-1])||void 0===n?void 0:n.value)>1e3&&c&&m?"g/kg":c&&m?"mg/kg":""))),c&&"medium"===(null==i?void 0:i.size)&&v.a.createElement("div",{className:"tile-description"},v.a.createElement("span",{className:"circle humidity"}),v.a.createElement("span",null,"میزان پتاسیم خاک")),!c&&r&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",null,o," دقیقه قبل :"),v.a.createElement("span",null,"mg/kg"),v.a.createElement("span",null,r&&r[r.length-1].value)))),("medium"===(null==i?void 0:i.size)||"large"===(null==i?void 0:i.size))&&v.a.createElement(ve,{id:"gauge-"+(null==i?void 0:i.id),value:r?r[r.length-1].value:0}),"large"===(null==i?void 0:i.size)&&s?v.a.createElement(ie,{interval:s,id:"graph-"+i.id,value:(null==d?void 0:d.data)||u,fakeData:!r}):null)},Ne=function(e){var t=e.isOnline,a=(e.value,Object(h.b)().t);return v.a.createElement("div",{className:"d-flex flex-wrap flex-grow-1"},v.a.createElement("div",{className:"col-6 d-flex align-items-center position-relative"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat(t?"icon-door-open":"icon-door-disable")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(t?"font-30":"font-24")},v.a.createElement("span",{className:""},"".concat(a(t?"text.open":"text.Inactive")))))))},we=function(e){var t=Object(m.useState)(null),a=o()(t,2),l=a[0],n=a[1],i=Object(m.useState)(),c=o()(i,2),r=(c[0],c[1]),s=Object(m.useState)(),u=o()(s,2),d=(u[0],u[1]);return Object(m.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([J.a.new(t)]);var a=t.container.children.push(L.a.new(t,{panX:!1,panY:!1,startAngle:180,endAngle:360})),l=Y.a.new(t,{innerRadius:-1,strokeOpacity:1,strokeWidth:6,strokeGradient:W.a.new(t,{rotation:0,stops:[{color:H.b("#6b6f6b")},{color:H.b("#d18750")},{color:H.b("#f1b51b")}]})}),i=a.xAxes.push(_.a.new(t,{maxDeviation:0,min:0,max:4e4,strictMinMax:!0,renderer:l}));i.get("renderer").labels.template.setAll({opacity:0});var c=i.makeDataItem({});c.set("value",null==e?void 0:e.value);var s=c.set("bullet",q.a.new(t,{sprite:P.a.new(t,{topWidth:3,bottomWidth:10,radius:G.d(85),innerRadius:0})}));return s.get("sprite").hand.setAll({fill:H.b("#7e88aa"),strokeWidth:1,fillOpacity:1}),s.get("sprite").pin.setAll({fill:H.b("#EDEFF1"),strokeWidth:2,fillOpacity:1}),i.createAxisRange(c),c.get("grid").set("visible",!1),a.appear(1e3,100),d(a),n(c),r(i),function(){t.dispose()}}),[]),Object(m.useEffect)((function(){l&&l.animate({key:"value",to:+(null==e?void 0:e.value),duration:800,easing:U.b.out(U.b.cubic)})}),[null==e?void 0:e.value,null==e?void 0:e.id]),v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"col-7 chart-holder p-0 ",id:null==e?void 0:e.id}))},Oe=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,s=e.isConnected,o=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap position-relative h-full".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-sun":"icon-sun-off")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},v.a.createElement("span",{className:""},a&&s?l?(l[l.length-1].value/1e3).toFixed(1):"":"".concat(o("text.Inactive"))),v.a.createElement("span",{className:"font-9 mx-2"},a||!s?"KLUX":""))),a&&"medium"===(null==t?void 0:t.size)&&v.a.createElement("div",{className:"tile-description"},v.a.createElement("span",{className:"circle humidity"}),v.a.createElement("span",null,"Light")),!a&&l&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",{className:"text-nowrap"},n," دقیقه قبل :"),v.a.createElement("span",null,"%"),v.a.createElement("span",null,l&&l[l.length-1].value)))),"medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?l?v.a.createElement(we,{id:"gauge-"+t.id,value:l[l.length-1].value}):v.a.createElement(we,{id:"gauge-"+t.id,value:0}):null,"large"===(null==t?void 0:t.size)&&i?v.a.createElement(ie,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},je=function(e){var a=e.isOnline,l=e.value;return v.a.createElement("div",{className:"d-flex flex-wrap flex-grow-1"},v.a.createElement("div",{className:"col-6 d-flex align-items-center position-relative"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-light-intensity":"icon-light-intensity-off")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},v.a.createElement("span",{className:""},l?"".concat(l," cd"):"".concat(t("text.off")))))))},Se=function(e){var t,a,l,n=e.data,i=e.isOnline,c=e.value,r=e.lastUpdated,s=e.interval,o=e.fakeValues,u=e.graphValue,d=e.isConnected,m=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==n?void 0:n.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat("icon-soil-moisture")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(i?"font-30":"font-24")},v.a.createElement("span",{className:""},i&&d?c?(null===(t=c[(null==c?void 0:c.length)-1])||void 0===t?void 0:t.value)>1e3?parseInt((null===(a=c[(null==c?void 0:c.length)-1])||void 0===a?void 0:a.value)/10):null===(l=c[(null==c?void 0:c.length)-1])||void 0===l?void 0:l.value:"":"".concat(m("text.Inactive"))),v.a.createElement("span",{className:"h6"},i&&d?"%":""))),i&&d&&"medium"===(null==n?void 0:n.size)&&v.a.createElement("div",{className:"tile-description"},v.a.createElement("span",{className:"circle soilMoisture"}),v.a.createElement("span",null,"میزان رطوبت خاک")),!i&&c&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",null,r," دقیقه قبل :"),v.a.createElement("span",null,"%"),v.a.createElement("span",null,c&&c[c.length-1].value)))),"medium"===(null==n?void 0:n.size)||"large"===(null==n?void 0:n.size)?c?v.a.createElement(de,{id:"gauge-"+n.id,value:c[c.length-1].value}):v.a.createElement(de,{id:"gauge-"+n.id,value:0}):null,"large"===(null==n?void 0:n.size)&&s?v.a.createElement(ie,{interval:s,id:"graph-"+n.id,value:(null==u?void 0:u.data)||o,fakeData:!c}):null)},Ae=function(e){var t,a,l,n=e.data,i=e.isOnline,c=e.value,r=e.lastUpdated,s=e.interval,o=e.fakeValues,u=e.graphValue,d=e.isConnected,m=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==n?void 0:n.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat("icon-soil-moisture")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(i?"font-30":"font-24")},v.a.createElement("span",{className:""},i&&d?c?(null===(t=c[(null==c?void 0:c.length)-1])||void 0===t?void 0:t.value)>1e3?parseInt((null===(a=c[(null==c?void 0:c.length)-1])||void 0===a?void 0:a.value)/10):null===(l=c[(null==c?void 0:c.length)-1])||void 0===l?void 0:l.value:"":"".concat(m("text.Inactive"))),v.a.createElement("span",{className:"h6"},i&&d?"%":""))),i&&d&&"medium"===(null==n?void 0:n.size)&&v.a.createElement("div",{className:"tile-description"},v.a.createElement("span",{className:"circle soilMoisture"}),v.a.createElement("span",null,"میزان رطوبت خاک")),!i&&c&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",null,r," دقیقه قبل :"),v.a.createElement("span",null,"%"),v.a.createElement("span",null,c&&c[c.length-1].value)))),"medium"===(null==n?void 0:n.size)||"large"===(null==n?void 0:n.size)?c?v.a.createElement(de,{id:"gauge-"+n.id,value:c[c.length-1].value}):v.a.createElement(de,{id:"gauge-"+n.id,value:0}):null,"large"===(null==n?void 0:n.size)&&s?v.a.createElement(ie,{interval:s,id:"graph-"+n.id,value:(null==u?void 0:u.data)||o,fakeData:!c}):null)},ke=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,s=e.isConnected,o=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:("medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?"col-5 pl-0 ":"col-12 h-100 ")+"d-flex align-items-center"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-Temperature":"icon-temperature-disable")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},v.a.createElement("span",{className:""},a&&s?l?l[l.length-1].value:"":"".concat(o("text.Inactive"))),a&&s&&v.a.createElement("span",{className:"h6"},t.unit))),!a&&l&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",null,n," دقیقه قبل :"),v.a.createElement("span",null,t.unit),v.a.createElement("span",null,l&&l[l.length-1].value)))),"medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?l?v.a.createElement(Q,{id:"gauge-"+t.id,value:l[l.length-1].value}):v.a.createElement(Q,{id:"gauge-"+t.id,unit:null==t?void 0:t.unit,value:0}):null,"large"===(null==t?void 0:t.size)&&i?v.a.createElement(ie,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},ze=function(e){var t=Object(m.useState)(null),a=o()(t,2),l=a[0],n=a[1];return Object(m.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([J.a.new(t)]);var a=t.container.children.push(L.a.new(t,{panX:!1,panY:!1,startAngle:180,endAngle:360})),l=Y.a.new(t,{innerRadius:-6,strokeOpacity:1,strokeWidth:6,strokeGradient:W.a.new(t,{rotation:0,stops:[{color:H.b("#1AD329")},{color:H.b("#F3E523")},{color:H.b("#FC7217")}]})});l.labels.template.set("forceHidden",!0),l.grid.template.set("forceHidden",!0);var i=a.xAxes.push(_.a.new(t,{maxDeviation:0,min:0,max:100,strictMinMax:!0,renderer:l})),c=i.makeDataItem({});c.set("value",null==e?void 0:e.value);var r=c.set("bullet",q.a.new(t,{sprite:P.a.new(t,{topWidth:3,bottomWidth:10,radius:G.d(85),innerRadius:0})}));return r.get("sprite").hand.setAll({fill:H.b("#7e88aa"),strokeWidth:1,fillOpacity:1}),r.get("sprite").pin.setAll({fill:H.b("#EDEFF1"),strokeWidth:2,fillOpacity:1}),i.createAxisRange(c),c.get("grid").set("visible",!1),a.appear(1e3,100),n(c),function(){t.dispose()}}),[]),Object(m.useEffect)((function(){l&&l.animate({key:"value",to:+(null==e?void 0:e.value),duration:800,easing:U.b.out(U.b.cubic)})}),[null==e?void 0:e.value,null==e?void 0:e.id]),v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"col-7 chart-holder p-0",id:null==e?void 0:e.id}))},De=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,s=e.isConnected,o=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat("icon-soil-temperature")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},v.a.createElement("span",{className:""},a&&s?l?l[l.length-1].value:"":"".concat(o("text.Inactive"))),a&&s&&v.a.createElement("span",{className:"h6"},t.unit))),!a&&l&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",null,n," دقیقه قبل :"),v.a.createElement("span",null,t.unit),v.a.createElement("span",null,l&&l[l.length-1].value)))),"medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?l?v.a.createElement(ze,{id:"gauge-"+t.id,value:l[l.length-1].value}):v.a.createElement(ze,{id:"gauge-"+t.id,value:0}):null,"large"===(null==t?void 0:t.size)&&i?v.a.createElement(ie,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},Ce=function(e){var t=Object(m.useState)(),a=o()(t,2),l=a[0],n=a[1],i=Object(m.useState)(),c=o()(i,2),r=c[0],s=c[1],u=Object(m.useState)(),d=o()(u,2),p=d[0],f=d[1];return Object(m.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([J.a.new(t)]);var a=t.container.children.push(L.a.new(t,{panX:!1,panY:!1,wheelX:"panX",wheelY:"panX",innerRadius:G.d(82),startAngle:180,endAngle:360}));a.set("cursor",re.a.new(t,{behavior:"zoomX"})).lineY.set("visible",!1);var l=Y.a.new(t,{minGridDistance:50});l.labels.template.setAll({radius:10}),l.grid.template.setAll({forceHidden:!0});var i=a.xAxes.push(_.a.new(t,{renderer:l,min:-1e4,max:1e4,strictMinMax:!0,numberFormat:"#",visible:!0,tooltip:ae.a.new(t,{})})),c=se.a.new(t,{minGridDistance:20});c.labels.template.setAll({centerX:G.b,fontWeight:"500",fontSize:18,templateField:"columnSettings"}),c.grid.template.setAll({forceHidden:!0});var r=a.yAxes.push(ue.a.new(t,{categoryField:"category",renderer:c})),o=a.series.push(oe.a.new(t,{xAxis:i,yAxis:r,clustered:!1,valueXField:"full",categoryYField:"category",fill:t.interfaceColors.get("alternativeBackground")}));o.columns.template.setAll({width:G.b,fillOpacity:.08,strokeOpacity:0,cornerRadius:20});var u=a.series.push(oe.a.new(t,{xAxis:i,yAxis:r,clustered:!1,valueXField:"value",categoryYField:"category",colors:H.b("#23D7FF")}));u.columns.template.setAll({width:G.b,strokeOpacity:0,tooltipText:"{category}: {valueX}%",cornerRadius:20,fill:H.b("#23D7FF"),templateField:"columnSettings"}),o.appear(1e3),u.appear(1e3),a.appear(1e3,100),f(r),n(o),s(u)}),[]),Object(m.useEffect)((function(){var t=[{category:"",value:+(null==e?void 0:e.value),full:1e4}];p&&p.data.setAll(t),l&&l.data.setAll(t),r&&r.data.setAll(t)}),[e]),v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"col-7 position-relative chart-holder p-0",id:null==e?void 0:e.id},v.a.createElement("span",{className:"number-gauge-humidity font-size-md"},null==e?void 0:e.value)))},Fe=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,s=e.isConnected,o=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap position-relative h-full".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-do":"icons-Do-disable")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},v.a.createElement("span",{className:""},a&&s?l?l[l.length-1].value:"":"".concat(o("text.Inactive"))),v.a.createElement("span",{className:"h6"},a||!s?"mV":""))),a&&"medium"===(null==t?void 0:t.size)&&v.a.createElement("div",{className:"tile-description"},v.a.createElement("span",{className:"circle humidity"}),v.a.createElement("span",null,"رطوبت")),!a&&l&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",{className:"text-nowrap"},n," دقیقه قبل :"),v.a.createElement("span",null,"%"),v.a.createElement("span",{className:""},l&&l[l.length-1].value)))),"medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?l?v.a.createElement(Ce,{id:"gauge-"+t.id,value:l[l.length-1].value}):v.a.createElement(Ce,{id:"gauge-"+t.id,value:0}):null,"large"===(null==t?void 0:t.size)&&i?v.a.createElement(ie,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},Me=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,s=e.isConnected,o=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:("medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?"col-5 pl-0 ":"col-12 ")+"d-flex align-items-center"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-do":"icon-do-disable")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},v.a.createElement("span",{className:""},a&&s?l?l[l.length-1].value:"".concat(o("text.off")):"".concat(o("text.Inactive"))))),!a&&l&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",null,n," دقیقه قبل :"),v.a.createElement("span",null,l&&l[l.length-1].value)))),"medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?l?v.a.createElement(Q,{id:"gauge-"+t.id,value:l[l.length-1].value}):v.a.createElement(Q,{id:"gauge-"+t.id,value:0}):null,"large"===(null==t?void 0:t.size)&&i?v.a.createElement(ie,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},Re=function(e){var t=Object(m.useState)(null),a=o()(t,2),l=a[0],n=a[1],i=Object(m.useState)(),c=o()(i,2),r=(c[0],c[1]),s=Object(m.useState)(),u=o()(s,2),d=(u[0],u[1]);return Object(m.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([J.a.new(t)]);var a=t.container.children.push(L.a.new(t,{panX:!1,panY:!1,startAngle:180,endAngle:355})),l=Y.a.new(t,{innerRadius:-1,strokeOpacity:1,strokeWidth:6,strokeGradient:W.a.new(t,{rotation:0,stops:[{color:H.b("#dfe6df")},{color:H.b("#807c7c")},{color:H.b("#4a4646")}]})}),i=a.xAxes.push(_.a.new(t,{maxDeviation:0,min:0,max:2e3,strictMinMax:!0,renderer:l}));i.get("renderer").labels.template.setAll({opacity:0});var c=i.makeDataItem({});c.set("value",null==e?void 0:e.value);var s=c.set("bullet",q.a.new(t,{sprite:P.a.new(t,{topWidth:3,bottomWidth:10,radius:G.d(85),innerRadius:0})}));return s.get("sprite").hand.setAll({fill:H.b("#7e88aa"),strokeWidth:1,fillOpacity:1}),s.get("sprite").pin.setAll({fill:H.b("#EDEFF1"),strokeWidth:2,fillOpacity:1}),i.createAxisRange(c),c.get("grid").set("visible",!1),a.appear(1e3,100),d(a),n(c),r(i),function(){t.dispose()}}),[]),Object(m.useEffect)((function(){l&&l.animate({key:"value",to:+(null==e?void 0:e.value),duration:800,easing:U.b.out(U.b.cubic)})}),[null==e?void 0:e.value,null==e?void 0:e.id]),v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"col-7 chart-holder p-0",id:null==e?void 0:e.id}))},Xe=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,s=e.isConnected,o=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:("medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?"col-5 pl-0 ":"col-12 h-100 ")+"d-flex align-items-center"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-co2":"icon-co2-off")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},v.a.createElement("span",{className:""},a&&s?l?l[l.length-1].value:"":"".concat(o("text.Inactive"))),a&&s&&v.a.createElement("span",{className:"h6"},t.unit))),!a&&l&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",null,n," دقیقه قبل :"),v.a.createElement("span",null,t.unit),v.a.createElement("span",null,l&&l[l.length-1].value)))),"medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?l?v.a.createElement(Re,{id:"gauge-"+t.id,value:l[l.length-1].value}):v.a.createElement(Re,{id:"gauge-"+t.id,unit:null==t?void 0:t.unit,value:0}):null,"large"===(null==t?void 0:t.size)&&i?v.a.createElement(ie,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},Te=function(e){var a,l,n=e.isOnline,i=e.value,c=e.isConnected;return v.a.createElement("div",{className:"d-flex flex-wrap flex-grow-1"},v.a.createElement("div",{className:"col-6 d-flex align-items-center position-relative"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat(n?(null==i?void 0:i.length)>0&&1===(null===(a=i[0])||void 0===a?void 0:a.value)?"icon-electricity-natural":"icon-electricity-emergency":"icon-electricity-off")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(n?"font-30":"font-24")},v.a.createElement("span",{className:""},n&&c?(null==i?void 0:i.length)>0&&1===(null===(l=i[0])||void 0===l?void 0:l.value)?"طبیعی":"اضطراری":"".concat(t("text.off")))))))},Ie=l(353),Le=l.n(Ie),Ye=l(39),Pe=l(47),Ve=function(e){var t=e.data,a=e.isOnline,l=e.value,n=e.lastUpdated,i=e.interval,c=e.fakeValues,r=e.graphValue,s=e.isConnected,o=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:("medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?"col-5 pl-0 ":"col-12 h-100 ")+"d-flex align-items-center"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-Temperature":"icon-temperature-disable")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},v.a.createElement("span",{className:""},a&&s?l?l[l.length-1].value:"":"".concat(o("text.Inactive"))),a&&s&&v.a.createElement("span",{className:"h6"},t.unit))),!a&&l&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",null,n," دقیقه قبل :"),v.a.createElement("span",null,t.unit),v.a.createElement("span",null,l&&l[l.length-1].value)))),"medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size)?l?v.a.createElement(Q,{id:"gauge-"+t.id,value:l[l.length-1].value}):v.a.createElement(Q,{id:"gauge-"+t.id,unit:null==t?void 0:t.unit,value:0}):null,"large"===(null==t?void 0:t.size)&&i?v.a.createElement(ie,{interval:i,id:"graph-"+t.id,value:(null==r?void 0:r.data)||c,fakeData:!l}):null)},We=[{color:"#ef5156",lowScore:0,highScore:1.555},{color:"#fc994e",lowScore:1.556,highScore:3.111},{color:"#f3e83e",lowScore:3.1111,highScore:4.666},{color:"#c5da61",lowScore:4.666,highScore:6.221},{color:"#65bd6c",lowScore:6.221,highScore:7.776},{color:"#43c8c7",lowScore:7.776,highScore:9.331},{color:"#73a6d8",lowScore:9.331,highScore:10.886},{color:"#687db6",lowScore:10.886,highScore:12.441},{color:"#645999",lowScore:12.441,highScore:14}],He=function(e){var t=Object(m.useState)(),a=o()(t,2),l=(a[0],a[1],Object(m.useState)(null)),n=o()(l,2),i=n[0],c=n[1],r=Object(m.useState)(),s=o()(r,2);s[0],s[1];return Object(m.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id);t.setThemes([J.a.new(t)]);var a=t.container.children.push(L.a.new(t,{panX:!1,panY:!1,startAngle:180,endAngle:360})),l=Y.a.new(t,{innerRadius:-7});l.grid.template.setAll({stroke:t.interfaceColors.get("background"),visible:!1,strokeOpacity:.8});var n=a.xAxes.push(_.a.new(t,{maxDeviation:0,min:0,max:14,strictMinMax:!0,renderer:l}));n.get("renderer").labels.template.setAll({opacity:0});var i=(F=n.makeDataItem({})).set("bullet",q.a.new(t,{sprite:P.a.new(t,{topWidth:3,bottomWidth:10,radius:G.d(85),innerRadius:0})}));i.get("sprite").hand.setAll({fill:H.b("#7782a4"),strokeWidth:0,fillOpacity:1}),i.get("sprite").pin.setAll({fill:H.b("#EDEFF1"),strokeWidth:0,fillOpacity:1}),n.createAxisRange(F),a.bulletsContainer.set("mask",void 0),U.a.each(We,(function(e){var t=n.createAxisRange(n.makeDataItem({}));t.setAll({value:e.lowScore,endValue:e.highScore}),t.get("axisFill").setAll({visible:!0,fill:H.b(e.color),fillOpacity:.8})})),c(n),a.appear(1e3,100)}),[]),Object(m.useEffect)((function(){F.animate({key:"value",to:+(null==e?void 0:e.value),duration:500,easing:U.b.out(U.b.cubic)}),i&&i.createAxisRange(F)}),[null==e?void 0:e.value]),v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"col-7 position-relative chart-holder p-0",id:null==e?void 0:e.id}))},Ge=function(e){var t=e.data,a=e.isOnline,l=e.value,n=(e.lastUpdated,e.interval),i=e.fakeValues,c=e.graphValue,r=e.isConnected,s=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==t?void 0:t.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat(a?"icon-acidity":"icon-acidity-disable")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(a?"font-30":"font-24")},v.a.createElement("span",{className:""},a&&r?l?l[l.length-1].value:"":"".concat(s("text.Inactive")))))),("medium"===(null==t?void 0:t.size)||"large"===(null==t?void 0:t.size))&&v.a.createElement(He,{id:"gauge-"+(null==t?void 0:t.id),value:l?l[l.length-1].value:0}),"large"===(null==t?void 0:t.size)&&n?v.a.createElement(ie,{interval:n,id:"graph-"+t.id,value:(null==c?void 0:c.data)||i,fakeData:!l}):null)},Ue=function(e){var t,a=e.data,l=e.isOnline,n=e.value,i=e.interval,c=(e.lastUpdated,e.fakeValues),r=e.graphValue,s=e.isConnected,o=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==a?void 0:a.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat(l?"icon-salinity":"icon-salinity-disable")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(l?"font-30":"font-24")},v.a.createElement("span",{className:""},l&&s?n?n[n.length-1].value:"":"".concat(o("text.Inactive"))),v.a.createElement("span",{className:"h6"},n&&(null===(t=n[(null==n?void 0:n.length)-1])||void 0===t?void 0:t.value)>1e3&&l?"ms/cm":l?"us/cm":"")))),("medium"===(null==a?void 0:a.size)||"large"===(null==a?void 0:a.size))&&v.a.createElement(fe,{id:"gauge-"+(null==a?void 0:a.id),value:n?n[n.length-1].value:0}),"large"===(null==a?void 0:a.size)&&i?v.a.createElement(ie,{interval:i,id:"graph-"+a.id,value:(null==r?void 0:r.data)||c,fakeData:!n}):null)};function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Je="".concat("https://static.neshan.org","/sdk/leaflet/1.4.0/leaflet.js");var Qe=function(e){var t=e.style,a=e.options,l=e.onInit,n=Object(m.useRef)(null),i={key:"web.f40d782fbfce47d0b479beb76ed82997",maptype:"dreamy",poi:!0,traffic:!1,center:[35.699739,51.338097],zoom:14};return Object(m.useEffect)((function(){!function(e){var t,a,l;t=e.onError,a=e.onLoad,(l=document.createElement("script")).src=Je,l.onload=function(){a&&a()},l.onerror=function(){t&&t()},document.body.appendChild(l)}({onLoad:function(){var e=new window.L.Map(n.current,qe(qe({},i),a));l&&l(window.L,e)},onError:function(){console.error("Neshan Maps Error: This page didn't load Neshan Maps correctly")}})})),v.a.createElement("div",{ref:n,style:qe(qe({},{width:"712px",height:"461px",margin:0,padding:0,background:"#eee"}),t)})},Be=function(e){var t=e.onClose,a=e.onSubmit,l=e.searchLocation,n=e.centerMap,i=(e.setCenterMap,e.location),c=e.handleClickMap,r=Object(h.b)().t,s=Object(m.useState)(""),u=o()(s,2),d=u[0],p=u[1],f=Object(m.useState)(i?[null==i?void 0:i.lat,null==i?void 0:i.lng]:[35.699739,51.338097]),b=o()(f,2),E=b[0],x=(b[1],Object(m.useState)(null)),y=o()(x,2),N=y[0],w=y[1],O=Object(m.useState)(null),j=o()(O,2),S=(j[0],j[1]),A=Object(m.useState)(null),k=o()(A,2),z=k[0],D=k[1];Object(m.useEffect)((function(){N&&z&&(N.flyTo([null==n?void 0:n.lat,null==n?void 0:n.lng],11),z.setLatLng(n))}),[n]);return Object(m.useEffect)((function(){console.log("fieldAddress",d)}),[d]),v.a.createElement("div",null,v.a.createElement("div",{className:"d-flex justify-content-between"},v.a.createElement("h4",null,r("text.Chooselocation")),v.a.createElement("i",{className:"icon icon-24 icon-close cursor-pointer",onClick:t})),v.a.createElement("div",{className:"search-box mb-3 mt-4 position-relative"},v.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(d)}},v.a.createElement("label",null,r("text.search")),v.a.createElement("input",{type:"text",value:d,onChange:function(e){return p(e.target.value)},className:"form-control pr-3",placeholder:r("text.Searchprovincecityaddress")}),v.a.createElement("button",{type:"submit",className:"icon-search-input p-0 border-0 bg-transparent"},v.a.createElement("i",{className:"icon icon-search icon-24 cursor-pointer"})))),v.a.createElement("div",{className:"rounded-12 overflow-hidden"},v.a.createElement(Qe,{options:{key:"web.f40d782fbfce47d0b479beb76ed82997",maptype:"dreamy",poi:!0,traffic:!1,center:E,zoom:13},onInit:function(e,t){var a=e.marker(E).addTo(t).bindPopup("موقعیت مورد نظر");t.on("click",(function(e){a.setLatLng(e.latlng),c(e.latlng)})),w(t),S(e),D(a)},style:{width:"100%",height:"461px"}})),v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col-12 d-flex mt-3 justify-content-end"},v.a.createElement(g.a,{className:"button btn-primary-fill py-2 px-5 d-flex align-items-center justify-content-center",handler:a},v.a.createElement("span",{className:"p-1"},r("text.confirm"))),v.a.createElement(g.a,{className:"button btn-primary-fill-outline py-2 px-4 btn-primary-border mx-3 d-flex align-items-center justify-content-center",handler:t},v.a.createElement("span",null,r("text.cancel"))))))};y.a.setAppElement("#root");var Ze,Ke,$e,et,tt,at,lt,nt,it,ct,rt,st,ot={content:{top:"50%",left:"50%",right:"unset",bottom:"unset",transform:"translate(-50%, -50%)",width:"775px",height:"742px"}},ut=function(e){var t,a,l,n=e.selectedTab,i=e.location,c=e.setLocation,r=Object(h.b)().t,s=Object(m.useState)(null),u=o()(s,2),d=u[0],p=u[1],g=Object(m.useState)([]),E=o()(g,2),x=E[0],N=E[1],w=Object(m.useState)(!1),O=o()(w,2),j=O[0],S=O[1],A=Object(m.useState)(null),k=o()(A,2),z=k[0],D=k[1],C=Object(m.useState)(null),F=o()(C,2),M=F[0],R=F[1],X=function(){S(!1)};Object(m.useEffect)((function(){var e;e=i?"https://weather.iotstream.ir/getweather/".concat(null==i?void 0:i.lat,"/").concat(null==i?void 0:i.lng):"https://weather.iotstream.ir/getweather/35.699739/51.338097",fetch(e).then((function(e){return e.json()})).then((function(e){var t;p(null==e?void 0:e.current),N(null==e||null===(t=e.forecast)||void 0===t?void 0:t.forecastday),D(null==e?void 0:e.location)})).catch((function(e){return console.log(e)}))}),[i]);return v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"weather bg-white"},v.a.createElement("div",{className:"weather-body"},v.a.createElement("div",{className:"weather-body-primary"},v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col-4 d-flex ".concat(b.isMobile?"flex-column justify-content-center align-items-center":"justify-content-center align-items-center")},v.a.createElement("span",{className:"d-flex align-items-center dir-ltr"},null===(t=x[0])||void 0===t||null===(t=t.day)||void 0===t?void 0:t.maxtemp_c," ° C",v.a.createElement("i",{className:"icon icon-22 icon-arrow-up icon-white"})),v.a.createElement("span",{className:"d-flex align-items-center dir-ltr"},null===(a=x[0])||void 0===a||null===(a=a.day)||void 0===a?void 0:a.mintemp_c," ° C",v.a.createElement("i",{className:"icon icon-22 icon-arrow-down icon-white"}))),v.a.createElement("div",{className:"col-8 d-flex justify-content-around align-items-center pl-0"},v.a.createElement("div",{className:"d-flex flex-column justify-content-center align-items-start"},v.a.createElement("span",{className:"font-40 dir-ltr"},null==d?void 0:d.temp_c,v.a.createElement("span",{className:"font-24"}," ° C ")),z&&v.a.createElement("span",null,null==z?void 0:z.country,"، ",null==z?void 0:z.name),"true"==localStorage.getItem("is_admin")&&v.a.createElement("span",{className:"mt-1 cursor-pointer",onClick:function(){return S(!0)}},v.a.createElement("i",{className:"icon icon-16 icon-map ml-1"}),v.a.createElement("span",{className:"font-9 text-nowrap"},r("text.Changelocation")))),v.a.createElement("i",{className:"icon icon-".concat(null!=d&&d.is_day?"day":"night","-weather-").concat(null==d||null===(l=d.condition)||void 0===l?void 0:l.code," ").concat((b.isMobile,"icon-48"))})))),v.a.createElement("div",{className:"weather-body-secondary"},v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"d-flex justify-content-around flex-column font-size-21 ".concat(b.isMobile?"col-6 pr-0":"col-4")},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("i",{className:"icon icon-24 icon-windy ml-2"}),v.a.createElement("span",null,"km/h"),v.a.createElement("span",{className:"mr-2"},null==d?void 0:d.wind_kph)),v.a.createElement("div",{className:"d-flex"},v.a.createElement("i",{className:"icon icon-24 icon-weather-humidity"}),v.a.createElement("span",{className:"mr-2"},null==d?void 0:d.humidity,"%"))),v.a.createElement("div",{className:"d-flex justify-content-between ".concat(b.isMobile?"col-6 overflow-x-auto gap-x-12":"col-8")},null==x?void 0:x.map((function(e,t){var a;return v.a.createElement("div",{className:"weather-future",key:t},v.a.createElement("div",{className:"d-flex flex-column"},v.a.createElement("span",{className:"mt-1 text-left text-nowrap dir-ltr"},parseInt(e.day.maxtemp_c),v.a.createElement("i",{className:"icon icon-18 icon-arrow-up icon-white"})),v.a.createElement("span",{className:"mb-1 text-left text-nowrap dir-ltr"},parseInt(e.day.mintemp_c),v.a.createElement("i",{className:"icon icon-18 icon-arrow-down icon-white"}))),v.a.createElement("i",{className:"icon icon-day-weather-".concat(null===(a=e.day.condition)||void 0===a?void 0:a.code," ").concat((b.isMobile,"icon-16"))}),v.a.createElement("span",{className:"".concat((b.isMobile,"font-9"))},Le()(e.date).locale("".concat(r("text.langweather"))).format("dddd")))}))))))),v.a.createElement(y.a,{isOpen:j,onRequestClose:X,style:ot,className:"",contentLabel:"Example Modal"},v.a.createElement(Be,{onClose:X,onSubmit:function(){var e={location:M};Object(f.nb)(e,n).then((function(e){c(null==e?void 0:e.location),X()})).catch((function(e){console.log(e)}))},searchLocation:function(e){fetch("https://api.neshan.org/v1/search?term=".concat(e,"&lat=35.699739&lng=51.338097"),{headers:{"Api-Key":"service.5af3f2ec6ee6420cae20291c0bb815da"}}).then((function(e){return e.json()})).then((function(e){var t,a;e.count>0&&R({lat:null==e||null===(t=e.items[0])||void 0===t||null===(t=t.location)||void 0===t?void 0:t.y,lng:null==e||null===(a=e.items[0])||void 0===a||null===(a=a.location)||void 0===a?void 0:a.x})})).catch((function(e){return console.log(e)}))},centerMap:M,setCenterMap:R,location:i,handleClickMap:function(e){R(e)}})))},dt=function(e){return Object(m.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([J.a.new(t)]),(et=t.container.children.push(L.a.new(t,{panX:!1,panY:!1,wheelX:"panX",wheelY:"panX",innerRadius:G.d(82),startAngle:180,endAngle:360}))).set("cursor",re.a.new(t,{behavior:"zoomX"})).lineY.set("visible",!1);var a=Y.a.new(t,{minGridDistance:30});a.labels.template.setAll({radius:-20}),a.grid.template.setAll({forceHidden:!0});var l=et.xAxes.push(_.a.new(t,{renderer:a,min:0,max:200,strictMinMax:!0,numberFormat:"#",visible:!1,fontSize:10,tooltip:ae.a.new(t,{})})),n=se.a.new(t,{minGridDistance:20});n.labels.template.setAll({centerX:G.b,fontWeight:"500",fontSize:18,templateField:"columnSettings"}),n.grid.template.setAll({forceHidden:!0}),$e=et.yAxes.push(ue.a.new(t,{categoryField:"category",renderer:n})),(Ze=et.series.push(oe.a.new(t,{xAxis:l,yAxis:$e,clustered:!1,valueXField:"full",categoryYField:"category",fill:t.interfaceColors.get("alternativeBackground")}))).columns.template.setAll({width:G.b,fillOpacity:.08,strokeOpacity:0,cornerRadius:20}),(Ke=et.series.push(oe.a.new(t,{xAxis:l,yAxis:$e,clustered:!1,valueXField:"value",categoryYField:"category",colors:H.b("#1AD329")}))).columns.template.setAll({width:G.b,strokeOpacity:0,tooltipText:"{category}: {valueX}%",cornerRadius:20,fill:H.b("#FC994E"),templateField:"columnSettings"}),Ze.appear(1e3),Ke.appear(1e3),et.appear(1e3,100)}),[]),Object(m.useEffect)((function(){var t=[{category:"",value:+(null==e?void 0:e.value),full:1e4}];$e.data.setAll(t),Ze.data.setAll(t),Ke.data.setAll(t)}),[e]),v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"col-7 position-relative chart-holder p-0",id:null==e?void 0:e.id},v.a.createElement("span",{className:"number-gauge-humidity font-size-md"},+(null==e?void 0:e.value))))},mt=function(e){return Object(m.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([J.a.new(t)]),(nt=t.container.children.push(L.a.new(t,{panX:!1,panY:!1,wheelX:"panX",wheelY:"panX",innerRadius:G.d(82),startAngle:180,endAngle:360}))).set("cursor",re.a.new(t,{behavior:"zoomX"})).lineY.set("visible",!1);var a=Y.a.new(t,{minGridDistance:30});a.labels.template.setAll({radius:-20}),a.grid.template.setAll({forceHidden:!0});var l=nt.xAxes.push(_.a.new(t,{renderer:a,min:0,max:.5,strictMinMax:!0,numberFormat:"#",visible:!1,fontSize:10,tooltip:ae.a.new(t,{})})),n=se.a.new(t,{minGridDistance:20});n.labels.template.setAll({centerX:G.b,fontWeight:"500",fontSize:18,templateField:"columnSettings"}),n.grid.template.setAll({forceHidden:!0}),lt=nt.yAxes.push(ue.a.new(t,{categoryField:"category",renderer:n})),(tt=nt.series.push(oe.a.new(t,{xAxis:l,yAxis:lt,clustered:!1,valueXField:"full",categoryYField:"category",fill:t.interfaceColors.get("alternativeBackground")}))).columns.template.setAll({width:G.b,fillOpacity:.08,strokeOpacity:0,cornerRadius:20}),(at=nt.series.push(oe.a.new(t,{xAxis:l,yAxis:lt,clustered:!1,valueXField:"value",categoryYField:"category",colors:H.b("#1AD329")}))).columns.template.setAll({width:G.b,strokeOpacity:0,tooltipText:"{category}: {valueX}%",cornerRadius:20,fill:H.b("#FC994E"),templateField:"columnSettings"}),tt.appear(1e3),at.appear(1e3),nt.appear(1e3,100)}),[]),Object(m.useEffect)((function(){var t=[{category:"",value:+(null==e?void 0:e.value),full:1e4}];lt.data.setAll(t),tt.data.setAll(t),at.data.setAll(t)}),[e]),v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"col-7 position-relative chart-holder p-0",id:null==e?void 0:e.id},v.a.createElement("span",{className:"number-gauge-humidity font-size-md"},+(null==e?void 0:e.value))))},vt=function(e){return Object(m.useLayoutEffect)((function(){var t=V.a.new(null==e?void 0:e.id,{useSafeResolution:!1});t.setThemes([J.a.new(t)]),(st=t.container.children.push(L.a.new(t,{panX:!1,panY:!1,wheelX:"panX",wheelY:"panX",innerRadius:G.d(82),startAngle:180,endAngle:360}))).set("cursor",re.a.new(t,{behavior:"zoomX"})).lineY.set("visible",!1);var a=Y.a.new(t,{minGridDistance:30});a.labels.template.setAll({radius:-20}),a.grid.template.setAll({forceHidden:!0});var l=st.xAxes.push(_.a.new(t,{renderer:a,min:0,max:350,strictMinMax:!0,numberFormat:"#",visible:!1,fontSize:10,tooltip:ae.a.new(t,{})})),n=se.a.new(t,{minGridDistance:20});n.labels.template.setAll({centerX:G.b,fontWeight:"500",fontSize:18,templateField:"columnSettings"}),n.grid.template.setAll({forceHidden:!0}),rt=st.yAxes.push(ue.a.new(t,{categoryField:"category",renderer:n})),(it=st.series.push(oe.a.new(t,{xAxis:l,yAxis:rt,clustered:!1,valueXField:"full",categoryYField:"category",fill:t.interfaceColors.get("alternativeBackground")}))).columns.template.setAll({width:G.b,fillOpacity:.08,strokeOpacity:0,cornerRadius:20}),(ct=st.series.push(oe.a.new(t,{xAxis:l,yAxis:rt,clustered:!1,valueXField:"value",categoryYField:"category",colors:H.b("#1AD329")}))).columns.template.setAll({width:G.b,strokeOpacity:0,tooltipText:"{category}: {valueX}%",cornerRadius:20,fill:H.b("#FC994E"),templateField:"columnSettings"}),it.appear(1e3),ct.appear(1e3),st.appear(1e3,100)}),[]),Object(m.useEffect)((function(){var t=[{category:"",value:+(null==e?void 0:e.value),full:1e4}];rt.data.setAll(t),it.data.setAll(t),ct.data.setAll(t)}),[e]),v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"col-7 position-relative chart-holder p-0",id:null==e?void 0:e.id},v.a.createElement("span",{className:"number-gauge-humidity font-size-md"},+(null==e?void 0:e.value))))},pt={Temperature:ce,Humidity:me,NI:pe,EC:ge,PH:Ee,PHOS:xe,POT:ye,Door:Ne,CO2:Xe,Light:Oe,LightIntensity:je,Moisture:Se,LeafMoisture:Ae,LeafTemperature:ke,SoilTemperature:De,DO:Me,ACPower:Te,ORP:Fe,WaterPH:Ge,WaterTemperature:Ve,WaterEC:Ue,Weather:function(e){var t=e.location,a=e.setLocation,l=e.selectedTab;Object(h.b)().t;return v.a.createElement("div",null,v.a.createElement(ut,{selectedTab:l,location:t,setLocation:a}))},BOD:function(e){var t,a=e.data,l=e.isOnline,n=e.value,i=e.interval,c=e.lastUpdated,r=e.fakeValues,s=e.graphValue,o=e.isConnected,u=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==a?void 0:a.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"icon icon-24 ".concat("icon-bod")}),v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(l?"font-30":"font-24")},v.a.createElement("span",{className:""},l&&o?n?n[n.length-1].value>1e3?parseInt(n[n.length-1].value/10):n[n.length-1].value:"":"".concat(u("text.Inactive"))),v.a.createElement("span",{className:"h6"},n&&(null===(t=n[(null==n?void 0:n.length)-1])||void 0===t?void 0:t.value)>1e3&&l||l?"mg/L":""))),"medium"===(null==a?void 0:a.size)&&v.a.createElement("div",{className:"tile-description"},v.a.createElement("span",{className:"circle humidity"}),v.a.createElement("span",null,u("text.SoilSalinity"))),!l&&n&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",null,c," دقیقه قبل :"),v.a.createElement("span",null,"mg/L"),v.a.createElement("span",{className:"border border-danger"},n&&n[n.length-1].value)))),("medium"===(null==a?void 0:a.size)||"large"===(null==a?void 0:a.size))&&v.a.createElement(dt,{id:"gauge-"+(null==a?void 0:a.id),value:n?n[n.length-1].value:0}),"large"===(null==a?void 0:a.size)&&i?v.a.createElement(ie,{interval:i,id:"graph-"+a.id,value:(null==s?void 0:s.data)||r,fakeData:!n}):null)},chlorophyll:function(e){var t,a=e.data,l=e.isOnline,n=e.value,i=e.interval,c=e.lastUpdated,r=e.fakeValues,s=e.graphValue,o=e.isConnected,u=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==a?void 0:a.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(l?"font-30":"font-24")},v.a.createElement("span",{className:""},l&&o?n?n[n.length-1].value>1e3?parseInt(n[n.length-1].value/10):n[n.length-1].value:"":"".concat(u("text.Inactive"))),v.a.createElement("span",{className:"h6"},n&&(null===(t=n[(null==n?void 0:n.length)-1])||void 0===t?void 0:t.value)>1e3&&l||l?"PPM":""))),"medium"===(null==a?void 0:a.size)&&v.a.createElement("div",{className:"tile-description"},v.a.createElement("span",{className:"circle humidity"}),v.a.createElement("span",null,u("text.SoilSalinity"))),!l&&n&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",null,c," دقیقه قبل :"),v.a.createElement("span",null,"PPM"),v.a.createElement("span",{className:"border border-danger"},n&&n[n.length-1].value)))),("medium"===(null==a?void 0:a.size)||"large"===(null==a?void 0:a.size))&&v.a.createElement(mt,{id:"gauge-"+(null==a?void 0:a.id),value:n?n[n.length-1].value:0}),"large"===(null==a?void 0:a.size)&&i?v.a.createElement(ie,{interval:i,id:"graph-"+a.id,value:(null==s?void 0:s.data)||r,fakeData:!n}):null)},TSS:function(e){var t,a=e.data,l=e.isOnline,n=e.value,i=e.interval,c=e.lastUpdated,r=e.fakeValues,s=e.graphValue,o=e.isConnected,u=Object(h.b)().t;return v.a.createElement("div",{className:"d-flex flex-wrap ".concat("small"===(null==a?void 0:a.size)?"align-items-center flex-grow-1":"")},v.a.createElement("div",{className:"col-5 pl-0 d-flex align-items-center position-relative"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("div",{className:"h3 mr-2 mb-0 bold ".concat(l?"font-30":"font-24")},v.a.createElement("span",{className:""},l&&o?n?n[n.length-1].value>1e3?parseInt(n[n.length-1].value/10):n[n.length-1].value:"":"".concat(u("text.Inactive"))),v.a.createElement("span",{className:"h6"},n&&(null===(t=n[(null==n?void 0:n.length)-1])||void 0===t?void 0:t.value)>1e3&&l||l?"mg/L":""))),"medium"===(null==a?void 0:a.size)&&v.a.createElement("div",{className:"tile-description"},v.a.createElement("span",{className:"circle humidity"}),v.a.createElement("span",null,u("text.SoilSalinity"))),!l&&n&&v.a.createElement("div",{className:"tile-description temperature"},v.a.createElement("div",{className:"d-flex align-items-center"},v.a.createElement("span",null,c," دقیقه قبل :"),v.a.createElement("span",null,"mg/L"),v.a.createElement("span",{className:"border border-danger"},n&&n[n.length-1].value)))),("medium"===(null==a?void 0:a.size)||"large"===(null==a?void 0:a.size))&&v.a.createElement(vt,{id:"gauge-"+(null==a?void 0:a.id),value:n?n[n.length-1].value:0}),"large"===(null==a?void 0:a.size)&&i?v.a.createElement(ie,{interval:i,id:"graph-"+a.id,value:(null==s?void 0:s.data)||r,fakeData:!n}):null)}},ft=[{value:0,time:Le()().subtract(1,"days").format("YYYY-MM-DD HH:mm:ss")},{value:0,time:Le()().format("YYYY-MM-DD HH:mm:ss")}],gt=Object(p.b)((function(e){return{tilesData:e.tilesData,tilesGraph:e.tilesGraph}}),null)((function(e){var t,a,l,n,c=e.data,r=e.onRemoveItem,s=e.onEdit,u=e.isDraggable,p=e.tilesData,g=e.selectedTab,E=e.tilesGraph,x=e.location,y=e.setLocation,N=Object(h.b)().t,O=Object(m.useState)(!0),j=o()(O,2),S=j[0],A=j[1],k=Object(m.useState)(!0),z=o()(k,2),D=z[0],C=z[1],F=Object(m.useState)(!1),M=o()(F,2),R=M[0],X=M[1],T=Object(m.useState)(null),I=o()(T,2),L=I[0],Y=I[1],P=Object(m.useState)(null),V=o()(P,2),W=V[0],H=V[1],G=Object(m.useState)(""),U=o()(G,2),_=U[0],q=U[1],J=Object(m.useRef)(null),Q=Object(m.useRef)(null),B=Object(m.useState)(0),Z=o()(B,2),K=Z[0],$=Z[1];Object(m.useEffect)((function(){return document.addEventListener("mousedown",ee),function(){document.removeEventListener("mousedown",ee)}}),[]),Object(m.useEffect)((function(){var e,t,a,n,i,r;if(l=p.find((function(e){return e.id===(null==c?void 0:c.id)})),q(null!==(e=l)&&void 0!==e&&e.interval?l.interval:"1h"),Y((null===(t=l)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.length)>0?null===(a=l)||void 0===a?void 0:a.data:null),A(null===(n=l)||void 0===n?void 0:n.is_online),C(null===(i=l)||void 0===i?void 0:i.is_connected),S&&null!==(r=l)&&void 0!==r&&r.data){var s,o,u=Le()(new Date),d=Le()(null===(s=l)||void 0===s||null===(s=s.data[(null===(o=l)||void 0===o?void 0:o.data.length)-1])||void 0===s?void 0:s.time),m=u.diff(d,"minutes");$(m)}}),[p]),Object(m.useEffect)((function(){n=E.find((function(e){return e.id===(null==c?void 0:c.id)})),H(n)}),[E]),Pe.a.subscribe((function(){n=E.find((function(e){return e.id===(null==c?void 0:c.id)})),H(n)}));var ee=function(e){J.current&&!J.current.contains(e.target)&&Q.current&&!Q.current.contains(e.target)&&X(!1)},te=function(){var e=i()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(!1),e.next=3,Object(f.l)(null==c?void 0:c.id).then((function(e){console.log("res",e),r&&r(c.id)})).catch((function(e){var t,a;console.log("err",e),"permission_denied"==(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.error)||void 0===t?void 0:t.code)&&"شما اجازه انجام این دستور را ندارید."==(null==e||null===(a=e.response)||void 0===a||null===(a=a.data)||void 0===a||null===(a=a.error)||void 0===a||null===(a=a.details)||void 0===a?void 0:a.detail)&&alert.show(N("text.Youarenotauthorizedexecutecommand"),{type:"error"})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=pt[null==c||null===(t=c.sensor_type)||void 0===t?void 0:t.name],le=function(e){e.stopPropagation(),X(!0)};return v.a.createElement("section",{className:"tile-item ".concat("large"===(null==c?void 0:c.size)||"Xlarge"===(null==c?void 0:c.size)?"tile-item-large":"tile-item-medium"," ").concat(S&&D?"tile-bg-white":"tile-bg-grey")},v.a.createElement("div",{className:"tile-card position-relative ".concat("small"===(null==c?void 0:c.size)?"h-100 d-flex flex-column":"")},v.a.createElement("div",{className:"tile-header d-flex justify-content-between py-2 px-12 align-items-center border-bottom"},v.a.createElement("div",{className:"title-text h5 mb-0",title:null==c?void 0:c.title},null==c?void 0:c.title),v.a.createElement("div",{className:"icon icon-24 icon-more-vertical cursor-pointer ".concat(u?"disabled":""),ref:Q,onMouseDown:function(e){return le(e)},onTouchStart:function(e){return le(e)}})),ae&&v.a.createElement(ae,{data:c,isOnline:S,value:L,interval:_,graphValue:W,fakeValues:ft,lastUpdated:K,isConnected:D,location:x,setLocation:y,selectedTab:g}),v.a.createElement("div",{className:"tile-dropdown position-absolute px-2 bg-white "+(R?"selected":""),ref:J},"Weather"!==(null==c||null===(a=c.sensor_type)||void 0===a?void 0:a.name)&&(b.isMobile?v.a.createElement(Ye.b,{className:"d-flex tile-dropdown-item border-bottom mx-1 py-2 align-items-center",to:{pathname:"/Panel/Dashboard/AddNewTile/".concat(null==c?void 0:c.id),state:{selectedTab:g}}},v.a.createElement("div",{className:"icon icon-16 icon-edit"}),v.a.createElement("div",{className:"mr-2"},N("text.edit"))):v.a.createElement("div",{className:"d-flex tile-dropdown-item border-bottom mx-1 py-2 align-items-center",onClick:function(){return s(null==c?void 0:c.id)}},v.a.createElement("div",{className:"icon icon-16 icon-edit"}),v.a.createElement("div",{className:"mr-2"},N("text.edit")))),v.a.createElement("div",{className:"d-flex tile-dropdown-item mx-1 py-2 align-items-center",onClick:function(){Object(w.confirmAlert)({customUI:function(e){var t=e.onClose;return v.a.createElement("div",{className:"card card-box"},v.a.createElement("p",{className:"text-dark text-center ".concat(b.isMobile?"mt-3":"")},N("text.Areyousurewantdeletetile")),v.a.createElement("div",{className:"d-flex mt-4 justify-content-center"},v.a.createElement("button",{className:"button btn-primary-fill-outline py-2 px-3 col-6 mx-2 btn-primary-border text-primary bold",onClick:function(){te(),t()}},v.a.createElement("span",{className:"py-1 px-3"},N("text.Iamsure"))),v.a.createElement("button",{className:"button btn-primary-fill py-2 px-4 col-6 mr-2 bold",onClick:t},v.a.createElement("span",{className:"py-1 px-3"},N("text.cancel")))))},overlayClassName:"overlay-custom-confirm-modal"})}},v.a.createElement("div",{className:"icon icon-16 icon-delete"}),v.a.createElement("div",{className:"mr-2"},N("text.delete"))))))})),bt=l(396),ht=l(397),Et=l.n(ht),xt=l(635);function yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function Nt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var wt=Object(T.WidthProvider)(T.Responsive);y.a.setAppElement("#root");var Ot,jt={content:{height:"max-content",overflowY:b.isMobile?"auto":"unset"}},St=function(e){var t=e.tiles,a=e.selectedTab,l=e.onLayoutChange,n=e.onRemoveItem,c=e.onloadTiles,r=e.onResetLayout,s=e.isDraggable,u=e.layouts,p=e.setLayouts,E=e.setIsDraggable,x=e.location,N=e.setLocation,w=Object(h.b)().t,O=Object(m.useState)(!1),j=o()(O,2),S=j[0],A=j[1],k=Object(m.useState)(null),z=o()(k,2),D=z[0],C=z[1],F=Object(m.useState)(!1),M=o()(F,2),R=M[0],T=M[1],L=Object(m.useState)(null),Y=o()(L,2),P=Y[0],V=Y[1],W=Object(xt.useMediaQuery)({query:"(min-width: 1025px)"}),H=Object(xt.useMediaQuery)({query:"(min-width:769px )"})&&Object(xt.useMediaQuery)({query:"(max-width:1024px )"}),G=Object(xt.useMediaQuery)({query:"(min-width:426px )"})&&Object(xt.useMediaQuery)({query:"(max-width:768px )"}),U=Object(xt.useMediaQuery)({query:"(min-width:320px )"})&&Object(xt.useMediaQuery)({query:"(max-width:425px )"}),_=function(){var e=i()(d.a.mark((function e(t){var l,n,i,r,s,o,u,m,v,p,g;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(!0),l=null,e.prev=2,!D){e.next=10;break}return e.next=6,Object(f.ob)(t,D.id);case 6:l=e.sent,q(t),e.next=14;break;case 10:return e.next=12,Object(f.c)(t,a.id);case 12:(l=e.sent)&&(n={},b.isMobile?i="xxs":b.isTablet?i="sm":!b.isDesktop||(i="lg"),r=JSON.parse(Et.a.get("position-".concat(a.id)))[i],Object(bt.a)(l.data.status),s=[Nt(Nt({},l.data.status),{},{i:JSON.stringify(l.data.id)})],r&&s&&(n=b.isMobile?{xxs:[].concat(X()(r),s)}:b.isTablet?{sm:[].concat(X()(r),s)}:(b.isDesktop,{lg:[].concat(X()(r),s)})),Et.a.set("position-".concat(a.id),JSON.stringify(n),{expires:5110}));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),403===(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.status)?("Max_tile_error"==(null===e.t0||void 0===e.t0||null===(u=e.t0.response)||void 0===u||null===(u=u.data)||void 0===u||null===(u=u.error)||void 0===u?void 0:u.code)?alert.show(w("text.YourservicedoesnothaveabilitycreatetilestabmorethanlimitContactsupport"),{type:"error"}):"permission_denied"==(null===e.t0||void 0===e.t0||null===(m=e.t0.response)||void 0===m||null===(m=m.data)||void 0===m||null===(m=m.error)||void 0===m?void 0:m.code)&&"شما اجازه انجام این دستور را ندارید."==(null===e.t0||void 0===e.t0||null===(v=e.t0.response)||void 0===v||null===(v=v.data)||void 0===v||null===(v=v.error)||void 0===v||null===(v=v.details)||void 0===v?void 0:v.detail)&&alert.show(w("text.Youarenotauthorizedexecutecommand"),{type:"error"}),A(!1)):null!==e.t0&&void 0!==e.t0&&null!==(p=e.t0.response)&&void 0!==p&&null!==(p=p.data)&&void 0!==p&&null!==(p=p.error)&&void 0!==p&&null!==(p=p.details)&&void 0!==p&&p.title?V({title:[w("text.maximumfieldlengthis24characters"),"مطمعن شوید طول این مقدار بیشتر از 24 نیست."]}):V(null===e.t0||void 0===e.t0||null===(g=e.t0.response)||void 0===g||null===(g=g.data)||void 0===g||null===(g=g.error)||void 0===g?void 0:g.details);case 19:T(!1),l&&(B(),c(),alert.show("".concat(w(D?"text.Editedsuccessfully":"text.Addedsuccessfully")),{type:"success"}));case 21:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}(),q=function(e){var t=JSON.parse(Et.a.get("position-".concat(a.id)));Object(bt.a)(e.status),Object.values(t).map((function(t){if(t.length>0){var a=t.findIndex((function(e){return e.i===D.id.toString()}));t[a].w=e.status.w,t[a].h=e.status.h}})),Et.a.set("position-".concat(a.id),JSON.stringify(t),{expires:5110}),p(t)},J=function(e){Object(f.L)(e).then((function(e){C(e),A(!0)})).catch((function(e){return console.log(e)}))},Q=function(e){n&&n(e)},B=function(){A(!1),C(null),V(null)};return v.a.createElement(v.a.Fragment,null,v.a.createElement("section",{className:"".concat(s?"card":"")},v.a.createElement(wt,{className:"layout rtl react-resizable-handle",rowHeight:160,width:860,layouts:u,onLayoutChange:function(e,t){l&&l(e,t)},isDraggable:s,breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:9,md:8,sm:6,xs:4,xxs:2},allowOverlap:!1,isResizable:!0},t.length>0&&function(){for(var e=[],l=t.sort((function(e,t){return e.status.w>t.status.w?-1:1})).sort((function(e,t){return e.status.h>t.status.h?-1:1})),n=function(){var t,n,c=l[i],r=Et.a.get("position-".concat(a.id));if(!r||(r=JSON.parse(r)),U?n="xxs":G?n="xs":H?n="sm":!W||(n="lg"),r&&r[n]&&0!==r[n].length){var o=Et.a.get("position-".concat(a.id));t=JSON.parse(o)[n].find((function(e){return parseInt(e.i)===c.id}))}else{var u;t=Nt(Nt({},t=null===(u=l[i])||void 0===u?void 0:u.status),{},{i:c.id}),Object(bt.a)(t)}e.push(v.a.createElement("div",{key:null==c?void 0:c.id,"data-grid":t},v.a.createElement(gt,{data:c,key:c.id,onRemoveItem:Q,onEdit:J,isDraggable:s,selectedTab:a.id,location:x,setLocation:N})))},i=0;i<l.length;i++)n();return e}()),s&&v.a.createElement("div",{className:"d-flex justify-content-end mt-3 px-2 pb-4"},v.a.createElement(g.a,{className:"d-flex button btn-primary-fill height-auto py-1 px-4 justify-content-center align-items-center ml-1",handler:function(){return E(!1)}},v.a.createElement("span",null,w("text.save"))),v.a.createElement(g.a,{className:"d-flex button btn-primary-outline btn-primary-border height-auto px-4 py-1 justify-content-center ml-1 align-items-center",handler:r},v.a.createElement("span",{className:""},w("text.cancel")))),!s&&(null==a?void 0:a.id)&&(b.isMobile?v.a.createElement(Ye.b,{className:"tile-item mt-2 add-tile d-flex align-items-center justify-content-center",to:{pathname:"/Panel/Dashboard/AddNewTile",state:{selectedTab:a.id}}},v.a.createElement("i",{className:"icon icon-48 icon-plus-primary"})):v.a.createElement("section",{className:"tile-item mt-2 add-tile d-flex align-items-center justify-content-center",onClick:function(){return A(!0)}},v.a.createElement("i",{className:"icon icon-24 icon-plus-primary"})))),v.a.createElement(y.a,{isOpen:S,contentLabel:"اضافه کردن تایل",className:"position-unset bg-white",onRequestClose:B,shouldCloseOnOverlayClick:!0,style:jt},v.a.createElement(I.a,{onSave:function(e){_(e)},onClose:B,isLoading:R,tile:D,errors:P})))},At=l(796),kt=l(5);function zt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function Dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.default=Object(p.b)(null,(function(e){return{setTilesData:function(t){return e({type:kt.j,payload:t})},setTileData:function(t){return e({type:kt.k,payload:t})},addTile:function(t){return e({type:kt.b,payload:t})},addGraph:function(t){return e({type:kt.i,payload:t})},updateGraph:function(t){return e({type:kt.l,payload:t})},resetGraph:function(){return e({type:kt.h})}}}))((function(e){var t,a=e.setTilesData,l=e.setTileData,n=(e.addTile,e.resetGraph),c=e.addGraph,r=e.updateGraph,s=Object(m.useState)([]),u=o()(s,2),p=u[0],g=u[1],h=Object(m.useState)({}),E=o()(h,2),x=E[0],y=E[1],N=Object(m.useState)([]),w=o()(N,2),O=w[0],j=w[1],S=Object(m.useState)(!1),A=o()(S,2),k=A[0],z=A[1],D=Object(m.useState)({}),C=o()(D,2),F=C[0],R=C[1],X=Object(m.useState)({}),T=o()(X,2),I=T[0],L=T[1],Y=Object(m.useState)(null),P=o()(Y,2),V=P[0],W=P[1],H=Object(m.useState)(null),G=o()(H,2),U=G[0],_=G[1],q=Object(xt.useMediaQuery)({query:"(min-width: 1025px)"}),J=Object(xt.useMediaQuery)({query:"(min-width:769px )"})&&Object(xt.useMediaQuery)({query:"(max-width:1024px )"}),Q=Object(xt.useMediaQuery)({query:"(min-width:426px )"})&&Object(xt.useMediaQuery)({query:"(max-width:768px )"}),B=Object(xt.useMediaQuery)({query:"(min-width:320px )"})&&Object(xt.useMediaQuery)({query:"(max-width:425px )"});Object(m.useEffect)((function(){Ot=setInterval((function(){null==O||O.map((function(e){"large"===e.size&&Object(f.N)(null==e?void 0:e.id).then((function(e){r(e)})).catch((function(e){return console.log(e)}))}))}),12e4)}),[O]),Object(m.useEffect)((function(){return Z(),function(){clearTimeout(Ot)}}),[]),Object(m.useEffect)((function(){return U&&(U.onopen=function(e){var t;U.send(JSON.stringify({tab_id:null===(t=p[0])||void 0===t?void 0:t.id}))},U.onmessage=function(e){var t=JSON.parse(e.data);null!=t&&t.id&&l(t)},U.onclose=function(e){setTimeout((function(){_(new WebSocket("wss://viranique.com/ws/monitoring/".concat(localStorage.getItem("token"),"/")))}),1e3)}),function(){U&&U.close()}}),[U]),Object(m.useEffect)((function(){null!=x&&x.id&&(n(),W(null!=x&&x.location?null==x?void 0:x.location:null),K(),1===U.readyState&&U.send(JSON.stringify({tab_id:null==x?void 0:x.id})))}),[x]),Object(m.useEffect)((function(){n(),O.map((function(e){Object(f.M)(e.id).then((function(e){l(e)})).catch((function(e){return console.log(e)})),"large"===e.size&&Object(f.N)(null==e?void 0:e.id).then((function(e){c(e)})).catch((function(e){return console.log(e)}))}))}),[O]),Object(m.useEffect)((function(){var e,a={};t=Et.a.get("position-".concat(x.id)),B?e="xxs":Q?e="xs":J?e="sm":!q||(e="lg"),t&&(t=JSON.parse(Et.a.get("position-".concat(x.id))),Object.values(t).map((function(e){t=e.map((function(e,t){var a=O.find((function(t){return t.id.toString()===e.i}));return(null==a?void 0:a.status)&&Object(bt.a)(null==a?void 0:a.status),Dt(Dt({},e),{},{w:null==a?void 0:a.status.w,h:null==a?void 0:a.status.h})}))}))),t&&(a[e]=t,Et.a.set("position-".concat(x.id),JSON.stringify(a),{expires:5110}),R(a))}),[O,t]);var Z=function(){var e=i()(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.K)();case 2:t=e.sent,_(new WebSocket("wss://viranique.com/ws/monitoring/".concat(localStorage.getItem("token"),"/"))),t&&(g(t),y(t[0]));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=i()(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.O)(null==x?void 0:x.id);case 2:(t=e.sent)&&(j(t),a(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(e,t){R(t),Et.a.set("position-".concat(x.id),JSON.stringify(t),{expires:5110})},ee=function(){Et.a.set("position-".concat(x.id),JSON.stringify(I),{expires:5110}),R(I),z(!1)};Object(m.useEffect)((function(){k&&0!==Object.keys(I).length&&ee()}),[x]);return v.a.createElement("div",{className:""},v.a.createElement(M,{tabs:p,onLoadTabs:Z,onEditLayout:function(){L(F),z(!0)},isDraggable:k,onClick:function(e){return function(e){z(!1),y(e)}(e)},selectedTab:x,onArrange:function(e){var t;B?t="xxs":Q?t="xs":J?t="sm":!q||(t="lg");var a={},l=[],n=[],i=[],c=[],r=[];O.map((function(e){4==e.status.w&&2==e.status.h&&c.push(e),2==e.status.w&&2==e.status.h&&i.push(e),2==e.status.w&&1==e.status.h&&n.push(e),1==e.status.w&&1==e.status.h&&l.push(e)}));var s=0,o=0;if("lg"==t){O&&console.log(F),c.map((function(e){r.push({w:e.status.w,h:e.status.h,x:s,y:o,i:e.id,moved:!1,static:!1}),s<=2?s+=4:(o+=2,s=0)})),i.map((function(e){r.push({w:e.status.w,h:e.status.h,x:s,y:o,i:e.id,moved:!1,static:!1}),s<=4?s+=2:(o+=2,s=0)})),n.map((function(e){r.push({w:e.status.w,h:e.status.h,x:s,y:o,i:e.id,moved:!1,static:!1}),s<=4&&o%2!=0?(s+=2,o-=1):s<=4&&o%2==0?o+=1:s>4&&o%2!=0?(o+=1,s=0):s>4&&o%2==0&&(o+=1)}));var u=0;l.map((function(e){console.log("iy:",o,"ix:",s),o>1?(console.log("intoIFl","iy:",o,"ix:",s),o%2!=0&&o-1>u?(console.log("iyPrev:",u,o),r.push({w:e.status.w,h:e.status.h,x:8,y:u,i:e.id,moved:!1,static:!1}),u++):o%2==0&&o-1>=u?(r.push({w:e.status.w,h:e.status.h,x:8,y:u,i:e.id,moved:!1,static:!1}),u++):(console.log("intoELSE","iy:",o,"ix:",s),r.push({w:e.status.w,h:e.status.h,x:s,y:o,i:e.id,moved:!1,static:!1}),s<=7&&o%2!=0?s+=1:o%2==0?o+=1:(o+=1,s=0))):(r.push({w:e.status.w,h:e.status.h,x:s,y:o,i:e.id,moved:!1,static:!1}),s<=7&&o%2!=0?s+=1:o%2==0?o+=1:(o+=1,s=0))}))}else{O&&console.log(F),c.map((function(e){r.push({w:e.status.w,h:e.status.h,x:s,y:o,i:e.id,moved:!1,static:!1}),o+=2,s=0})),i.map((function(e){r.push({w:e.status.w,h:e.status.h,x:s,y:o,i:e.id,moved:!1,static:!1}),s<=2?s+=2:(o+=2,s=0)})),n.map((function(e){r.push({w:e.status.w,h:e.status.h,x:s,y:o,i:e.id,moved:!1,static:!1}),s<=2&&o%2!=0?(s+=2,o-=1):s<=2&&o%2==0?o+=1:s>2&&o%2!=0?(o+=1,s=0):s>2&&o%2==0&&(o+=1)}));l.map((function(e){s<=5&&o%2!=0?s+=1:o%2==0?o+=1:(o+=1,s=0),r.push({w:e.status.w,h:e.status.h,x:s,y:o,i:e.id,moved:!1,static:!1})}))}a[t]=r,$(0,a)}}),v.a.createElement("div",{className:"row mt-3 overflow-auto height-custom ".concat(b.isMobile?"pb-5":"")},v.a.createElement("div",{className:"col-xl-12 col-sm-12"},v.a.createElement(St,{tiles:O,selectedTab:x,useCSSTransforms:!0,onRemoveItem:function(e){j(Object(At.reject)(O,{id:e}))},onLayoutChange:$,onloadTiles:K,onResetLayout:ee,isDraggable:k,setIsDraggable:z,layouts:F,setLayouts:R,location:V,setLocation:W}))))}))}}]);